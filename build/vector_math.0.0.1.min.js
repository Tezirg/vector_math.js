!function t(e,a,o){function r(s,i){if(!a[s]){if(!e[s]){var x="function"==typeof require&&require;if(!i&&x)return x(s,!0);if(n)return n(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=a[s]={exports:{}};e[s][0].call(h.exports,function(t){var a=e[s][1][t];return r(a||t)},h,h.exports,t,e,a,o)}return a[s].exports}for(var n="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,e,a){"use strict";var o=t("object-keys"),r=t("foreach"),n="function"==typeof Symbol&&"symbol"==typeof Symbol(),s=Object.prototype.toString,i=Object.defineProperty&&function(){var t={};try{for(var e in Object.defineProperty(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),x=function(t,e,a,o){var r;e in t&&("function"!=typeof(r=o)||"[object Function]"!==s.call(r)||!o())||(i?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:a,writable:!0}):t[e]=a)},c=function(t,e){var a=arguments.length>2?arguments[2]:{},s=o(e);n&&(s=s.concat(Object.getOwnPropertySymbols(e))),r(s,function(o){x(t,o,e[o],a[o])})};c.supportsDescriptors=!!i,e.exports=c},{foreach:2,"object-keys":3}],2:[function(t,e,a){var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(t,e,a){if("[object Function]"!==r.call(e))throw new TypeError("iterator must be a function");var n=t.length;if(n===+n)for(var s=0;s<n;s++)e.call(a,t[s],s,t);else for(var i in t)o.call(t,i)&&e.call(a,t[i],i,t)}},{}],3:[function(t,e,a){"use strict";var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Array.prototype.slice,s=t("./isArguments"),i=Object.prototype.propertyIsEnumerable,x=!i.call({toString:null},"toString"),c=i.call(function(){},"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var e=t.constructor;return e&&e.prototype===t},g={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!g["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{l(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),d=function(t){var e=null!==t&&"object"==typeof t,a="[object Function]"===r.call(t),n=s(t),i=e&&"[object String]"===r.call(t),g=[];if(!e&&!a&&!n)throw new TypeError("Object.keys called on a non-object");var d=c&&a;if(i&&t.length>0&&!o.call(t,0))for(var m=0;m<t.length;++m)g.push(String(m));if(n&&t.length>0)for(var L=0;L<t.length;++L)g.push(String(L));else for(var I in t)d&&"prototype"===I||!o.call(t,I)||g.push(String(I));if(x)for(var f=function(t){if("undefined"==typeof window||!u)return l(t);try{return l(t)}catch(t){return!1}}(t),p=0;p<h.length;++p)f&&"constructor"===h[p]||!o.call(t,h[p])||g.push(h[p]);return g};d.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return s(e)?t(n.call(e)):t(e)}}}else Object.keys=d;return Object.keys||d},e.exports=d},{"./isArguments":4}],4:[function(t,e,a){"use strict";var o=Object.prototype.toString;e.exports=function(t){var e=o.call(t),a="[object Arguments]"===e;return a||(a="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===o.call(t.callee)),a}},{}],5:[function(t,e,a){(function(t){e.exports=function(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:Function("return this")()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,a){var o=t("./simd"),r=t("define-properties"),n={};o(n);var s=n.SIMD,i=t("./getGlobal");r(s,{shim:function(){var t=i();return r(t,{SIMD:s},{SIMD:function(){return t.SIMD&&"function"!=typeof t.SIMD.float32x4.extractLane}}),t.SIMD||s}}),e.exports=s},{"./getGlobal":5,"./simd":7,"define-properties":1}],7:[function(t,e,a){e.exports=function(t){void 0===t.SIMD&&(t.SIMD={});var e,a,o=t.SIMD,r=new Float32Array(4),n=new Float64Array(r.buffer),s=new Int32Array(r.buffer),i=new Int16Array(r.buffer),x=new Int8Array(r.buffer);function c(t){return(0|t)===t}function h(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function l(t,e){return t!=t?e:e!=e?t:Math.min(t,e)}function g(t,e){return t!=t?e:e!=e?t:Math.max(t,e)}function u(t){if(t>-2147483649&&t<2147483648)return 0|t;throw new RangeError("Conversion from floating-point to integer failed")}function d(t){return function(e){if(!c(e))throw new TypeError("lane index must be an int32");if(e<0||e>=t)throw new RangeError("lane index must be in bounds")}}void 0!==Math.fround?a=Math.fround:(e=new Float32Array(1),a=function(t){return e[0]=t,e[0]});var m=d(2),L=d(4),I=d(8),f=d(16),p=d(32);function y(t){t=o.Float64x2.check(t),n[0]=o.Float64x2.extractLane(t,0),n[1]=o.Float64x2.extractLane(t,1)}function F(t){t=o.Float32x4.check(t),r[0]=o.Float32x4.extractLane(t,0),r[1]=o.Float32x4.extractLane(t,1),r[2]=o.Float32x4.extractLane(t,2),r[3]=o.Float32x4.extractLane(t,3)}function _(t){t=o.Int32x4.check(t),s[0]=o.Int32x4.extractLane(t,0),s[1]=o.Int32x4.extractLane(t,1),s[2]=o.Int32x4.extractLane(t,2),s[3]=o.Int32x4.extractLane(t,3)}function v(t){t=o.Int16x8.check(t),i[0]=o.Int16x8.extractLane(t,0),i[1]=o.Int16x8.extractLane(t,1),i[2]=o.Int16x8.extractLane(t,2),i[3]=o.Int16x8.extractLane(t,3),i[4]=o.Int16x8.extractLane(t,4),i[5]=o.Int16x8.extractLane(t,5),i[6]=o.Int16x8.extractLane(t,6),i[7]=o.Int16x8.extractLane(t,7)}function B(t){t=o.Int8x16.check(t),x[0]=o.Int8x16.extractLane(t,0),x[1]=o.Int8x16.extractLane(t,1),x[2]=o.Int8x16.extractLane(t,2),x[3]=o.Int8x16.extractLane(t,3),x[4]=o.Int8x16.extractLane(t,4),x[5]=o.Int8x16.extractLane(t,5),x[6]=o.Int8x16.extractLane(t,6),x[7]=o.Int8x16.extractLane(t,7),x[8]=o.Int8x16.extractLane(t,8),x[9]=o.Int8x16.extractLane(t,9),x[10]=o.Int8x16.extractLane(t,10),x[11]=o.Int8x16.extractLane(t,11),x[12]=o.Int8x16.extractLane(t,12),x[13]=o.Int8x16.extractLane(t,13),x[14]=o.Int8x16.extractLane(t,14),x[15]=o.Int8x16.extractLane(t,15)}function M(){var t=n;return o.Float64x2(t[0],t[1])}function b(){var t=r;return o.Float32x4(t[0],t[1],t[2],t[3])}function w(){var t=s;return o.Int32x4(t[0],t[1],t[2],t[3])}function S(){var t=i;return o.Int16x8(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7])}function z(){var t=x;return o.Int8x16(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}void 0===o.Bool64x2&&(o.Bool64x2=function(t,e){if(!(this instanceof o.Bool64x2))return new o.Bool64x2(t,e);this.x_=!!t,this.y_=!!e}),void 0===o.Bool64x2.check&&(o.Bool64x2.check=function(t){if(!(t instanceof o.Bool64x2))throw new TypeError("argument is not a bool64x2.");return t}),void 0===o.Bool64x2.splat&&(o.Bool64x2.splat=function(t){return o.Bool64x2(t,t)}),void 0===o.Bool64x2.extractLane&&(o.Bool64x2.extractLane=function(t,e){switch(t=o.Bool64x2.check(t),m(e),e){case 0:return t.x_;case 1:return t.y_}}),void 0===o.Bool64x2.replaceLane&&(o.Bool64x2.replaceLane=function(t,e,a){return t=o.Bool64x2.check(t),m(e),0==e?o.Bool64x2(a,o.Bool64x2.extractLane(t,1)):o.Bool64x2(o.Bool64x2.extractLane(t,0),a)}),void 0===o.Bool64x2.allTrue&&(o.Bool64x2.allTrue=function(t){return t=o.Bool64x2.check(t),o.Bool64x2.extractLane(t,0)&&o.Bool64x2.extractLane(t,1)}),void 0===o.Bool64x2.anyTrue&&(o.Bool64x2.anyTrue=function(t){return t=o.Bool64x2.check(t),o.Bool64x2.extractLane(t,0)||o.Bool64x2.extractLane(t,1)}),void 0===o.Bool64x2.and&&(o.Bool64x2.and=function(t,e){return t=o.Bool64x2.check(t),e=o.Bool64x2.check(e),o.Bool64x2(o.Bool64x2.extractLane(t,0)&o.Bool64x2.extractLane(e,0),o.Bool64x2.extractLane(t,1)&o.Bool64x2.extractLane(e,1))}),void 0===o.Bool64x2.or&&(o.Bool64x2.or=function(t,e){return t=o.Bool64x2.check(t),e=o.Bool64x2.check(e),o.Bool64x2(o.Bool64x2.extractLane(t,0)|o.Bool64x2.extractLane(e,0),o.Bool64x2.extractLane(t,1)|o.Bool64x2.extractLane(e,1))}),void 0===o.Bool64x2.xor&&(o.Bool64x2.xor=function(t,e){return t=o.Bool64x2.check(t),e=o.Bool64x2.check(e),o.Bool64x2(o.Bool64x2.extractLane(t,0)^o.Bool64x2.extractLane(e,0),o.Bool64x2.extractLane(t,1)^o.Bool64x2.extractLane(e,1))}),void 0===o.Bool64x2.not&&(o.Bool64x2.not=function(t){return t=o.Bool64x2.check(t),o.Bool64x2(!o.Bool64x2.extractLane(t,0),!o.Bool64x2.extractLane(t,1))}),void 0===o.Bool64x2.equal&&(o.Bool64x2.equal=function(t,e){return t=o.Bool64x2.check(t),e=o.Bool64x2.check(e),o.Bool64x2(o.Bool64x2.extractLane(t,0)==o.Bool64x2.extractLane(e,0),o.Bool64x2.extractLane(t,1)==o.Bool64x2.extractLane(e,1))}),void 0===o.Bool64x2.notEqual&&(o.Bool64x2.notEqual=function(t,e){return t=o.Bool64x2.check(t),e=o.Bool64x2.check(e),o.Bool64x2(o.Bool64x2.extractLane(t,0)!=o.Bool64x2.extractLane(e,0),o.Bool64x2.extractLane(t,1)!=o.Bool64x2.extractLane(e,1))}),void 0===o.Bool64x2.select&&(o.Bool64x2.select=function(t,e,a){t=o.Bool64x2.check(t),e=o.Bool64x2.check(e),a=o.Bool64x2.check(a);var r=o.Bool64x2.and(t,e),n=o.Bool64x2.and(o.Bool64x2.not(t),a);return o.Bool64x2.or(r,n)}),void 0===o.Bool32x4&&(o.Bool32x4=function(t,e,a,r){if(!(this instanceof o.Bool32x4))return new o.Bool32x4(t,e,a,r);this.x_=!!t,this.y_=!!e,this.z_=!!a,this.w_=!!r}),void 0===o.Bool32x4.check&&(o.Bool32x4.check=function(t){if(!(t instanceof o.Bool32x4))throw new TypeError("argument is not a Bool32x4.");return t}),void 0===o.Bool32x4.splat&&(o.Bool32x4.splat=function(t){return o.Bool32x4(t,t,t,t)}),void 0===o.Bool32x4.extractLane&&(o.Bool32x4.extractLane=function(t,e){switch(t=o.Bool32x4.check(t),L(e),e){case 0:return t.x_;case 1:return t.y_;case 2:return t.z_;case 3:return t.w_}}),void 0===o.Bool32x4.replaceLane&&(o.Bool32x4.replaceLane=function(t,e,a){var r,n;return t=o.Bool32x4.check(t),L(e),r=t,r=o.Bool32x4.check(r),s[0]=o.Bool32x4.extractLane(r,0),s[1]=o.Bool32x4.extractLane(r,1),s[2]=o.Bool32x4.extractLane(r,2),s[3]=o.Bool32x4.extractLane(r,3),s[e]=a,n=s,o.Bool32x4(n[0],n[1],n[2],n[3])}),void 0===o.Bool32x4.allTrue&&(o.Bool32x4.allTrue=function(t){return t=o.Bool32x4.check(t),o.Bool32x4.extractLane(t,0)&&o.Bool32x4.extractLane(t,1)&&o.Bool32x4.extractLane(t,2)&&o.Bool32x4.extractLane(t,3)}),void 0===o.Bool32x4.anyTrue&&(o.Bool32x4.anyTrue=function(t){return t=o.Bool32x4.check(t),o.Bool32x4.extractLane(t,0)||o.Bool32x4.extractLane(t,1)||o.Bool32x4.extractLane(t,2)||o.Bool32x4.extractLane(t,3)}),void 0===o.Bool32x4.and&&(o.Bool32x4.and=function(t,e){return t=o.Bool32x4.check(t),e=o.Bool32x4.check(e),o.Bool32x4(o.Bool32x4.extractLane(t,0)&o.Bool32x4.extractLane(e,0),o.Bool32x4.extractLane(t,1)&o.Bool32x4.extractLane(e,1),o.Bool32x4.extractLane(t,2)&o.Bool32x4.extractLane(e,2),o.Bool32x4.extractLane(t,3)&o.Bool32x4.extractLane(e,3))}),void 0===o.Bool32x4.or&&(o.Bool32x4.or=function(t,e){return t=o.Bool32x4.check(t),e=o.Bool32x4.check(e),o.Bool32x4(o.Bool32x4.extractLane(t,0)|o.Bool32x4.extractLane(e,0),o.Bool32x4.extractLane(t,1)|o.Bool32x4.extractLane(e,1),o.Bool32x4.extractLane(t,2)|o.Bool32x4.extractLane(e,2),o.Bool32x4.extractLane(t,3)|o.Bool32x4.extractLane(e,3))}),void 0===o.Bool32x4.xor&&(o.Bool32x4.xor=function(t,e){return t=o.Bool32x4.check(t),e=o.Bool32x4.check(e),o.Bool32x4(o.Bool32x4.extractLane(t,0)^o.Bool32x4.extractLane(e,0),o.Bool32x4.extractLane(t,1)^o.Bool32x4.extractLane(e,1),o.Bool32x4.extractLane(t,2)^o.Bool32x4.extractLane(e,2),o.Bool32x4.extractLane(t,3)^o.Bool32x4.extractLane(e,3))}),void 0===o.Bool32x4.not&&(o.Bool32x4.not=function(t){return t=o.Bool32x4.check(t),o.Bool32x4(!o.Bool32x4.extractLane(t,0),!o.Bool32x4.extractLane(t,1),!o.Bool32x4.extractLane(t,2),!o.Bool32x4.extractLane(t,3))}),void 0===o.Bool32x4.equal&&(o.Bool32x4.equal=function(t,e){return t=o.Bool32x4.check(t),e=o.Bool32x4.check(e),o.Bool32x4(o.Bool32x4.extractLane(t,0)==o.Bool32x4.extractLane(e,0),o.Bool32x4.extractLane(t,1)==o.Bool32x4.extractLane(e,1),o.Bool32x4.extractLane(t,2)==o.Bool32x4.extractLane(e,2),o.Bool32x4.extractLane(t,3)==o.Bool32x4.extractLane(e,3))}),void 0===o.Bool32x4.notEqual&&(o.Bool32x4.notEqual=function(t,e){return t=o.Bool32x4.check(t),e=o.Bool32x4.check(e),o.Bool32x4(o.Bool32x4.extractLane(t,0)!=o.Bool32x4.extractLane(e,0),o.Bool32x4.extractLane(t,1)!=o.Bool32x4.extractLane(e,1),o.Bool32x4.extractLane(t,2)!=o.Bool32x4.extractLane(e,2),o.Bool32x4.extractLane(t,3)!=o.Bool32x4.extractLane(e,3))}),void 0===o.Bool32x4.select&&(o.Bool32x4.select=function(t,e,a){t=o.Bool32x4.check(t),e=o.Bool32x4.check(e),a=o.Bool32x4.check(a);var r=o.Bool32x4.and(t,e),n=o.Bool32x4.and(o.Bool32x4.not(t),a);return o.Bool32x4.or(r,n)}),void 0===o.Bool16x8&&(o.Bool16x8=function(t,e,a,r,n,s,i,x){if(!(this instanceof o.Bool16x8))return new o.Bool16x8(t,e,a,r,n,s,i,x);this.s0_=!!t,this.s1_=!!e,this.s2_=!!a,this.s3_=!!r,this.s4_=!!n,this.s5_=!!s,this.s6_=!!i,this.s7_=!!x}),void 0===o.Bool16x8.check&&(o.Bool16x8.check=function(t){if(!(t instanceof o.Bool16x8))throw new TypeError("argument is not a Bool16x8.");return t}),void 0===o.Bool16x8.splat&&(o.Bool16x8.splat=function(t){return o.Bool16x8(t,t,t,t,t,t,t,t)}),void 0===o.Bool16x8.extractLane&&(o.Bool16x8.extractLane=function(t,e){switch(t=o.Bool16x8.check(t),I(e),e){case 0:return t.s0_;case 1:return t.s1_;case 2:return t.s2_;case 3:return t.s3_;case 4:return t.s4_;case 5:return t.s5_;case 6:return t.s6_;case 7:return t.s7_}}),void 0===o.Bool16x8.replaceLane&&(o.Bool16x8.replaceLane=function(t,e,a){var r,n;return t=o.Bool16x8.check(t),I(e),r=t,r=o.Bool16x8.check(r),i[0]=o.Bool16x8.extractLane(r,0),i[1]=o.Bool16x8.extractLane(r,1),i[2]=o.Bool16x8.extractLane(r,2),i[3]=o.Bool16x8.extractLane(r,3),i[4]=o.Bool16x8.extractLane(r,4),i[5]=o.Bool16x8.extractLane(r,5),i[6]=o.Bool16x8.extractLane(r,6),i[7]=o.Bool16x8.extractLane(r,7),i[e]=a,n=i,o.Bool16x8(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7])}),void 0===o.Bool16x8.allTrue&&(o.Bool16x8.allTrue=function(t){return t=o.Bool16x8.check(t),o.Bool16x8.extractLane(t,0)&&o.Bool16x8.extractLane(t,1)&&o.Bool16x8.extractLane(t,2)&&o.Bool16x8.extractLane(t,3)&&o.Bool16x8.extractLane(t,4)&&o.Bool16x8.extractLane(t,5)&&o.Bool16x8.extractLane(t,6)&&o.Bool16x8.extractLane(t,7)}),void 0===o.Bool16x8.anyTrue&&(o.Bool16x8.anyTrue=function(t){return t=o.Bool16x8.check(t),o.Bool16x8.extractLane(t,0)||o.Bool16x8.extractLane(t,1)||o.Bool16x8.extractLane(t,2)||o.Bool16x8.extractLane(t,3)||o.Bool16x8.extractLane(t,4)||o.Bool16x8.extractLane(t,5)||o.Bool16x8.extractLane(t,6)||o.Bool16x8.extractLane(t,7)}),void 0===o.Bool16x8.and&&(o.Bool16x8.and=function(t,e){return t=o.Bool16x8.check(t),e=o.Bool16x8.check(e),o.Bool16x8(o.Bool16x8.extractLane(t,0)&o.Bool16x8.extractLane(e,0),o.Bool16x8.extractLane(t,1)&o.Bool16x8.extractLane(e,1),o.Bool16x8.extractLane(t,2)&o.Bool16x8.extractLane(e,2),o.Bool16x8.extractLane(t,3)&o.Bool16x8.extractLane(e,3),o.Bool16x8.extractLane(t,4)&o.Bool16x8.extractLane(e,4),o.Bool16x8.extractLane(t,5)&o.Bool16x8.extractLane(e,5),o.Bool16x8.extractLane(t,6)&o.Bool16x8.extractLane(e,6),o.Bool16x8.extractLane(t,7)&o.Bool16x8.extractLane(e,7))}),void 0===o.Bool16x8.or&&(o.Bool16x8.or=function(t,e){return t=o.Bool16x8.check(t),e=o.Bool16x8.check(e),o.Bool16x8(o.Bool16x8.extractLane(t,0)|o.Bool16x8.extractLane(e,0),o.Bool16x8.extractLane(t,1)|o.Bool16x8.extractLane(e,1),o.Bool16x8.extractLane(t,2)|o.Bool16x8.extractLane(e,2),o.Bool16x8.extractLane(t,3)|o.Bool16x8.extractLane(e,3),o.Bool16x8.extractLane(t,4)|o.Bool16x8.extractLane(e,4),o.Bool16x8.extractLane(t,5)|o.Bool16x8.extractLane(e,5),o.Bool16x8.extractLane(t,6)|o.Bool16x8.extractLane(e,6),o.Bool16x8.extractLane(t,7)|o.Bool16x8.extractLane(e,7))}),void 0===o.Bool16x8.xor&&(o.Bool16x8.xor=function(t,e){return t=o.Bool16x8.check(t),e=o.Bool16x8.check(e),o.Bool16x8(o.Bool16x8.extractLane(t,0)^o.Bool16x8.extractLane(e,0),o.Bool16x8.extractLane(t,1)^o.Bool16x8.extractLane(e,1),o.Bool16x8.extractLane(t,2)^o.Bool16x8.extractLane(e,2),o.Bool16x8.extractLane(t,3)^o.Bool16x8.extractLane(e,3),o.Bool16x8.extractLane(t,4)^o.Bool16x8.extractLane(e,4),o.Bool16x8.extractLane(t,5)^o.Bool16x8.extractLane(e,5),o.Bool16x8.extractLane(t,6)^o.Bool16x8.extractLane(e,6),o.Bool16x8.extractLane(t,7)^o.Bool16x8.extractLane(e,7))}),void 0===o.Bool16x8.not&&(o.Bool16x8.not=function(t){return t=o.Bool16x8.check(t),o.Bool16x8(!o.Bool16x8.extractLane(t,0),!o.Bool16x8.extractLane(t,1),!o.Bool16x8.extractLane(t,2),!o.Bool16x8.extractLane(t,3),!o.Bool16x8.extractLane(t,4),!o.Bool16x8.extractLane(t,5),!o.Bool16x8.extractLane(t,6),!o.Bool16x8.extractLane(t,7))}),void 0===o.Bool16x8.equal&&(o.Bool16x8.equal=function(t,e){return t=o.Bool16x8.check(t),e=o.Bool16x8.check(e),o.Bool16x8(o.Bool16x8.extractLane(t,0)==o.Bool16x8.extractLane(e,0),o.Bool16x8.extractLane(t,1)==o.Bool16x8.extractLane(e,1),o.Bool16x8.extractLane(t,2)==o.Bool16x8.extractLane(e,2),o.Bool16x8.extractLane(t,3)==o.Bool16x8.extractLane(e,3),o.Bool16x8.extractLane(t,4)==o.Bool16x8.extractLane(e,4),o.Bool16x8.extractLane(t,5)==o.Bool16x8.extractLane(e,5),o.Bool16x8.extractLane(t,6)==o.Bool16x8.extractLane(e,6),o.Bool16x8.extractLane(t,7)==o.Bool16x8.extractLane(e,7))}),void 0===o.Bool16x8.notEqual&&(o.Bool16x8.notEqual=function(t,e){return t=o.Bool16x8.check(t),e=o.Bool16x8.check(e),o.Bool16x8(o.Bool16x8.extractLane(t,0)!=o.Bool16x8.extractLane(e,0),o.Bool16x8.extractLane(t,1)!=o.Bool16x8.extractLane(e,1),o.Bool16x8.extractLane(t,2)!=o.Bool16x8.extractLane(e,2),o.Bool16x8.extractLane(t,3)!=o.Bool16x8.extractLane(e,3),o.Bool16x8.extractLane(t,4)!=o.Bool16x8.extractLane(e,4),o.Bool16x8.extractLane(t,5)!=o.Bool16x8.extractLane(e,5),o.Bool16x8.extractLane(t,6)!=o.Bool16x8.extractLane(e,6),o.Bool16x8.extractLane(t,7)!=o.Bool16x8.extractLane(e,7))}),void 0===o.Bool16x8.select&&(o.Bool16x8.select=function(t,e,a){t=o.Bool16x8.check(t),e=o.Bool16x8.check(e),a=o.Bool16x8.check(a);var r=o.Bool16x8.and(t,e),n=o.Bool16x8.and(o.Bool16x8.not(t),a);return o.Bool16x8.or(r,n)}),void 0===o.Bool8x16&&(o.Bool8x16=function(t,e,a,r,n,s,i,x,c,h,l,g,u,d,m,L){if(!(this instanceof o.Bool8x16))return new o.Bool8x16(t,e,a,r,n,s,i,x,c,h,l,g,u,d,m,L);this.s0_=!!t,this.s1_=!!e,this.s2_=!!a,this.s3_=!!r,this.s4_=!!n,this.s5_=!!s,this.s6_=!!i,this.s7_=!!x,this.s8_=!!c,this.s9_=!!h,this.s10_=!!l,this.s11_=!!g,this.s12_=!!u,this.s13_=!!d,this.s14_=!!m,this.s15_=!!L}),void 0===o.Bool8x16.check&&(o.Bool8x16.check=function(t){if(!(t instanceof o.Bool8x16))throw new TypeError("argument is not a Bool8x16.");return t}),void 0===o.Bool8x16.splat&&(o.Bool8x16.splat=function(t){return o.Bool8x16(t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t)}),void 0===o.Bool8x16.extractLane&&(o.Bool8x16.extractLane=function(t,e){switch(t=o.Bool8x16.check(t),f(e),e){case 0:return t.s0_;case 1:return t.s1_;case 2:return t.s2_;case 3:return t.s3_;case 4:return t.s4_;case 5:return t.s5_;case 6:return t.s6_;case 7:return t.s7_;case 8:return t.s8_;case 9:return t.s9_;case 10:return t.s10_;case 11:return t.s11_;case 12:return t.s12_;case 13:return t.s13_;case 14:return t.s14_;case 15:return t.s15_}}),void 0===o.Bool8x16.replaceLane&&(o.Bool8x16.replaceLane=function(t,e,a){var r,n;return t=o.Bool8x16.check(t),f(e),r=t,r=o.Bool8x16.check(r),x[0]=o.Bool8x16.extractLane(r,0),x[1]=o.Bool8x16.extractLane(r,1),x[2]=o.Bool8x16.extractLane(r,2),x[3]=o.Bool8x16.extractLane(r,3),x[4]=o.Bool8x16.extractLane(r,4),x[5]=o.Bool8x16.extractLane(r,5),x[6]=o.Bool8x16.extractLane(r,6),x[7]=o.Bool8x16.extractLane(r,7),x[8]=o.Bool8x16.extractLane(r,8),x[9]=o.Bool8x16.extractLane(r,9),x[10]=o.Bool8x16.extractLane(r,10),x[11]=o.Bool8x16.extractLane(r,11),x[12]=o.Bool8x16.extractLane(r,12),x[13]=o.Bool8x16.extractLane(r,13),x[14]=o.Bool8x16.extractLane(r,14),x[15]=o.Bool8x16.extractLane(r,15),x[e]=a,n=x,o.Bool8x16(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])}),void 0===o.Bool8x16.allTrue&&(o.Bool8x16.allTrue=function(t){return t=o.Bool8x16.check(t),o.Bool8x16.extractLane(t,0)&&o.Bool8x16.extractLane(t,1)&&o.Bool8x16.extractLane(t,2)&&o.Bool8x16.extractLane(t,3)&&o.Bool8x16.extractLane(t,4)&&o.Bool8x16.extractLane(t,5)&&o.Bool8x16.extractLane(t,6)&&o.Bool8x16.extractLane(t,7)&&o.Bool8x16.extractLane(t,8)&&o.Bool8x16.extractLane(t,9)&&o.Bool8x16.extractLane(t,10)&&o.Bool8x16.extractLane(t,11)&&o.Bool8x16.extractLane(t,12)&&o.Bool8x16.extractLane(t,13)&&o.Bool8x16.extractLane(t,14)&&o.Bool8x16.extractLane(t,15)}),void 0===o.Bool8x16.anyTrue&&(o.Bool8x16.anyTrue=function(t){return t=o.Bool8x16.check(t),o.Bool8x16.extractLane(t,0)||o.Bool8x16.extractLane(t,1)||o.Bool8x16.extractLane(t,2)||o.Bool8x16.extractLane(t,3)||o.Bool8x16.extractLane(t,4)||o.Bool8x16.extractLane(t,5)||o.Bool8x16.extractLane(t,6)||o.Bool8x16.extractLane(t,7)||o.Bool8x16.extractLane(t,8)||o.Bool8x16.extractLane(t,9)||o.Bool8x16.extractLane(t,10)||o.Bool8x16.extractLane(t,11)||o.Bool8x16.extractLane(t,12)||o.Bool8x16.extractLane(t,13)||o.Bool8x16.extractLane(t,14)||o.Bool8x16.extractLane(t,15)}),void 0===o.Bool8x16.and&&(o.Bool8x16.and=function(t,e){return t=o.Bool8x16.check(t),e=o.Bool8x16.check(e),o.Bool8x16(o.Bool8x16.extractLane(t,0)&o.Bool8x16.extractLane(e,0),o.Bool8x16.extractLane(t,1)&o.Bool8x16.extractLane(e,1),o.Bool8x16.extractLane(t,2)&o.Bool8x16.extractLane(e,2),o.Bool8x16.extractLane(t,3)&o.Bool8x16.extractLane(e,3),o.Bool8x16.extractLane(t,4)&o.Bool8x16.extractLane(e,4),o.Bool8x16.extractLane(t,5)&o.Bool8x16.extractLane(e,5),o.Bool8x16.extractLane(t,6)&o.Bool8x16.extractLane(e,6),o.Bool8x16.extractLane(t,7)&o.Bool8x16.extractLane(e,7),o.Bool8x16.extractLane(t,8)&o.Bool8x16.extractLane(e,8),o.Bool8x16.extractLane(t,9)&o.Bool8x16.extractLane(e,9),o.Bool8x16.extractLane(t,10)&o.Bool8x16.extractLane(e,10),o.Bool8x16.extractLane(t,11)&o.Bool8x16.extractLane(e,11),o.Bool8x16.extractLane(t,12)&o.Bool8x16.extractLane(e,12),o.Bool8x16.extractLane(t,13)&o.Bool8x16.extractLane(e,13),o.Bool8x16.extractLane(t,14)&o.Bool8x16.extractLane(e,14),o.Bool8x16.extractLane(t,15)&o.Bool8x16.extractLane(e,15))}),void 0===o.Bool8x16.or&&(o.Bool8x16.or=function(t,e){return t=o.Bool8x16.check(t),e=o.Bool8x16.check(e),o.Bool8x16(o.Bool8x16.extractLane(t,0)|o.Bool8x16.extractLane(e,0),o.Bool8x16.extractLane(t,1)|o.Bool8x16.extractLane(e,1),o.Bool8x16.extractLane(t,2)|o.Bool8x16.extractLane(e,2),o.Bool8x16.extractLane(t,3)|o.Bool8x16.extractLane(e,3),o.Bool8x16.extractLane(t,4)|o.Bool8x16.extractLane(e,4),o.Bool8x16.extractLane(t,5)|o.Bool8x16.extractLane(e,5),o.Bool8x16.extractLane(t,6)|o.Bool8x16.extractLane(e,6),o.Bool8x16.extractLane(t,7)|o.Bool8x16.extractLane(e,7),o.Bool8x16.extractLane(t,8)|o.Bool8x16.extractLane(e,8),o.Bool8x16.extractLane(t,9)|o.Bool8x16.extractLane(e,9),o.Bool8x16.extractLane(t,10)|o.Bool8x16.extractLane(e,10),o.Bool8x16.extractLane(t,11)|o.Bool8x16.extractLane(e,11),o.Bool8x16.extractLane(t,12)|o.Bool8x16.extractLane(e,12),o.Bool8x16.extractLane(t,13)|o.Bool8x16.extractLane(e,13),o.Bool8x16.extractLane(t,14)|o.Bool8x16.extractLane(e,14),o.Bool8x16.extractLane(t,15)|o.Bool8x16.extractLane(e,15))}),void 0===o.Bool8x16.xor&&(o.Bool8x16.xor=function(t,e){return t=o.Bool8x16.check(t),e=o.Bool8x16.check(e),o.Bool8x16(o.Bool8x16.extractLane(t,0)^o.Bool8x16.extractLane(e,0),o.Bool8x16.extractLane(t,1)^o.Bool8x16.extractLane(e,1),o.Bool8x16.extractLane(t,2)^o.Bool8x16.extractLane(e,2),o.Bool8x16.extractLane(t,3)^o.Bool8x16.extractLane(e,3),o.Bool8x16.extractLane(t,4)^o.Bool8x16.extractLane(e,4),o.Bool8x16.extractLane(t,5)^o.Bool8x16.extractLane(e,5),o.Bool8x16.extractLane(t,6)^o.Bool8x16.extractLane(e,6),o.Bool8x16.extractLane(t,7)^o.Bool8x16.extractLane(e,7),o.Bool8x16.extractLane(t,8)^o.Bool8x16.extractLane(e,8),o.Bool8x16.extractLane(t,9)^o.Bool8x16.extractLane(e,9),o.Bool8x16.extractLane(t,10)^o.Bool8x16.extractLane(e,10),o.Bool8x16.extractLane(t,11)^o.Bool8x16.extractLane(e,11),o.Bool8x16.extractLane(t,12)^o.Bool8x16.extractLane(e,12),o.Bool8x16.extractLane(t,13)^o.Bool8x16.extractLane(e,13),o.Bool8x16.extractLane(t,14)^o.Bool8x16.extractLane(e,14),o.Bool8x16.extractLane(t,15)^o.Bool8x16.extractLane(e,15))}),void 0===o.Bool8x16.not&&(o.Bool8x16.not=function(t){return t=o.Bool8x16.check(t),o.Bool8x16(!o.Bool8x16.extractLane(t,0),!o.Bool8x16.extractLane(t,1),!o.Bool8x16.extractLane(t,2),!o.Bool8x16.extractLane(t,3),!o.Bool8x16.extractLane(t,4),!o.Bool8x16.extractLane(t,5),!o.Bool8x16.extractLane(t,6),!o.Bool8x16.extractLane(t,7),!o.Bool8x16.extractLane(t,8),!o.Bool8x16.extractLane(t,9),!o.Bool8x16.extractLane(t,10),!o.Bool8x16.extractLane(t,11),!o.Bool8x16.extractLane(t,12),!o.Bool8x16.extractLane(t,13),!o.Bool8x16.extractLane(t,14),!o.Bool8x16.extractLane(t,15))}),void 0===o.Bool8x16.equal&&(o.Bool8x16.equal=function(t,e){return t=o.Bool8x16.check(t),e=o.Bool8x16.check(e),o.Bool8x16(o.Bool8x16.extractLane(t,0)==o.Bool8x16.extractLane(e,0),o.Bool8x16.extractLane(t,1)==o.Bool8x16.extractLane(e,1),o.Bool8x16.extractLane(t,2)==o.Bool8x16.extractLane(e,2),o.Bool8x16.extractLane(t,3)==o.Bool8x16.extractLane(e,3),o.Bool8x16.extractLane(t,4)==o.Bool8x16.extractLane(e,4),o.Bool8x16.extractLane(t,5)==o.Bool8x16.extractLane(e,5),o.Bool8x16.extractLane(t,6)==o.Bool8x16.extractLane(e,6),o.Bool8x16.extractLane(t,7)==o.Bool8x16.extractLane(e,7),o.Bool8x16.extractLane(t,8)==o.Bool8x16.extractLane(e,8),o.Bool8x16.extractLane(t,9)==o.Bool8x16.extractLane(e,9),o.Bool8x16.extractLane(t,10)==o.Bool8x16.extractLane(e,10),o.Bool8x16.extractLane(t,11)==o.Bool8x16.extractLane(e,11),o.Bool8x16.extractLane(t,12)==o.Bool8x16.extractLane(e,12),o.Bool8x16.extractLane(t,13)==o.Bool8x16.extractLane(e,13),o.Bool8x16.extractLane(t,14)==o.Bool8x16.extractLane(e,14),o.Bool8x16.extractLane(t,15)==o.Bool8x16.extractLane(e,15))}),void 0===o.Bool8x16.notEqual&&(o.Bool8x16.notEqual=function(t,e){return t=o.Bool8x16.check(t),e=o.Bool8x16.check(e),o.Bool8x16(o.Bool8x16.extractLane(t,0)!=o.Bool8x16.extractLane(e,0),o.Bool8x16.extractLane(t,1)!=o.Bool8x16.extractLane(e,1),o.Bool8x16.extractLane(t,2)!=o.Bool8x16.extractLane(e,2),o.Bool8x16.extractLane(t,3)!=o.Bool8x16.extractLane(e,3),o.Bool8x16.extractLane(t,4)!=o.Bool8x16.extractLane(e,4),o.Bool8x16.extractLane(t,5)!=o.Bool8x16.extractLane(e,5),o.Bool8x16.extractLane(t,6)!=o.Bool8x16.extractLane(e,6),o.Bool8x16.extractLane(t,7)!=o.Bool8x16.extractLane(e,7),o.Bool8x16.extractLane(t,8)!=o.Bool8x16.extractLane(e,8),o.Bool8x16.extractLane(t,9)!=o.Bool8x16.extractLane(e,9),o.Bool8x16.extractLane(t,10)!=o.Bool8x16.extractLane(e,10),o.Bool8x16.extractLane(t,11)!=o.Bool8x16.extractLane(e,11),o.Bool8x16.extractLane(t,12)!=o.Bool8x16.extractLane(e,12),o.Bool8x16.extractLane(t,13)!=o.Bool8x16.extractLane(e,13),o.Bool8x16.extractLane(t,14)!=o.Bool8x16.extractLane(e,14),o.Bool8x16.extractLane(t,15)!=o.Bool8x16.extractLane(e,15))}),void 0===o.Bool8x16.select&&(o.Bool8x16.select=function(t,e,a){t=o.Bool8x16.check(t),e=o.Bool8x16.check(e),a=o.Bool8x16.check(a);var r=o.Bool8x16.and(t,e),n=o.Bool8x16.and(o.Bool8x16.not(t),a);return o.Bool8x16.or(r,n)}),void 0===o.Float32x4&&(o.Float32x4=function(t,e,r,n){if(!(this instanceof o.Float32x4))return new o.Float32x4(t,e,r,n);this.x_=a(t),this.y_=a(e),this.z_=a(r),this.w_=a(n)}),void 0===o.Float32x4.extractLane&&(o.Float32x4.extractLane=function(t,e){switch(t=o.Float32x4.check(t),L(e),e){case 0:return t.x_;case 1:return t.y_;case 2:return t.z_;case 3:return t.w_}}),void 0===o.Float32x4.replaceLane&&(o.Float32x4.replaceLane=function(t,e,a){return t=o.Float32x4.check(t),L(e),F(t),r[e]=a,b()}),void 0===o.Float32x4.check&&(o.Float32x4.check=function(t){if(!(t instanceof o.Float32x4))throw new TypeError("argument is not a Float32x4.");return t}),void 0===o.Float32x4.splat&&(o.Float32x4.splat=function(t){return o.Float32x4(t,t,t,t)}),void 0===o.Float32x4.fromFloat64x2&&(o.Float32x4.fromFloat64x2=function(t){return t=o.Float64x2.check(t),o.Float32x4(o.Float64x2.extractLane(t,0),o.Float64x2.extractLane(t,1),0,0)}),void 0===o.Float32x4.fromInt32x4&&(o.Float32x4.fromInt32x4=function(t){return t=o.Int32x4.check(t),o.Float32x4(o.Int32x4.extractLane(t,0),o.Int32x4.extractLane(t,1),o.Int32x4.extractLane(t,2),o.Int32x4.extractLane(t,3))}),void 0===o.Float32x4.fromFloat64x2Bits&&(o.Float32x4.fromFloat64x2Bits=function(t){return y(t),b()}),void 0===o.Float32x4.fromInt32x4Bits&&(o.Float32x4.fromInt32x4Bits=function(t){return _(t),b()}),void 0===o.Float32x4.fromInt16x8Bits&&(o.Float32x4.fromInt16x8Bits=function(t){return v(t),b()}),void 0===o.Float32x4.fromInt8x16Bits&&(o.Float32x4.fromInt8x16Bits=function(t){return B(t),b()}),Object.hasOwnProperty(o.Float32x4.prototype,"toString")||(o.Float32x4.prototype.toString=function(){return"Float32x4("+this.x_+", "+this.y_+", "+this.z_+", "+this.w_+")"}),Object.hasOwnProperty(o.Float32x4.prototype,"toLocaleString")||(o.Float32x4.prototype.toLocaleString=function(){return"Float32x4("+this.x_.toLocaleString()+", "+this.y_.toLocaleString()+", "+this.z_.toLocaleString()+", "+this.w_.toLocaleString()+")"}),Object.hasOwnProperty(o.Float32x4.prototype,"valueOf")||(o.Float32x4.prototype.valueOf=function(){throw new TypeError("Float32x4 cannot be converted to a number")}),void 0===o.Float64x2&&(o.Float64x2=function(t,e){if(!(this instanceof o.Float64x2))return new o.Float64x2(t,e);this.x_=+t,this.y_=+e}),void 0===o.Float64x2.extractLane&&(o.Float64x2.extractLane=function(t,e){switch(t=o.Float64x2.check(t),m(e),e){case 0:return t.x_;case 1:return t.y_}}),void 0===o.Float64x2.replaceLane&&(o.Float64x2.replaceLane=function(t,e,a){return t=o.Float64x2.check(t),m(e),y(t),n[e]=a,M()}),void 0===o.Float64x2.check&&(o.Float64x2.check=function(t){if(!(t instanceof o.Float64x2))throw new TypeError("argument is not a Float64x2.");return t}),void 0===o.Float64x2.splat&&(o.Float64x2.splat=function(t){return o.Float64x2(t,t)}),void 0===o.Float64x2.fromFloat32x4&&(o.Float64x2.fromFloat32x4=function(t){return t=o.Float32x4.check(t),o.Float64x2(o.Float32x4.extractLane(t,0),o.Float32x4.extractLane(t,1))}),void 0===o.Float64x2.fromInt32x4&&(o.Float64x2.fromInt32x4=function(t){return t=o.Int32x4.check(t),o.Float64x2(o.Int32x4.extractLane(t,0),o.Int32x4.extractLane(t,1))}),void 0===o.Float64x2.fromFloat32x4Bits&&(o.Float64x2.fromFloat32x4Bits=function(t){return F(t),M()}),void 0===o.Float64x2.fromInt32x4Bits&&(o.Float64x2.fromInt32x4Bits=function(t){return _(t),M()}),void 0===o.Float64x2.fromInt16x8Bits&&(o.Float64x2.fromInt16x8Bits=function(t){return v(t),M()}),void 0===o.Float64x2.fromInt8x16Bits&&(o.Float64x2.fromInt8x16Bits=function(t){return B(t),M()}),Object.hasOwnProperty(o.Float64x2.prototype,"toString")||(o.Float64x2.prototype.toString=function(){return"Float64x2("+this.x_+", "+this.y_+")"}),Object.hasOwnProperty(o.Float64x2.prototype,"toLocaleString")||(o.Float64x2.prototype.toLocaleString=function(){return"Float64x2("+this.x_.toLocaleString()+", "+this.y_.toLocaleString()+")"}),Object.hasOwnProperty(o.Float64x2.prototype,"valueOf")||(o.Float64x2.prototype.valueOf=function(){throw new TypeError("Float64x2 cannot be converted to a number")}),void 0===o.Int32x4&&(o.Int32x4=function(t,e,a,r){if(!(this instanceof o.Int32x4))return new o.Int32x4(t,e,a,r);this.x_=0|t,this.y_=0|e,this.z_=0|a,this.w_=0|r}),void 0===o.Int32x4.extractLane&&(o.Int32x4.extractLane=function(t,e){switch(t=o.Int32x4.check(t),L(e),e){case 0:return t.x_;case 1:return t.y_;case 2:return t.z_;case 3:return t.w_}}),void 0===o.Int32x4.replaceLane&&(o.Int32x4.replaceLane=function(t,e,a){return t=o.Int32x4.check(t),L(e),_(t),s[e]=a,w()}),void 0===o.Int32x4.check&&(o.Int32x4.check=function(t){if(!(t instanceof o.Int32x4))throw new TypeError("argument is not a Int32x4.");return t}),void 0===o.Int32x4.splat&&(o.Int32x4.splat=function(t){return o.Int32x4(t,t,t,t)}),void 0===o.Int32x4.fromFloat32x4&&(o.Int32x4.fromFloat32x4=function(t){return t=o.Float32x4.check(t),o.Int32x4(u(o.Float32x4.extractLane(t,0)),u(o.Float32x4.extractLane(t,1)),u(o.Float32x4.extractLane(t,2)),u(o.Float32x4.extractLane(t,3)))}),void 0===o.Int32x4.fromFloat64x2&&(o.Int32x4.fromFloat64x2=function(t){return t=o.Float64x2.check(t),o.Int32x4(u(o.Float64x2.extractLane(t,0)),u(o.Float64x2.extractLane(t,1)),0,0)}),void 0===o.Int32x4.fromFloat32x4Bits&&(o.Int32x4.fromFloat32x4Bits=function(t){return F(t),w()}),void 0===o.Int32x4.fromFloat64x2Bits&&(o.Int32x4.fromFloat64x2Bits=function(t){return y(t),w()}),void 0===o.Int32x4.fromInt16x8Bits&&(o.Int32x4.fromInt16x8Bits=function(t){return v(t),w()}),void 0===o.Int32x4.fromInt8x16Bits&&(o.Int32x4.fromInt8x16Bits=function(t){return B(t),w()}),Object.hasOwnProperty(o.Int32x4.prototype,"toString")||(o.Int32x4.prototype.toString=function(){return"Int32x4("+this.x_+", "+this.y_+", "+this.z_+", "+this.w_+")"}),Object.hasOwnProperty(o.Int32x4.prototype,"toLocaleString")||(o.Int32x4.prototype.toLocaleString=function(){return"Int32x4("+this.x_.toLocaleString()+", "+this.y_.toLocaleString()+", "+this.z_.toLocaleString()+", "+this.w_.toLocaleString()+")"}),Object.hasOwnProperty(o.Int32x4.prototype,"valueOf")||(o.Int32x4.prototype.valueOf=function(){throw new TypeError("Int32x4 cannot be converted to a number")}),void 0===o.Int16x8&&(o.Int16x8=function(t,e,a,r,n,s,i,x){if(!(this instanceof o.Int16x8))return new o.Int16x8(t,e,a,r,n,s,i,x);this.s0_=t<<16>>16,this.s1_=e<<16>>16,this.s2_=a<<16>>16,this.s3_=r<<16>>16,this.s4_=n<<16>>16,this.s5_=s<<16>>16,this.s6_=i<<16>>16,this.s7_=x<<16>>16}),void 0===o.Int16x8.extractLane&&(o.Int16x8.extractLane=function(t,e){switch(t=o.Int16x8.check(t),I(e),e){case 0:return t.s0_;case 1:return t.s1_;case 2:return t.s2_;case 3:return t.s3_;case 4:return t.s4_;case 5:return t.s5_;case 6:return t.s6_;case 7:return t.s7_}}),void 0===o.Int16x8.replaceLane&&(o.Int16x8.replaceLane=function(t,e,a){return t=o.Int16x8.check(t),I(e),v(t),i[e]=a,S()}),void 0===o.Int16x8.check&&(o.Int16x8.check=function(t){if(!(t instanceof o.Int16x8))throw new TypeError("argument is not a Int16x8.");return t}),void 0===o.Int16x8.splat&&(o.Int16x8.splat=function(t){return o.Int16x8(t,t,t,t,t,t,t,t)}),void 0===o.Int16x8.fromFloat32x4Bits&&(o.Int16x8.fromFloat32x4Bits=function(t){return F(t),S()}),void 0===o.Int16x8.fromFloat64x2Bits&&(o.Int16x8.fromFloat64x2Bits=function(t){return y(t),S()}),void 0===o.Int16x8.fromInt32x4Bits&&(o.Int16x8.fromInt32x4Bits=function(t){return _(t),S()}),void 0===o.Int16x8.fromInt8x16Bits&&(o.Int16x8.fromInt8x16Bits=function(t){return B(t),S()}),Object.hasOwnProperty(o.Int16x8.prototype,"toString")||(o.Int16x8.prototype.toString=function(){return"Int16x8("+this.s0_+", "+this.s1_+", "+this.s2_+", "+this.s3_+", "+this.s4_+", "+this.s5_+", "+this.s6_+", "+this.s7_+")"}),Object.hasOwnProperty(o.Int16x8.prototype,"toLocaleString")||(o.Int16x8.prototype.toLocaleString=function(){return"Int16x8("+this.s0_.toLocaleString()+", "+this.s1_.toLocaleString()+", "+this.s2_.toLocaleString()+", "+this.s3_.toLocaleString()+", "+this.s4_.toLocaleString()+", "+this.s5_.toLocaleString()+", "+this.s6_.toLocaleString()+", "+this.s7_.toLocaleString()+")"}),Object.hasOwnProperty(o.Int16x8.prototype,"valueOf")||(o.Int16x8.prototype.valueOf=function(){throw new TypeError("Int16x8 cannot be converted to a number")}),void 0===o.Int8x16&&(o.Int8x16=function(t,e,a,r,n,s,i,x,c,h,l,g,u,d,m,L){if(!(this instanceof o.Int8x16))return new o.Int8x16(t,e,a,r,n,s,i,x,c,h,l,g,u,d,m,L);this.s0_=t<<24>>24,this.s1_=e<<24>>24,this.s2_=a<<24>>24,this.s3_=r<<24>>24,this.s4_=n<<24>>24,this.s5_=s<<24>>24,this.s6_=i<<24>>24,this.s7_=x<<24>>24,this.s8_=c<<24>>24,this.s9_=h<<24>>24,this.s10_=l<<24>>24,this.s11_=g<<24>>24,this.s12_=u<<24>>24,this.s13_=d<<24>>24,this.s14_=m<<24>>24,this.s15_=L<<24>>24}),void 0===o.Int8x16.extractLane&&(o.Int8x16.extractLane=function(t,e){switch(t=o.Int8x16.check(t),f(e),e){case 0:return t.s0_;case 1:return t.s1_;case 2:return t.s2_;case 3:return t.s3_;case 4:return t.s4_;case 5:return t.s5_;case 6:return t.s6_;case 7:return t.s7_;case 8:return t.s8_;case 9:return t.s9_;case 10:return t.s10_;case 11:return t.s11_;case 12:return t.s12_;case 13:return t.s13_;case 14:return t.s14_;case 15:return t.s15_}}),void 0===o.Int8x16.replaceLane&&(o.Int8x16.replaceLane=function(t,e,a){return t=o.Int8x16.check(t),f(e),B(t),x[e]=a,z()}),void 0===o.Int8x16.check&&(o.Int8x16.check=function(t){if(!(t instanceof o.Int8x16))throw new TypeError("argument is not a Int8x16.");return t}),void 0===o.Int8x16.splat&&(o.Int8x16.splat=function(t){return o.Int8x16(t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t)}),void 0===o.Int8x16.fromFloat32x4Bits&&(o.Int8x16.fromFloat32x4Bits=function(t){return F(t),z()}),void 0===o.Int8x16.fromFloat64x2Bits&&(o.Int8x16.fromFloat64x2Bits=function(t){return y(t),z()}),void 0===o.Int8x16.fromInt32x4Bits&&(o.Int8x16.fromInt32x4Bits=function(t){return _(t),z()}),void 0===o.Int8x16.fromInt16x8Bits&&(o.Int8x16.fromInt16x8Bits=function(t){return v(t),z()}),Object.hasOwnProperty(o.Int8x16.prototype,"toString")||(o.Int8x16.prototype.toString=function(){return"Int8x16("+this.s0_+", "+this.s1_+", "+this.s2_+", "+this.s3_+", "+this.s4_+", "+this.s5_+", "+this.s6_+", "+this.s7_+", "+this.s8_+", "+this.s9_+", "+this.s10_+", "+this.s11_+", "+this.s12_+", "+this.s13_+", "+this.s14_+", "+this.s15_+")"}),Object.hasOwnProperty(o.Int8x16.prototype,"toLocaleString")||(o.Int8x16.prototype.toLocaleString=function(){return"Int8x16("+this.s0_.toLocaleString()+", "+this.s1_.toLocaleString()+", "+this.s2_.toLocaleString()+", "+this.s3_.toLocaleString()+", "+this.s4_.toLocaleString()+", "+this.s5_.toLocaleString()+", "+this.s6_.toLocaleString()+", "+this.s7_.toLocaleString()+", "+this.s8_.toLocaleString()+", "+this.s9_.toLocaleString()+", "+this.s10_.toLocaleString()+", "+this.s11_.toLocaleString()+", "+this.s12_.toLocaleString()+", "+this.s13_.toLocaleString()+", "+this.s14_.toLocaleString()+", "+this.s15_.toLocaleString()+")"}),Object.hasOwnProperty(o.Int8x16.prototype,"valueOf")||(o.Int8x16.prototype.valueOf=function(){throw new TypeError("Int8x16 cannot be converted to a number")}),void 0===o.Float32x4.abs&&(o.Float32x4.abs=function(t){return t=o.Float32x4.check(t),o.Float32x4(Math.abs(o.Float32x4.extractLane(t,0)),Math.abs(o.Float32x4.extractLane(t,1)),Math.abs(o.Float32x4.extractLane(t,2)),Math.abs(o.Float32x4.extractLane(t,3)))}),void 0===o.Float32x4.neg&&(o.Float32x4.neg=function(t){return t=o.Float32x4.check(t),o.Float32x4(-o.Float32x4.extractLane(t,0),-o.Float32x4.extractLane(t,1),-o.Float32x4.extractLane(t,2),-o.Float32x4.extractLane(t,3))}),void 0===o.Float32x4.add&&(o.Float32x4.add=function(t,e){return t=o.Float32x4.check(t),e=o.Float32x4.check(e),o.Float32x4(o.Float32x4.extractLane(t,0)+o.Float32x4.extractLane(e,0),o.Float32x4.extractLane(t,1)+o.Float32x4.extractLane(e,1),o.Float32x4.extractLane(t,2)+o.Float32x4.extractLane(e,2),o.Float32x4.extractLane(t,3)+o.Float32x4.extractLane(e,3))}),void 0===o.Float32x4.sub&&(o.Float32x4.sub=function(t,e){return t=o.Float32x4.check(t),e=o.Float32x4.check(e),o.Float32x4(o.Float32x4.extractLane(t,0)-o.Float32x4.extractLane(e,0),o.Float32x4.extractLane(t,1)-o.Float32x4.extractLane(e,1),o.Float32x4.extractLane(t,2)-o.Float32x4.extractLane(e,2),o.Float32x4.extractLane(t,3)-o.Float32x4.extractLane(e,3))}),void 0===o.Float32x4.mul&&(o.Float32x4.mul=function(t,e){return t=o.Float32x4.check(t),e=o.Float32x4.check(e),o.Float32x4(o.Float32x4.extractLane(t,0)*o.Float32x4.extractLane(e,0),o.Float32x4.extractLane(t,1)*o.Float32x4.extractLane(e,1),o.Float32x4.extractLane(t,2)*o.Float32x4.extractLane(e,2),o.Float32x4.extractLane(t,3)*o.Float32x4.extractLane(e,3))}),void 0===o.Float32x4.div&&(o.Float32x4.div=function(t,e){return t=o.Float32x4.check(t),e=o.Float32x4.check(e),o.Float32x4(o.Float32x4.extractLane(t,0)/o.Float32x4.extractLane(e,0),o.Float32x4.extractLane(t,1)/o.Float32x4.extractLane(e,1),o.Float32x4.extractLane(t,2)/o.Float32x4.extractLane(e,2),o.Float32x4.extractLane(t,3)/o.Float32x4.extractLane(e,3))}),void 0===o.Float32x4.min&&(o.Float32x4.min=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=Math.min(o.Float32x4.extractLane(t,0),o.Float32x4.extractLane(e,0)),r=Math.min(o.Float32x4.extractLane(t,1),o.Float32x4.extractLane(e,1)),n=Math.min(o.Float32x4.extractLane(t,2),o.Float32x4.extractLane(e,2)),s=Math.min(o.Float32x4.extractLane(t,3),o.Float32x4.extractLane(e,3));return o.Float32x4(a,r,n,s)}),void 0===o.Float32x4.max&&(o.Float32x4.max=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=Math.max(o.Float32x4.extractLane(t,0),o.Float32x4.extractLane(e,0)),r=Math.max(o.Float32x4.extractLane(t,1),o.Float32x4.extractLane(e,1)),n=Math.max(o.Float32x4.extractLane(t,2),o.Float32x4.extractLane(e,2)),s=Math.max(o.Float32x4.extractLane(t,3),o.Float32x4.extractLane(e,3));return o.Float32x4(a,r,n,s)}),void 0===o.Float32x4.minNum&&(o.Float32x4.minNum=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=l(o.Float32x4.extractLane(t,0),o.Float32x4.extractLane(e,0)),r=l(o.Float32x4.extractLane(t,1),o.Float32x4.extractLane(e,1)),n=l(o.Float32x4.extractLane(t,2),o.Float32x4.extractLane(e,2)),s=l(o.Float32x4.extractLane(t,3),o.Float32x4.extractLane(e,3));return o.Float32x4(a,r,n,s)}),void 0===o.Float32x4.maxNum&&(o.Float32x4.maxNum=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=g(o.Float32x4.extractLane(t,0),o.Float32x4.extractLane(e,0)),r=g(o.Float32x4.extractLane(t,1),o.Float32x4.extractLane(e,1)),n=g(o.Float32x4.extractLane(t,2),o.Float32x4.extractLane(e,2)),s=g(o.Float32x4.extractLane(t,3),o.Float32x4.extractLane(e,3));return o.Float32x4(a,r,n,s)}),void 0===o.Float32x4.reciprocalApproximation&&(o.Float32x4.reciprocalApproximation=function(t){return t=o.Float32x4.check(t),o.Float32x4.div(o.Float32x4.splat(1),t)}),void 0===o.Float32x4.reciprocalSqrtApproximation&&(o.Float32x4.reciprocalSqrtApproximation=function(t){return t=o.Float32x4.check(t),o.Float32x4.reciprocalApproximation(o.Float32x4.sqrt(t))}),void 0===o.Float32x4.sqrt&&(o.Float32x4.sqrt=function(t){return t=o.Float32x4.check(t),o.Float32x4(Math.sqrt(o.Float32x4.extractLane(t,0)),Math.sqrt(o.Float32x4.extractLane(t,1)),Math.sqrt(o.Float32x4.extractLane(t,2)),Math.sqrt(o.Float32x4.extractLane(t,3)))}),void 0===o.Float32x4.swizzle&&(o.Float32x4.swizzle=function(t,e,a,n,s){t=o.Float32x4.check(t),L(e),L(a),L(n),L(s),r[0]=o.Float32x4.extractLane(t,0),r[1]=o.Float32x4.extractLane(t,1),r[2]=o.Float32x4.extractLane(t,2),r[3]=o.Float32x4.extractLane(t,3);var i=r;return o.Float32x4(i[e],i[a],i[n],i[s])}),void 0===o.Float32x4.shuffle&&(_f32x8=new Float32Array(8),o.Float32x4.shuffle=function(t,e,a,r,n,s){t=o.Float32x4.check(t),e=o.Float32x4.check(e),I(a),I(r),I(n),I(s);var i=_f32x8;return i[0]=o.Float32x4.extractLane(t,0),i[1]=o.Float32x4.extractLane(t,1),i[2]=o.Float32x4.extractLane(t,2),i[3]=o.Float32x4.extractLane(t,3),i[4]=o.Float32x4.extractLane(e,0),i[5]=o.Float32x4.extractLane(e,1),i[6]=o.Float32x4.extractLane(e,2),i[7]=o.Float32x4.extractLane(e,3),o.Float32x4(i[a],i[r],i[n],i[s])}),void 0===o.Float32x4.lessThan&&(o.Float32x4.lessThan=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=o.Float32x4.extractLane(t,0)<o.Float32x4.extractLane(e,0),r=o.Float32x4.extractLane(t,1)<o.Float32x4.extractLane(e,1),n=o.Float32x4.extractLane(t,2)<o.Float32x4.extractLane(e,2),s=o.Float32x4.extractLane(t,3)<o.Float32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Float32x4.lessThanOrEqual&&(o.Float32x4.lessThanOrEqual=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=o.Float32x4.extractLane(t,0)<=o.Float32x4.extractLane(e,0),r=o.Float32x4.extractLane(t,1)<=o.Float32x4.extractLane(e,1),n=o.Float32x4.extractLane(t,2)<=o.Float32x4.extractLane(e,2),s=o.Float32x4.extractLane(t,3)<=o.Float32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Float32x4.equal&&(o.Float32x4.equal=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=o.Float32x4.extractLane(t,0)==o.Float32x4.extractLane(e,0),r=o.Float32x4.extractLane(t,1)==o.Float32x4.extractLane(e,1),n=o.Float32x4.extractLane(t,2)==o.Float32x4.extractLane(e,2),s=o.Float32x4.extractLane(t,3)==o.Float32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Float32x4.notEqual&&(o.Float32x4.notEqual=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=o.Float32x4.extractLane(t,0)!=o.Float32x4.extractLane(e,0),r=o.Float32x4.extractLane(t,1)!=o.Float32x4.extractLane(e,1),n=o.Float32x4.extractLane(t,2)!=o.Float32x4.extractLane(e,2),s=o.Float32x4.extractLane(t,3)!=o.Float32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Float32x4.greaterThanOrEqual&&(o.Float32x4.greaterThanOrEqual=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=o.Float32x4.extractLane(t,0)>=o.Float32x4.extractLane(e,0),r=o.Float32x4.extractLane(t,1)>=o.Float32x4.extractLane(e,1),n=o.Float32x4.extractLane(t,2)>=o.Float32x4.extractLane(e,2),s=o.Float32x4.extractLane(t,3)>=o.Float32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Float32x4.greaterThan&&(o.Float32x4.greaterThan=function(t,e){t=o.Float32x4.check(t),e=o.Float32x4.check(e);var a=o.Float32x4.extractLane(t,0)>o.Float32x4.extractLane(e,0),r=o.Float32x4.extractLane(t,1)>o.Float32x4.extractLane(e,1),n=o.Float32x4.extractLane(t,2)>o.Float32x4.extractLane(e,2),s=o.Float32x4.extractLane(t,3)>o.Float32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Float32x4.select&&(o.Float32x4.select=function(t,e,a){return t=o.Bool32x4.check(t),e=o.Float32x4.check(e),a=o.Float32x4.check(a),o.Float32x4(o.Bool32x4.extractLane(t,0)?o.Float32x4.extractLane(e,0):o.Float32x4.extractLane(a,0),o.Bool32x4.extractLane(t,1)?o.Float32x4.extractLane(e,1):o.Float32x4.extractLane(a,1),o.Bool32x4.extractLane(t,2)?o.Float32x4.extractLane(e,2):o.Float32x4.extractLane(a,2),o.Bool32x4.extractLane(t,3)?o.Float32x4.extractLane(e,3):o.Float32x4.extractLane(a,3))}),void 0===o.Float32x4.load&&(o.Float32x4.load=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+16>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=r,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?l:s:n,u=16/a,d=0;d<u;++d)g[d]=t[e+d];return o.Float32x4(l[0],l[1],l[2],l[3])}),void 0===o.Float32x4.load1&&(o.Float32x4.load1=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+4>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=r,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?l:s:n,u=4/a,d=0;d<u;++d)g[d]=t[e+d];return o.Float32x4(l[0],0,0,0)}),void 0===o.Float32x4.load2&&(o.Float32x4.load2=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+8>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=r,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?l:s:n,u=8/a,d=0;d<u;++d)g[d]=t[e+d];return o.Float32x4(l[0],l[1],0,0)}),void 0===o.Float32x4.load3&&(o.Float32x4.load3=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+12>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=r,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?l:s:n,u=12/a,d=0;d<u;++d)g[d]=t[e+d];return o.Float32x4(l[0],l[1],l[2],0)}),void 0===o.Float32x4.store&&(o.Float32x4.store=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var l=t.BYTES_PER_ELEMENT;if(e<0||e*l+16>t.byteLength)throw new RangeError("The value of index is invalid.");a=o.Float32x4.check(a),r[0]=o.Float32x4.extractLane(a,0),r[1]=o.Float32x4.extractLane(a,1),r[2]=o.Float32x4.extractLane(a,2),r[3]=o.Float32x4.extractLane(a,3);for(var g=1==l?x:2==l?i:4==l?t instanceof Float32Array?r:s:n,u=16/l,d=0;d<u;++d)t[e+d]=g[d];return a}),void 0===o.Float32x4.store1&&(o.Float32x4.store1=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var n=t.BYTES_PER_ELEMENT;if(e<0||e*n+4>t.byteLength)throw new RangeError("The value of index is invalid.");if(a=o.Float32x4.check(a),8!=n){r[0]=o.Float32x4.extractLane(a,0);for(var l=1==n?x:2==n?i:t instanceof Float32Array?r:s,g=4/n,u=0;u<g;++u)t[e+u]=l[u];return a}new Float32Array(t.buffer,t.byteOffset+8*e,1)[0]=o.Float32x4.extractLane(a,0)}),void 0===o.Float32x4.store2&&(o.Float32x4.store2=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var l=t.BYTES_PER_ELEMENT;if(e<0||e*l+8>t.byteLength)throw new RangeError("The value of index is invalid.");a=o.Float32x4.check(a),r[0]=o.Float32x4.extractLane(a,0),r[1]=o.Float32x4.extractLane(a,1);for(var g=1==l?x:2==l?i:4==l?t instanceof Float32Array?r:s:n,u=8/l,d=0;d<u;++d)t[e+d]=g[d];return a}),void 0===o.Float32x4.store3&&(o.Float32x4.store3=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var n=t.BYTES_PER_ELEMENT;if(e<0||e*n+12>t.byteLength)throw new RangeError("The value of index is invalid.");if(a=o.Float32x4.check(a),8!=n){r[0]=o.Float32x4.extractLane(a,0),r[1]=o.Float32x4.extractLane(a,1),r[2]=o.Float32x4.extractLane(a,2);for(var l=1==n?x:2==n?i:t instanceof Float32Array?r:s,g=12/n,u=0;u<g;++u)t[e+u]=l[u];return a}var d=new Float32Array(t.buffer,t.byteOffset+8*e,3);d[0]=o.Float32x4.extractLane(a,0),d[1]=o.Float32x4.extractLane(a,1),d[2]=o.Float32x4.extractLane(a,2)}),void 0===o.Float64x2.abs&&(o.Float64x2.abs=function(t){return t=o.Float64x2.check(t),o.Float64x2(Math.abs(o.Float64x2.extractLane(t,0)),Math.abs(o.Float64x2.extractLane(t,1)))}),void 0===o.Float64x2.neg&&(o.Float64x2.neg=function(t){return t=o.Float64x2.check(t),o.Float64x2(-o.Float64x2.extractLane(t,0),-o.Float64x2.extractLane(t,1))}),void 0===o.Float64x2.add&&(o.Float64x2.add=function(t,e){return t=o.Float64x2.check(t),e=o.Float64x2.check(e),o.Float64x2(o.Float64x2.extractLane(t,0)+o.Float64x2.extractLane(e,0),o.Float64x2.extractLane(t,1)+o.Float64x2.extractLane(e,1))}),void 0===o.Float64x2.sub&&(o.Float64x2.sub=function(t,e){return t=o.Float64x2.check(t),e=o.Float64x2.check(e),o.Float64x2(o.Float64x2.extractLane(t,0)-o.Float64x2.extractLane(e,0),o.Float64x2.extractLane(t,1)-o.Float64x2.extractLane(e,1))}),void 0===o.Float64x2.mul&&(o.Float64x2.mul=function(t,e){return t=o.Float64x2.check(t),e=o.Float64x2.check(e),o.Float64x2(o.Float64x2.extractLane(t,0)*o.Float64x2.extractLane(e,0),o.Float64x2.extractLane(t,1)*o.Float64x2.extractLane(e,1))}),void 0===o.Float64x2.div&&(o.Float64x2.div=function(t,e){return t=o.Float64x2.check(t),e=o.Float64x2.check(e),o.Float64x2(o.Float64x2.extractLane(t,0)/o.Float64x2.extractLane(e,0),o.Float64x2.extractLane(t,1)/o.Float64x2.extractLane(e,1))}),void 0===o.Float64x2.min&&(o.Float64x2.min=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=Math.min(o.Float64x2.extractLane(t,0),o.Float64x2.extractLane(e,0)),r=Math.min(o.Float64x2.extractLane(t,1),o.Float64x2.extractLane(e,1));return o.Float64x2(a,r)}),void 0===o.Float64x2.max&&(o.Float64x2.max=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=Math.max(o.Float64x2.extractLane(t,0),o.Float64x2.extractLane(e,0)),r=Math.max(o.Float64x2.extractLane(t,1),o.Float64x2.extractLane(e,1));return o.Float64x2(a,r)}),void 0===o.Float64x2.minNum&&(o.Float64x2.minNum=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=l(o.Float64x2.extractLane(t,0),o.Float64x2.extractLane(e,0)),r=l(o.Float64x2.extractLane(t,1),o.Float64x2.extractLane(e,1));return o.Float64x2(a,r)}),void 0===o.Float64x2.maxNum&&(o.Float64x2.maxNum=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=g(o.Float64x2.extractLane(t,0),o.Float64x2.extractLane(e,0)),r=g(o.Float64x2.extractLane(t,1),o.Float64x2.extractLane(e,1));return o.Float64x2(a,r)}),void 0===o.Float64x2.reciprocalApproximation&&(o.Float64x2.reciprocalApproximation=function(t){return t=o.Float64x2.check(t),o.Float64x2.div(o.Float64x2.splat(1),t)}),void 0===o.Float64x2.reciprocalSqrtApproximation&&(o.Float64x2.reciprocalSqrtApproximation=function(t){return t=o.Float64x2.check(t),o.Float64x2.reciprocalApproximation(o.Float64x2.sqrt(t))}),void 0===o.Float64x2.sqrt&&(o.Float64x2.sqrt=function(t){return t=o.Float64x2.check(t),o.Float64x2(Math.sqrt(o.Float64x2.extractLane(t,0)),Math.sqrt(o.Float64x2.extractLane(t,1)))}),void 0===o.Float64x2.swizzle&&(o.Float64x2.swizzle=function(t,e,a){t=o.Float64x2.check(t),m(e),m(a);var r=n;return r[0]=o.Float64x2.extractLane(t,0),r[1]=o.Float64x2.extractLane(t,1),o.Float64x2(r[e],r[a])}),void 0===o.Float64x2.shuffle&&(_f64x4=new Float64Array(4),o.Float64x2.shuffle=function(t,e,a,r){t=o.Float64x2.check(t),e=o.Float64x2.check(e),L(a),L(r);var n=_f64x4;return n[0]=o.Float64x2.extractLane(t,0),n[1]=o.Float64x2.extractLane(t,1),n[2]=o.Float64x2.extractLane(e,0),n[3]=o.Float64x2.extractLane(e,1),o.Float64x2(n[a],n[r])}),void 0===o.Float64x2.lessThan&&(o.Float64x2.lessThan=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=o.Float64x2.extractLane(t,0)<o.Float64x2.extractLane(e,0),r=o.Float64x2.extractLane(t,1)<o.Float64x2.extractLane(e,1);return o.Bool64x2(a,r)}),void 0===o.Float64x2.lessThanOrEqual&&(o.Float64x2.lessThanOrEqual=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=o.Float64x2.extractLane(t,0)<=o.Float64x2.extractLane(e,0),r=o.Float64x2.extractLane(t,1)<=o.Float64x2.extractLane(e,1);return o.Bool64x2(a,r)}),void 0===o.Float64x2.equal&&(o.Float64x2.equal=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=o.Float64x2.extractLane(t,0)==o.Float64x2.extractLane(e,0),r=o.Float64x2.extractLane(t,1)==o.Float64x2.extractLane(e,1);return o.Bool64x2(a,r)}),void 0===o.Float64x2.notEqual&&(o.Float64x2.notEqual=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=o.Float64x2.extractLane(t,0)!=o.Float64x2.extractLane(e,0),r=o.Float64x2.extractLane(t,1)!=o.Float64x2.extractLane(e,1);return o.Bool64x2(a,r)}),void 0===o.Float64x2.greaterThanOrEqual&&(o.Float64x2.greaterThanOrEqual=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=o.Float64x2.extractLane(t,0)>=o.Float64x2.extractLane(e,0),r=o.Float64x2.extractLane(t,1)>=o.Float64x2.extractLane(e,1);return o.Bool64x2(a,r)}),void 0===o.Float64x2.greaterThan&&(o.Float64x2.greaterThan=function(t,e){t=o.Float64x2.check(t),e=o.Float64x2.check(e);var a=o.Float64x2.extractLane(t,0)>o.Float64x2.extractLane(e,0),r=o.Float64x2.extractLane(t,1)>o.Float64x2.extractLane(e,1);return o.Bool64x2(a,r)}),void 0===o.Float64x2.select&&(o.Float64x2.select=function(t,e,a){return t=o.Bool64x2.check(t),e=o.Float64x2.check(e),a=o.Float64x2.check(a),o.Float64x2(o.Bool64x2.extractLane(t,0)?o.Float64x2.extractLane(e,0):o.Float64x2.extractLane(a,0),o.Bool64x2.extractLane(t,1)?o.Float64x2.extractLane(e,1):o.Float64x2.extractLane(a,1))}),void 0===o.Float64x2.load&&(o.Float64x2.load=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+16>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=n,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?r:s:l,u=16/a,d=0;d<u;++d)g[d]=t[e+d];return o.Float64x2(l[0],l[1])}),void 0===o.Float64x2.load1&&(o.Float64x2.load1=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+8>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=n,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?r:s:l,u=8/a,d=0;d<u;++d)g[d]=t[e+d];return o.Float64x2(l[0],0)}),void 0===o.Float64x2.store&&(o.Float64x2.store=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var l=t.BYTES_PER_ELEMENT;if(e<0||e*l+16>t.byteLength)throw new RangeError("The value of index is invalid.");a=o.Float64x2.check(a),n[0]=o.Float64x2.extractLane(a,0),n[1]=o.Float64x2.extractLane(a,1);for(var g=1==l?x:2==l?i:4==l?t instanceof Float32Array?r:s:n,u=16/l,d=0;d<u;++d)t[e+d]=g[d];return a}),void 0===o.Float64x2.store1&&(o.Float64x2.store1=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var l=t.BYTES_PER_ELEMENT;if(e<0||e*l+8>t.byteLength)throw new RangeError("The value of index is invalid.");a=o.Float64x2.check(a),n[0]=o.Float64x2.extractLane(a,0);for(var g=1==l?x:2==l?i:4==l?t instanceof Float32Array?r:s:n,u=8/l,d=0;d<u;++d)t[e+d]=g[d];return a}),void 0===o.Int32x4.and&&(o.Int32x4.and=function(t,e){return t=o.Int32x4.check(t),e=o.Int32x4.check(e),o.Int32x4(o.Int32x4.extractLane(t,0)&o.Int32x4.extractLane(e,0),o.Int32x4.extractLane(t,1)&o.Int32x4.extractLane(e,1),o.Int32x4.extractLane(t,2)&o.Int32x4.extractLane(e,2),o.Int32x4.extractLane(t,3)&o.Int32x4.extractLane(e,3))}),void 0===o.Int32x4.or&&(o.Int32x4.or=function(t,e){return t=o.Int32x4.check(t),e=o.Int32x4.check(e),o.Int32x4(o.Int32x4.extractLane(t,0)|o.Int32x4.extractLane(e,0),o.Int32x4.extractLane(t,1)|o.Int32x4.extractLane(e,1),o.Int32x4.extractLane(t,2)|o.Int32x4.extractLane(e,2),o.Int32x4.extractLane(t,3)|o.Int32x4.extractLane(e,3))}),void 0===o.Int32x4.xor&&(o.Int32x4.xor=function(t,e){return t=o.Int32x4.check(t),e=o.Int32x4.check(e),o.Int32x4(o.Int32x4.extractLane(t,0)^o.Int32x4.extractLane(e,0),o.Int32x4.extractLane(t,1)^o.Int32x4.extractLane(e,1),o.Int32x4.extractLane(t,2)^o.Int32x4.extractLane(e,2),o.Int32x4.extractLane(t,3)^o.Int32x4.extractLane(e,3))}),void 0===o.Int32x4.not&&(o.Int32x4.not=function(t){return t=o.Int32x4.check(t),o.Int32x4(~o.Int32x4.extractLane(t,0),~o.Int32x4.extractLane(t,1),~o.Int32x4.extractLane(t,2),~o.Int32x4.extractLane(t,3))}),void 0===o.Int32x4.neg&&(o.Int32x4.neg=function(t){return t=o.Int32x4.check(t),o.Int32x4(-o.Int32x4.extractLane(t,0),-o.Int32x4.extractLane(t,1),-o.Int32x4.extractLane(t,2),-o.Int32x4.extractLane(t,3))}),void 0===o.Int32x4.add&&(o.Int32x4.add=function(t,e){return t=o.Int32x4.check(t),e=o.Int32x4.check(e),o.Int32x4(o.Int32x4.extractLane(t,0)+o.Int32x4.extractLane(e,0),o.Int32x4.extractLane(t,1)+o.Int32x4.extractLane(e,1),o.Int32x4.extractLane(t,2)+o.Int32x4.extractLane(e,2),o.Int32x4.extractLane(t,3)+o.Int32x4.extractLane(e,3))}),void 0===o.Int32x4.sub&&(o.Int32x4.sub=function(t,e){return t=o.Int32x4.check(t),e=o.Int32x4.check(e),o.Int32x4(o.Int32x4.extractLane(t,0)-o.Int32x4.extractLane(e,0),o.Int32x4.extractLane(t,1)-o.Int32x4.extractLane(e,1),o.Int32x4.extractLane(t,2)-o.Int32x4.extractLane(e,2),o.Int32x4.extractLane(t,3)-o.Int32x4.extractLane(e,3))}),void 0===o.Int32x4.mul&&(o.Int32x4.mul=function(t,e){return t=o.Int32x4.check(t),e=o.Int32x4.check(e),o.Int32x4(Math.imul(o.Int32x4.extractLane(t,0),o.Int32x4.extractLane(e,0)),Math.imul(o.Int32x4.extractLane(t,1),o.Int32x4.extractLane(e,1)),Math.imul(o.Int32x4.extractLane(t,2),o.Int32x4.extractLane(e,2)),Math.imul(o.Int32x4.extractLane(t,3),o.Int32x4.extractLane(e,3)))}),void 0===o.Int32x4.swizzle&&(o.Int32x4.swizzle=function(t,e,a,r,n){t=o.Int32x4.check(t),L(e),L(a),L(r),L(n);var i=s;return i[0]=o.Int32x4.extractLane(t,0),i[1]=o.Int32x4.extractLane(t,1),i[2]=o.Int32x4.extractLane(t,2),i[3]=o.Int32x4.extractLane(t,3),o.Int32x4(i[e],i[a],i[r],i[n])}),void 0===o.Int32x4.shuffle&&(_i32x8=new Int32Array(8),o.Int32x4.shuffle=function(t,e,a,r,n,s){t=o.Int32x4.check(t),e=o.Int32x4.check(e),I(a),I(r),I(n),I(s);var i=_i32x8;return i[0]=o.Int32x4.extractLane(t,0),i[1]=o.Int32x4.extractLane(t,1),i[2]=o.Int32x4.extractLane(t,2),i[3]=o.Int32x4.extractLane(t,3),i[4]=o.Int32x4.extractLane(e,0),i[5]=o.Int32x4.extractLane(e,1),i[6]=o.Int32x4.extractLane(e,2),i[7]=o.Int32x4.extractLane(e,3),o.Int32x4(i[a],i[r],i[n],i[s])}),void 0===o.Int32x4.select&&(o.Int32x4.select=function(t,e,a){return t=o.Bool32x4.check(t),e=o.Int32x4.check(e),a=o.Int32x4.check(a),o.Int32x4(o.Bool32x4.extractLane(t,0)?o.Int32x4.extractLane(e,0):o.Int32x4.extractLane(a,0),o.Bool32x4.extractLane(t,1)?o.Int32x4.extractLane(e,1):o.Int32x4.extractLane(a,1),o.Bool32x4.extractLane(t,2)?o.Int32x4.extractLane(e,2):o.Int32x4.extractLane(a,2),o.Bool32x4.extractLane(t,3)?o.Int32x4.extractLane(e,3):o.Int32x4.extractLane(a,3))}),void 0===o.Int32x4.selectBits&&(o.Int32x4.selectBits=function(t,e,a){t=o.Int32x4.check(t),e=o.Int32x4.check(e),a=o.Int32x4.check(a);var r=o.Int32x4.and(t,e),n=o.Int32x4.and(o.Int32x4.not(t),a);return o.Int32x4.or(r,n)}),void 0===o.Int32x4.equal&&(o.Int32x4.equal=function(t,e){t=o.Int32x4.check(t),e=o.Int32x4.check(e);var a=o.Int32x4.extractLane(t,0)==o.Int32x4.extractLane(e,0),r=o.Int32x4.extractLane(t,1)==o.Int32x4.extractLane(e,1),n=o.Int32x4.extractLane(t,2)==o.Int32x4.extractLane(e,2),s=o.Int32x4.extractLane(t,3)==o.Int32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Int32x4.notEqual&&(o.Int32x4.notEqual=function(t,e){t=o.Int32x4.check(t),e=o.Int32x4.check(e);var a=o.Int32x4.extractLane(t,0)!=o.Int32x4.extractLane(e,0),r=o.Int32x4.extractLane(t,1)!=o.Int32x4.extractLane(e,1),n=o.Int32x4.extractLane(t,2)!=o.Int32x4.extractLane(e,2),s=o.Int32x4.extractLane(t,3)!=o.Int32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Int32x4.greaterThan&&(o.Int32x4.greaterThan=function(t,e){t=o.Int32x4.check(t),e=o.Int32x4.check(e);var a=o.Int32x4.extractLane(t,0)>o.Int32x4.extractLane(e,0),r=o.Int32x4.extractLane(t,1)>o.Int32x4.extractLane(e,1),n=o.Int32x4.extractLane(t,2)>o.Int32x4.extractLane(e,2),s=o.Int32x4.extractLane(t,3)>o.Int32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Int32x4.greaterThanOrEqual&&(o.Int32x4.greaterThanOrEqual=function(t,e){t=o.Int32x4.check(t),e=o.Int32x4.check(e);var a=o.Int32x4.extractLane(t,0)>=o.Int32x4.extractLane(e,0),r=o.Int32x4.extractLane(t,1)>=o.Int32x4.extractLane(e,1),n=o.Int32x4.extractLane(t,2)>=o.Int32x4.extractLane(e,2),s=o.Int32x4.extractLane(t,3)>=o.Int32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Int32x4.lessThan&&(o.Int32x4.lessThan=function(t,e){t=o.Int32x4.check(t),e=o.Int32x4.check(e);var a=o.Int32x4.extractLane(t,0)<o.Int32x4.extractLane(e,0),r=o.Int32x4.extractLane(t,1)<o.Int32x4.extractLane(e,1),n=o.Int32x4.extractLane(t,2)<o.Int32x4.extractLane(e,2),s=o.Int32x4.extractLane(t,3)<o.Int32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Int32x4.lessThanOrEqual&&(o.Int32x4.lessThanOrEqual=function(t,e){t=o.Int32x4.check(t),e=o.Int32x4.check(e);var a=o.Int32x4.extractLane(t,0)<=o.Int32x4.extractLane(e,0),r=o.Int32x4.extractLane(t,1)<=o.Int32x4.extractLane(e,1),n=o.Int32x4.extractLane(t,2)<=o.Int32x4.extractLane(e,2),s=o.Int32x4.extractLane(t,3)<=o.Int32x4.extractLane(e,3);return o.Bool32x4(a,r,n,s)}),void 0===o.Int32x4.shiftLeftByScalar&&(o.Int32x4.shiftLeftByScalar=function(t,e){if(t=o.Int32x4.check(t),e>>>0>=32)return o.Int32x4.splat(0);var a=o.Int32x4.extractLane(t,0)<<e,r=o.Int32x4.extractLane(t,1)<<e,n=o.Int32x4.extractLane(t,2)<<e,s=o.Int32x4.extractLane(t,3)<<e;return o.Int32x4(a,r,n,s)}),void 0===o.Int32x4.shiftRightLogicalByScalar&&(o.Int32x4.shiftRightLogicalByScalar=function(t,e){if(t=o.Int32x4.check(t),e>>>0>=32)return o.Int32x4.splat(0);var a=o.Int32x4.extractLane(t,0)>>>e,r=o.Int32x4.extractLane(t,1)>>>e,n=o.Int32x4.extractLane(t,2)>>>e,s=o.Int32x4.extractLane(t,3)>>>e;return o.Int32x4(a,r,n,s)}),void 0===o.Int32x4.shiftRightArithmeticByScalar&&(o.Int32x4.shiftRightArithmeticByScalar=function(t,e){t=o.Int32x4.check(t),e>>>0>=32&&(e=31);var a=o.Int32x4.extractLane(t,0)>>e,r=o.Int32x4.extractLane(t,1)>>e,n=o.Int32x4.extractLane(t,2)>>e,s=o.Int32x4.extractLane(t,3)>>e;return o.Int32x4(a,r,n,s)}),void 0===o.Int32x4.load&&(o.Int32x4.load=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+16>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=s,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?r:l:n,u=16/a,d=0;d<u;++d)g[d]=t[e+d];return o.Int32x4(l[0],l[1],l[2],l[3])}),void 0===o.Int32x4.load1&&(o.Int32x4.load1=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+4>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=s,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?r:l:n,u=4/a,d=0;d<u;++d)g[d]=t[e+d];return o.Int32x4(l[0],0,0,0)}),void 0===o.Int32x4.load2&&(o.Int32x4.load2=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+8>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=s,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?r:l:n,u=8/a,d=0;d<u;++d)g[d]=t[e+d];return o.Int32x4(l[0],l[1],0,0)}),void 0===o.Int32x4.load3&&(o.Int32x4.load3=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+12>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=s,g=1==a?x:2==a?i:4==a?t instanceof Float32Array?r:l:n,u=12/a,d=0;d<u;++d)g[d]=t[e+d];return o.Int32x4(l[0],l[1],l[2],0)}),void 0===o.Int32x4.store&&(o.Int32x4.store=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var l=t.BYTES_PER_ELEMENT;if(e<0||e*l+16>t.byteLength)throw new RangeError("The value of index is invalid.");a=o.Int32x4.check(a),s[0]=o.Int32x4.extractLane(a,0),s[1]=o.Int32x4.extractLane(a,1),s[2]=o.Int32x4.extractLane(a,2),s[3]=o.Int32x4.extractLane(a,3);for(var g=1==l?x:2==l?i:4==l?t instanceof Float32Array?r:s:n,u=16/l,d=0;d<u;++d)t[e+d]=g[d];return a}),void 0===o.Int32x4.store1&&(o.Int32x4.store1=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var n=t.BYTES_PER_ELEMENT;if(e<0||e*n+4>t.byteLength)throw new RangeError("The value of index is invalid.");if(a=o.Int32x4.check(a),8!=n){s[0]=o.Int32x4.extractLane(a,0);for(var l=1==n?x:2==n?i:t instanceof Float32Array?r:s,g=4/n,u=0;u<g;++u)t[e+u]=l[u];return a}new Int32Array(t.buffer,t.byteOffset+8*e,1)[0]=o.Int32x4.extractLane(a,0)}),void 0===o.Int32x4.store2&&(o.Int32x4.store2=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var l=t.BYTES_PER_ELEMENT;if(e<0||e*l+8>t.byteLength)throw new RangeError("The value of index is invalid.");a=o.Int32x4.check(a),s[0]=o.Int32x4.extractLane(a,0),s[1]=o.Int32x4.extractLane(a,1);for(var g=1==l?x:2==l?i:4==l?t instanceof Float32Array?r:s:n,u=8/l,d=0;d<u;++d)t[e+d]=g[d];return a}),void 0===o.Int32x4.store3&&(o.Int32x4.store3=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var n=t.BYTES_PER_ELEMENT;if(e<0||e*n+12>t.byteLength)throw new RangeError("The value of index is invalid.");if(a=o.Int32x4.check(a),8!=n){s[0]=o.Int32x4.extractLane(a,0),s[1]=o.Int32x4.extractLane(a,1),s[2]=o.Int32x4.extractLane(a,2);for(var l=1==n?x:2==n?i:t instanceof Float32Array?r:s,g=12/n,u=0;u<g;++u)t[e+u]=l[u];return a}var d=new Int32Array(t.buffer,t.byteOffset+8*e,3);d[0]=o.Int32x4.extractLane(a,0),d[1]=o.Int32x4.extractLane(a,1),d[2]=o.Int32x4.extractLane(a,2)}),void 0===o.Int16x8.and&&(o.Int16x8.and=function(t,e){return t=o.Int16x8.check(t),e=o.Int16x8.check(e),o.Int16x8(o.Int16x8.extractLane(t,0)&o.Int16x8.extractLane(e,0),o.Int16x8.extractLane(t,1)&o.Int16x8.extractLane(e,1),o.Int16x8.extractLane(t,2)&o.Int16x8.extractLane(e,2),o.Int16x8.extractLane(t,3)&o.Int16x8.extractLane(e,3),o.Int16x8.extractLane(t,4)&o.Int16x8.extractLane(e,4),o.Int16x8.extractLane(t,5)&o.Int16x8.extractLane(e,5),o.Int16x8.extractLane(t,6)&o.Int16x8.extractLane(e,6),o.Int16x8.extractLane(t,7)&o.Int16x8.extractLane(e,7))}),void 0===o.Int16x8.or&&(o.Int16x8.or=function(t,e){return t=o.Int16x8.check(t),e=o.Int16x8.check(e),o.Int16x8(o.Int16x8.extractLane(t,0)|o.Int16x8.extractLane(e,0),o.Int16x8.extractLane(t,1)|o.Int16x8.extractLane(e,1),o.Int16x8.extractLane(t,2)|o.Int16x8.extractLane(e,2),o.Int16x8.extractLane(t,3)|o.Int16x8.extractLane(e,3),o.Int16x8.extractLane(t,4)|o.Int16x8.extractLane(e,4),o.Int16x8.extractLane(t,5)|o.Int16x8.extractLane(e,5),o.Int16x8.extractLane(t,6)|o.Int16x8.extractLane(e,6),o.Int16x8.extractLane(t,7)|o.Int16x8.extractLane(e,7))}),void 0===o.Int16x8.xor&&(o.Int16x8.xor=function(t,e){return t=o.Int16x8.check(t),e=o.Int16x8.check(e),o.Int16x8(o.Int16x8.extractLane(t,0)^o.Int16x8.extractLane(e,0),o.Int16x8.extractLane(t,1)^o.Int16x8.extractLane(e,1),o.Int16x8.extractLane(t,2)^o.Int16x8.extractLane(e,2),o.Int16x8.extractLane(t,3)^o.Int16x8.extractLane(e,3),o.Int16x8.extractLane(t,4)^o.Int16x8.extractLane(e,4),o.Int16x8.extractLane(t,5)^o.Int16x8.extractLane(e,5),o.Int16x8.extractLane(t,6)^o.Int16x8.extractLane(e,6),o.Int16x8.extractLane(t,7)^o.Int16x8.extractLane(e,7))}),void 0===o.Int16x8.not&&(o.Int16x8.not=function(t){return t=o.Int16x8.check(t),o.Int16x8(~o.Int16x8.extractLane(t,0),~o.Int16x8.extractLane(t,1),~o.Int16x8.extractLane(t,2),~o.Int16x8.extractLane(t,3),~o.Int16x8.extractLane(t,4),~o.Int16x8.extractLane(t,5),~o.Int16x8.extractLane(t,6),~o.Int16x8.extractLane(t,7))}),void 0===o.Int16x8.neg&&(o.Int16x8.neg=function(t){return t=o.Int16x8.check(t),o.Int16x8(-o.Int16x8.extractLane(t,0),-o.Int16x8.extractLane(t,1),-o.Int16x8.extractLane(t,2),-o.Int16x8.extractLane(t,3),-o.Int16x8.extractLane(t,4),-o.Int16x8.extractLane(t,5),-o.Int16x8.extractLane(t,6),-o.Int16x8.extractLane(t,7))}),void 0===o.Int16x8.add&&(o.Int16x8.add=function(t,e){return t=o.Int16x8.check(t),e=o.Int16x8.check(e),o.Int16x8(o.Int16x8.extractLane(t,0)+o.Int16x8.extractLane(e,0),o.Int16x8.extractLane(t,1)+o.Int16x8.extractLane(e,1),o.Int16x8.extractLane(t,2)+o.Int16x8.extractLane(e,2),o.Int16x8.extractLane(t,3)+o.Int16x8.extractLane(e,3),o.Int16x8.extractLane(t,4)+o.Int16x8.extractLane(e,4),o.Int16x8.extractLane(t,5)+o.Int16x8.extractLane(e,5),o.Int16x8.extractLane(t,6)+o.Int16x8.extractLane(e,6),o.Int16x8.extractLane(t,7)+o.Int16x8.extractLane(e,7))}),void 0===o.Int16x8.sub&&(o.Int16x8.sub=function(t,e){return t=o.Int16x8.check(t),e=o.Int16x8.check(e),o.Int16x8(o.Int16x8.extractLane(t,0)-o.Int16x8.extractLane(e,0),o.Int16x8.extractLane(t,1)-o.Int16x8.extractLane(e,1),o.Int16x8.extractLane(t,2)-o.Int16x8.extractLane(e,2),o.Int16x8.extractLane(t,3)-o.Int16x8.extractLane(e,3),o.Int16x8.extractLane(t,4)-o.Int16x8.extractLane(e,4),o.Int16x8.extractLane(t,5)-o.Int16x8.extractLane(e,5),o.Int16x8.extractLane(t,6)-o.Int16x8.extractLane(e,6),o.Int16x8.extractLane(t,7)-o.Int16x8.extractLane(e,7))}),void 0===o.Int16x8.mul&&(o.Int16x8.mul=function(t,e){return t=o.Int16x8.check(t),e=o.Int16x8.check(e),o.Int16x8(Math.imul(o.Int16x8.extractLane(t,0),o.Int16x8.extractLane(e,0)),Math.imul(o.Int16x8.extractLane(t,1),o.Int16x8.extractLane(e,1)),Math.imul(o.Int16x8.extractLane(t,2),o.Int16x8.extractLane(e,2)),Math.imul(o.Int16x8.extractLane(t,3),o.Int16x8.extractLane(e,3)),Math.imul(o.Int16x8.extractLane(t,4),o.Int16x8.extractLane(e,4)),Math.imul(o.Int16x8.extractLane(t,5),o.Int16x8.extractLane(e,5)),Math.imul(o.Int16x8.extractLane(t,6),o.Int16x8.extractLane(e,6)),Math.imul(o.Int16x8.extractLane(t,7),o.Int16x8.extractLane(e,7)))}),void 0===o.Int16x8.swizzle&&(o.Int16x8.swizzle=function(t,e,a,r,n,s,x,c,h){t=o.Int16x8.check(t),I(e),I(a),I(r),I(n),I(s),I(x),I(c),I(h);var l=i;return l[0]=o.Int16x8.extractLane(t,0),l[1]=o.Int16x8.extractLane(t,1),l[2]=o.Int16x8.extractLane(t,2),l[3]=o.Int16x8.extractLane(t,3),l[4]=o.Int16x8.extractLane(t,4),l[5]=o.Int16x8.extractLane(t,5),l[6]=o.Int16x8.extractLane(t,6),l[7]=o.Int16x8.extractLane(t,7),o.Int16x8(l[e],l[a],l[r],l[n],l[s],l[x],l[c],l[h])}),void 0===o.Int16x8.shuffle&&(_i16x16=new Int16Array(16),o.Int16x8.shuffle=function(t,e,a,r,n,s,i,x,c,h){t=o.Int16x8.check(t),e=o.Int16x8.check(e),f(a),f(r),f(n),f(s),f(i),f(x),f(c),f(h);var l=_i16x16;return l[0]=o.Int16x8.extractLane(t,0),l[1]=o.Int16x8.extractLane(t,1),l[2]=o.Int16x8.extractLane(t,2),l[3]=o.Int16x8.extractLane(t,3),l[4]=o.Int16x8.extractLane(t,4),l[5]=o.Int16x8.extractLane(t,5),l[6]=o.Int16x8.extractLane(t,6),l[7]=o.Int16x8.extractLane(t,7),l[8]=o.Int16x8.extractLane(e,0),l[9]=o.Int16x8.extractLane(e,1),l[10]=o.Int16x8.extractLane(e,2),l[11]=o.Int16x8.extractLane(e,3),l[12]=o.Int16x8.extractLane(e,4),l[13]=o.Int16x8.extractLane(e,5),l[14]=o.Int16x8.extractLane(e,6),l[15]=o.Int16x8.extractLane(e,7),o.Int16x8(l[a],l[r],l[n],l[s],l[i],l[x],l[c],l[h])}),void 0===o.Int16x8.addSaturate&&(o.Int16x8.addSaturate=function(t,e){t=o.Int16x8.check(t),e=o.Int16x8.check(e);var a=o.Int16x8.add(t,e),r=o.Int16x8.splat(32767),n=o.Int16x8.splat(32768),s=o.Int16x8.lessThan(a,t),i=o.Int16x8.lessThan(e,o.Int16x8.splat(0));return o.Int16x8.select(o.Bool16x8.and(s,o.Bool16x8.not(i)),r,o.Int16x8.select(o.Bool16x8.and(o.Bool16x8.not(s),i),n,a))}),void 0===o.Int16x8.subSaturate&&(o.Int16x8.subSaturate=function(t,e){t=o.Int16x8.check(t),e=o.Int16x8.check(e);var a=o.Int16x8.sub(t,e),r=o.Int16x8.splat(32767),n=o.Int16x8.splat(32768),s=o.Int16x8.greaterThan(a,t),i=o.Int16x8.lessThan(e,o.Int16x8.splat(0));return o.Int16x8.select(o.Bool16x8.and(s,o.Bool16x8.not(i)),n,o.Int16x8.select(o.Bool16x8.and(o.Bool16x8.not(s),i),r,a))}),void 0===o.Int16x8.select&&(o.Int16x8.select=function(t,e,a){return t=o.Bool16x8.check(t),e=o.Int16x8.check(e),a=o.Int16x8.check(a),o.Int16x8(o.Bool16x8.extractLane(t,0)?o.Int16x8.extractLane(e,0):o.Int16x8.extractLane(a,0),o.Bool16x8.extractLane(t,1)?o.Int16x8.extractLane(e,1):o.Int16x8.extractLane(a,1),o.Bool16x8.extractLane(t,2)?o.Int16x8.extractLane(e,2):o.Int16x8.extractLane(a,2),o.Bool16x8.extractLane(t,3)?o.Int16x8.extractLane(e,3):o.Int16x8.extractLane(a,3),o.Bool16x8.extractLane(t,4)?o.Int16x8.extractLane(e,4):o.Int16x8.extractLane(a,4),o.Bool16x8.extractLane(t,5)?o.Int16x8.extractLane(e,5):o.Int16x8.extractLane(a,5),o.Bool16x8.extractLane(t,6)?o.Int16x8.extractLane(e,6):o.Int16x8.extractLane(a,6),o.Bool16x8.extractLane(t,7)?o.Int16x8.extractLane(e,7):o.Int16x8.extractLane(a,7))}),void 0===o.Int16x8.selectBits&&(o.Int16x8.selectBits=function(t,e,a){t=o.Int16x8.check(t),e=o.Int16x8.check(e),a=o.Int16x8.check(a);var r=o.Int16x8.and(t,e),n=o.Int16x8.and(o.Int16x8.not(t),a);return o.Int16x8.or(r,n)}),void 0===o.Int16x8.equal&&(o.Int16x8.equal=function(t,e){t=o.Int16x8.check(t),e=o.Int16x8.check(e);var a=o.Int16x8.extractLane(t,0)==o.Int16x8.extractLane(e,0),r=o.Int16x8.extractLane(t,1)==o.Int16x8.extractLane(e,1),n=o.Int16x8.extractLane(t,2)==o.Int16x8.extractLane(e,2),s=o.Int16x8.extractLane(t,3)==o.Int16x8.extractLane(e,3),i=o.Int16x8.extractLane(t,4)==o.Int16x8.extractLane(e,4),x=o.Int16x8.extractLane(t,5)==o.Int16x8.extractLane(e,5),c=o.Int16x8.extractLane(t,6)==o.Int16x8.extractLane(e,6),h=o.Int16x8.extractLane(t,7)==o.Int16x8.extractLane(e,7);return o.Bool16x8(a,r,n,s,i,x,c,h)}),void 0===o.Int16x8.notEqual&&(o.Int16x8.notEqual=function(t,e){t=o.Int16x8.check(t),e=o.Int16x8.check(e);var a=o.Int16x8.extractLane(t,0)!=o.Int16x8.extractLane(e,0),r=o.Int16x8.extractLane(t,1)!=o.Int16x8.extractLane(e,1),n=o.Int16x8.extractLane(t,2)!=o.Int16x8.extractLane(e,2),s=o.Int16x8.extractLane(t,3)!=o.Int16x8.extractLane(e,3),i=o.Int16x8.extractLane(t,4)!=o.Int16x8.extractLane(e,4),x=o.Int16x8.extractLane(t,5)!=o.Int16x8.extractLane(e,5),c=o.Int16x8.extractLane(t,6)!=o.Int16x8.extractLane(e,6),h=o.Int16x8.extractLane(t,7)!=o.Int16x8.extractLane(e,7);return o.Bool16x8(a,r,n,s,i,x,c,h)}),void 0===o.Int16x8.greaterThan&&(o.Int16x8.greaterThan=function(t,e){t=o.Int16x8.check(t),e=o.Int16x8.check(e);var a=o.Int16x8.extractLane(t,0)>o.Int16x8.extractLane(e,0),r=o.Int16x8.extractLane(t,1)>o.Int16x8.extractLane(e,1),n=o.Int16x8.extractLane(t,2)>o.Int16x8.extractLane(e,2),s=o.Int16x8.extractLane(t,3)>o.Int16x8.extractLane(e,3),i=o.Int16x8.extractLane(t,4)>o.Int16x8.extractLane(e,4),x=o.Int16x8.extractLane(t,5)>o.Int16x8.extractLane(e,5),c=o.Int16x8.extractLane(t,6)>o.Int16x8.extractLane(e,6),h=o.Int16x8.extractLane(t,7)>o.Int16x8.extractLane(e,7);return o.Bool16x8(a,r,n,s,i,x,c,h)}),void 0===o.Int16x8.greaterThanOrEqual&&(o.Int16x8.greaterThanOrEqual=function(t,e){t=o.Int16x8.check(t),e=o.Int16x8.check(e);var a=o.Int16x8.extractLane(t,0)>=o.Int16x8.extractLane(e,0),r=o.Int16x8.extractLane(t,1)>=o.Int16x8.extractLane(e,1),n=o.Int16x8.extractLane(t,2)>=o.Int16x8.extractLane(e,2),s=o.Int16x8.extractLane(t,3)>=o.Int16x8.extractLane(e,3),i=o.Int16x8.extractLane(t,4)>=o.Int16x8.extractLane(e,4),x=o.Int16x8.extractLane(t,5)>=o.Int16x8.extractLane(e,5),c=o.Int16x8.extractLane(t,6)>=o.Int16x8.extractLane(e,6),h=o.Int16x8.extractLane(t,7)>=o.Int16x8.extractLane(e,7);return o.Bool16x8(a,r,n,s,i,x,c,h)}),void 0===o.Int16x8.lessThan&&(o.Int16x8.lessThan=function(t,e){t=o.Int16x8.check(t),e=o.Int16x8.check(e);var a=o.Int16x8.extractLane(t,0)<o.Int16x8.extractLane(e,0),r=o.Int16x8.extractLane(t,1)<o.Int16x8.extractLane(e,1),n=o.Int16x8.extractLane(t,2)<o.Int16x8.extractLane(e,2),s=o.Int16x8.extractLane(t,3)<o.Int16x8.extractLane(e,3),i=o.Int16x8.extractLane(t,4)<o.Int16x8.extractLane(e,4),x=o.Int16x8.extractLane(t,5)<o.Int16x8.extractLane(e,5),c=o.Int16x8.extractLane(t,6)<o.Int16x8.extractLane(e,6),h=o.Int16x8.extractLane(t,7)<o.Int16x8.extractLane(e,7);return o.Bool16x8(a,r,n,s,i,x,c,h)}),void 0===o.Int16x8.lessThanOrEqual&&(o.Int16x8.lessThanOrEqual=function(t,e){t=o.Int16x8.check(t),e=o.Int16x8.check(e);var a=o.Int16x8.extractLane(t,0)<=o.Int16x8.extractLane(e,0),r=o.Int16x8.extractLane(t,1)<=o.Int16x8.extractLane(e,1),n=o.Int16x8.extractLane(t,2)<=o.Int16x8.extractLane(e,2),s=o.Int16x8.extractLane(t,3)<=o.Int16x8.extractLane(e,3),i=o.Int16x8.extractLane(t,4)<=o.Int16x8.extractLane(e,4),x=o.Int16x8.extractLane(t,5)<=o.Int16x8.extractLane(e,5),c=o.Int16x8.extractLane(t,6)<=o.Int16x8.extractLane(e,6),h=o.Int16x8.extractLane(t,7)<=o.Int16x8.extractLane(e,7);return o.Bool16x8(a,r,n,s,i,x,c,h)}),void 0===o.Int16x8.shiftLeftByScalar&&(o.Int16x8.shiftLeftByScalar=function(t,e){t=o.Int16x8.check(t),e>>>0>16&&(e=16);var a=o.Int16x8.extractLane(t,0)<<e,r=o.Int16x8.extractLane(t,1)<<e,n=o.Int16x8.extractLane(t,2)<<e,s=o.Int16x8.extractLane(t,3)<<e,i=o.Int16x8.extractLane(t,4)<<e,x=o.Int16x8.extractLane(t,5)<<e,c=o.Int16x8.extractLane(t,6)<<e,h=o.Int16x8.extractLane(t,7)<<e;return o.Int16x8(a,r,n,s,i,x,c,h)}),void 0===o.Int16x8.shiftRightLogicalByScalar&&(o.Int16x8.shiftRightLogicalByScalar=function(t,e){t=o.Int16x8.check(t),e>>>0>16&&(e=16);var a=(65535&o.Int16x8.extractLane(t,0))>>>e,r=(65535&o.Int16x8.extractLane(t,1))>>>e,n=(65535&o.Int16x8.extractLane(t,2))>>>e,s=(65535&o.Int16x8.extractLane(t,3))>>>e,i=(65535&o.Int16x8.extractLane(t,4))>>>e,x=(65535&o.Int16x8.extractLane(t,5))>>>e,c=(65535&o.Int16x8.extractLane(t,6))>>>e,h=(65535&o.Int16x8.extractLane(t,7))>>>e;return o.Int16x8(a,r,n,s,i,x,c,h)}),void 0===o.Int16x8.shiftRightArithmeticByScalar&&(o.Int16x8.shiftRightArithmeticByScalar=function(t,e){t=o.Int16x8.check(t),e>>>0>16&&(e=16);var a=o.Int16x8.extractLane(t,0)>>e,r=o.Int16x8.extractLane(t,1)>>e,n=o.Int16x8.extractLane(t,2)>>e,s=o.Int16x8.extractLane(t,3)>>e,i=o.Int16x8.extractLane(t,4)>>e,x=o.Int16x8.extractLane(t,5)>>e,c=o.Int16x8.extractLane(t,6)>>e,h=o.Int16x8.extractLane(t,7)>>e;return o.Int16x8(a,r,n,s,i,x,c,h)}),void 0===o.Int16x8.load&&(o.Int16x8.load=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+16>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=i,g=1==a?x:2==a?l:4==a?t instanceof Float32Array?r:s:n,u=16/a,d=0;d<u;++d)g[d]=t[e+d];return o.Int16x8(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7])}),void 0===o.Int16x8.store&&(o.Int16x8.store=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var l=t.BYTES_PER_ELEMENT;if(e<0||e*l+16>t.byteLength)throw new RangeError("The value of index is invalid.");a=o.Int16x8.check(a),i[0]=o.Int16x8.extractLane(a,0),i[1]=o.Int16x8.extractLane(a,1),i[2]=o.Int16x8.extractLane(a,2),i[3]=o.Int16x8.extractLane(a,3),i[4]=o.Int16x8.extractLane(a,4),i[5]=o.Int16x8.extractLane(a,5),i[6]=o.Int16x8.extractLane(a,6),i[7]=o.Int16x8.extractLane(a,7);for(var g=1==l?x:2==l?i:4==l?t instanceof Float32Array?r:s:n,u=16/l,d=0;d<u;++d)t[e+d]=g[d];return a}),void 0===o.Int8x16.and&&(o.Int8x16.and=function(t,e){return t=o.Int8x16.check(t),e=o.Int8x16.check(e),o.Int8x16(o.Int8x16.extractLane(t,0)&o.Int8x16.extractLane(e,0),o.Int8x16.extractLane(t,1)&o.Int8x16.extractLane(e,1),o.Int8x16.extractLane(t,2)&o.Int8x16.extractLane(e,2),o.Int8x16.extractLane(t,3)&o.Int8x16.extractLane(e,3),o.Int8x16.extractLane(t,4)&o.Int8x16.extractLane(e,4),o.Int8x16.extractLane(t,5)&o.Int8x16.extractLane(e,5),o.Int8x16.extractLane(t,6)&o.Int8x16.extractLane(e,6),o.Int8x16.extractLane(t,7)&o.Int8x16.extractLane(e,7),o.Int8x16.extractLane(t,8)&o.Int8x16.extractLane(e,8),o.Int8x16.extractLane(t,9)&o.Int8x16.extractLane(e,9),o.Int8x16.extractLane(t,10)&o.Int8x16.extractLane(e,10),o.Int8x16.extractLane(t,11)&o.Int8x16.extractLane(e,11),o.Int8x16.extractLane(t,12)&o.Int8x16.extractLane(e,12),o.Int8x16.extractLane(t,13)&o.Int8x16.extractLane(e,13),o.Int8x16.extractLane(t,14)&o.Int8x16.extractLane(e,14),o.Int8x16.extractLane(t,15)&o.Int8x16.extractLane(e,15))}),void 0===o.Int8x16.or&&(o.Int8x16.or=function(t,e){return t=o.Int8x16.check(t),e=o.Int8x16.check(e),o.Int8x16(o.Int8x16.extractLane(t,0)|o.Int8x16.extractLane(e,0),o.Int8x16.extractLane(t,1)|o.Int8x16.extractLane(e,1),o.Int8x16.extractLane(t,2)|o.Int8x16.extractLane(e,2),o.Int8x16.extractLane(t,3)|o.Int8x16.extractLane(e,3),o.Int8x16.extractLane(t,4)|o.Int8x16.extractLane(e,4),o.Int8x16.extractLane(t,5)|o.Int8x16.extractLane(e,5),o.Int8x16.extractLane(t,6)|o.Int8x16.extractLane(e,6),o.Int8x16.extractLane(t,7)|o.Int8x16.extractLane(e,7),o.Int8x16.extractLane(t,8)|o.Int8x16.extractLane(e,8),o.Int8x16.extractLane(t,9)|o.Int8x16.extractLane(e,9),o.Int8x16.extractLane(t,10)|o.Int8x16.extractLane(e,10),o.Int8x16.extractLane(t,11)|o.Int8x16.extractLane(e,11),o.Int8x16.extractLane(t,12)|o.Int8x16.extractLane(e,12),o.Int8x16.extractLane(t,13)|o.Int8x16.extractLane(e,13),o.Int8x16.extractLane(t,14)|o.Int8x16.extractLane(e,14),o.Int8x16.extractLane(t,15)|o.Int8x16.extractLane(e,15))}),void 0===o.Int8x16.xor&&(o.Int8x16.xor=function(t,e){return t=o.Int8x16.check(t),e=o.Int8x16.check(e),o.Int8x16(o.Int8x16.extractLane(t,0)^o.Int8x16.extractLane(e,0),o.Int8x16.extractLane(t,1)^o.Int8x16.extractLane(e,1),o.Int8x16.extractLane(t,2)^o.Int8x16.extractLane(e,2),o.Int8x16.extractLane(t,3)^o.Int8x16.extractLane(e,3),o.Int8x16.extractLane(t,4)^o.Int8x16.extractLane(e,4),o.Int8x16.extractLane(t,5)^o.Int8x16.extractLane(e,5),o.Int8x16.extractLane(t,6)^o.Int8x16.extractLane(e,6),o.Int8x16.extractLane(t,7)^o.Int8x16.extractLane(e,7),o.Int8x16.extractLane(t,8)^o.Int8x16.extractLane(e,8),o.Int8x16.extractLane(t,9)^o.Int8x16.extractLane(e,9),o.Int8x16.extractLane(t,10)^o.Int8x16.extractLane(e,10),o.Int8x16.extractLane(t,11)^o.Int8x16.extractLane(e,11),o.Int8x16.extractLane(t,12)^o.Int8x16.extractLane(e,12),o.Int8x16.extractLane(t,13)^o.Int8x16.extractLane(e,13),o.Int8x16.extractLane(t,14)^o.Int8x16.extractLane(e,14),o.Int8x16.extractLane(t,15)^o.Int8x16.extractLane(e,15))}),void 0===o.Int8x16.not&&(o.Int8x16.not=function(t){return t=o.Int8x16.check(t),o.Int8x16(~o.Int8x16.extractLane(t,0),~o.Int8x16.extractLane(t,1),~o.Int8x16.extractLane(t,2),~o.Int8x16.extractLane(t,3),~o.Int8x16.extractLane(t,4),~o.Int8x16.extractLane(t,5),~o.Int8x16.extractLane(t,6),~o.Int8x16.extractLane(t,7),~o.Int8x16.extractLane(t,8),~o.Int8x16.extractLane(t,9),~o.Int8x16.extractLane(t,10),~o.Int8x16.extractLane(t,11),~o.Int8x16.extractLane(t,12),~o.Int8x16.extractLane(t,13),~o.Int8x16.extractLane(t,14),~o.Int8x16.extractLane(t,15))}),void 0===o.Int8x16.neg&&(o.Int8x16.neg=function(t){return t=o.Int8x16.check(t),o.Int8x16(-o.Int8x16.extractLane(t,0),-o.Int8x16.extractLane(t,1),-o.Int8x16.extractLane(t,2),-o.Int8x16.extractLane(t,3),-o.Int8x16.extractLane(t,4),-o.Int8x16.extractLane(t,5),-o.Int8x16.extractLane(t,6),-o.Int8x16.extractLane(t,7),-o.Int8x16.extractLane(t,8),-o.Int8x16.extractLane(t,9),-o.Int8x16.extractLane(t,10),-o.Int8x16.extractLane(t,11),-o.Int8x16.extractLane(t,12),-o.Int8x16.extractLane(t,13),-o.Int8x16.extractLane(t,14),-o.Int8x16.extractLane(t,15))}),void 0===o.Int8x16.add&&(o.Int8x16.add=function(t,e){return t=o.Int8x16.check(t),e=o.Int8x16.check(e),o.Int8x16(o.Int8x16.extractLane(t,0)+o.Int8x16.extractLane(e,0),o.Int8x16.extractLane(t,1)+o.Int8x16.extractLane(e,1),o.Int8x16.extractLane(t,2)+o.Int8x16.extractLane(e,2),o.Int8x16.extractLane(t,3)+o.Int8x16.extractLane(e,3),o.Int8x16.extractLane(t,4)+o.Int8x16.extractLane(e,4),o.Int8x16.extractLane(t,5)+o.Int8x16.extractLane(e,5),o.Int8x16.extractLane(t,6)+o.Int8x16.extractLane(e,6),o.Int8x16.extractLane(t,7)+o.Int8x16.extractLane(e,7),o.Int8x16.extractLane(t,8)+o.Int8x16.extractLane(e,8),o.Int8x16.extractLane(t,9)+o.Int8x16.extractLane(e,9),o.Int8x16.extractLane(t,10)+o.Int8x16.extractLane(e,10),o.Int8x16.extractLane(t,11)+o.Int8x16.extractLane(e,11),o.Int8x16.extractLane(t,12)+o.Int8x16.extractLane(e,12),o.Int8x16.extractLane(t,13)+o.Int8x16.extractLane(e,13),o.Int8x16.extractLane(t,14)+o.Int8x16.extractLane(e,14),o.Int8x16.extractLane(t,15)+o.Int8x16.extractLane(e,15))}),void 0===o.Int8x16.sub&&(o.Int8x16.sub=function(t,e){return t=o.Int8x16.check(t),e=o.Int8x16.check(e),o.Int8x16(o.Int8x16.extractLane(t,0)-o.Int8x16.extractLane(e,0),o.Int8x16.extractLane(t,1)-o.Int8x16.extractLane(e,1),o.Int8x16.extractLane(t,2)-o.Int8x16.extractLane(e,2),o.Int8x16.extractLane(t,3)-o.Int8x16.extractLane(e,3),o.Int8x16.extractLane(t,4)-o.Int8x16.extractLane(e,4),o.Int8x16.extractLane(t,5)-o.Int8x16.extractLane(e,5),o.Int8x16.extractLane(t,6)-o.Int8x16.extractLane(e,6),o.Int8x16.extractLane(t,7)-o.Int8x16.extractLane(e,7),o.Int8x16.extractLane(t,8)-o.Int8x16.extractLane(e,8),o.Int8x16.extractLane(t,9)-o.Int8x16.extractLane(e,9),o.Int8x16.extractLane(t,10)-o.Int8x16.extractLane(e,10),o.Int8x16.extractLane(t,11)-o.Int8x16.extractLane(e,11),o.Int8x16.extractLane(t,12)-o.Int8x16.extractLane(e,12),o.Int8x16.extractLane(t,13)-o.Int8x16.extractLane(e,13),o.Int8x16.extractLane(t,14)-o.Int8x16.extractLane(e,14),o.Int8x16.extractLane(t,15)-o.Int8x16.extractLane(e,15))}),void 0===o.Int8x16.mul&&(o.Int8x16.mul=function(t,e){return t=o.Int8x16.check(t),e=o.Int8x16.check(e),o.Int8x16(Math.imul(o.Int8x16.extractLane(t,0),o.Int8x16.extractLane(e,0)),Math.imul(o.Int8x16.extractLane(t,1),o.Int8x16.extractLane(e,1)),Math.imul(o.Int8x16.extractLane(t,2),o.Int8x16.extractLane(e,2)),Math.imul(o.Int8x16.extractLane(t,3),o.Int8x16.extractLane(e,3)),Math.imul(o.Int8x16.extractLane(t,4),o.Int8x16.extractLane(e,4)),Math.imul(o.Int8x16.extractLane(t,5),o.Int8x16.extractLane(e,5)),Math.imul(o.Int8x16.extractLane(t,6),o.Int8x16.extractLane(e,6)),Math.imul(o.Int8x16.extractLane(t,7),o.Int8x16.extractLane(e,7)),Math.imul(o.Int8x16.extractLane(t,8),o.Int8x16.extractLane(e,8)),Math.imul(o.Int8x16.extractLane(t,9),o.Int8x16.extractLane(e,9)),Math.imul(o.Int8x16.extractLane(t,10),o.Int8x16.extractLane(e,10)),Math.imul(o.Int8x16.extractLane(t,11),o.Int8x16.extractLane(e,11)),Math.imul(o.Int8x16.extractLane(t,12),o.Int8x16.extractLane(e,12)),Math.imul(o.Int8x16.extractLane(t,13),o.Int8x16.extractLane(e,13)),Math.imul(o.Int8x16.extractLane(t,14),o.Int8x16.extractLane(e,14)),Math.imul(o.Int8x16.extractLane(t,15),o.Int8x16.extractLane(e,15)))}),void 0===o.Int8x16.swizzle&&(o.Int8x16.swizzle=function(t,e,a,r,n,s,i,c,h,l,g,u,d,m,L,I,p){t=o.Int8x16.check(t),f(e),f(a),f(r),f(n),f(s),f(i),f(c),f(h),f(l),f(g),f(u),f(d),f(m),f(L),f(I),f(p);var y=x;return y[0]=o.Int8x16.extractLane(t,0),y[1]=o.Int8x16.extractLane(t,1),y[2]=o.Int8x16.extractLane(t,2),y[3]=o.Int8x16.extractLane(t,3),y[4]=o.Int8x16.extractLane(t,4),y[5]=o.Int8x16.extractLane(t,5),y[6]=o.Int8x16.extractLane(t,6),y[7]=o.Int8x16.extractLane(t,7),y[8]=o.Int8x16.extractLane(t,8),y[9]=o.Int8x16.extractLane(t,9),y[10]=o.Int8x16.extractLane(t,10),y[11]=o.Int8x16.extractLane(t,11),y[12]=o.Int8x16.extractLane(t,12),y[13]=o.Int8x16.extractLane(t,13),y[14]=o.Int8x16.extractLane(t,14),y[15]=o.Int8x16.extractLane(t,15),o.Int8x16(y[e],y[a],y[r],y[n],y[s],y[i],y[c],y[h],y[l],y[g],y[u],y[d],y[m],y[L],y[I],y[p])}),void 0===o.Int8x16.shuffle&&(_i8x32=new Int8Array(32),o.Int8x16.shuffle=function(t,e,a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f){t=o.Int8x16.check(t),e=o.Int8x16.check(e),p(a),p(r),p(n),p(s),p(i),p(x),p(c),p(h),p(l),p(g),p(u),p(d),p(m),p(L),p(I),p(f);var y=_i8x32;return y[0]=o.Int8x16.extractLane(t,0),y[1]=o.Int8x16.extractLane(t,1),y[2]=o.Int8x16.extractLane(t,2),y[3]=o.Int8x16.extractLane(t,3),y[4]=o.Int8x16.extractLane(t,4),y[5]=o.Int8x16.extractLane(t,5),y[6]=o.Int8x16.extractLane(t,6),y[7]=o.Int8x16.extractLane(t,7),y[8]=o.Int8x16.extractLane(t,8),y[9]=o.Int8x16.extractLane(t,9),y[10]=o.Int8x16.extractLane(t,10),y[11]=o.Int8x16.extractLane(t,11),y[12]=o.Int8x16.extractLane(t,12),y[13]=o.Int8x16.extractLane(t,13),y[14]=o.Int8x16.extractLane(t,14),y[15]=o.Int8x16.extractLane(t,15),y[16]=o.Int8x16.extractLane(e,0),y[17]=o.Int8x16.extractLane(e,1),y[18]=o.Int8x16.extractLane(e,2),y[19]=o.Int8x16.extractLane(e,3),y[20]=o.Int8x16.extractLane(e,4),y[21]=o.Int8x16.extractLane(e,5),y[22]=o.Int8x16.extractLane(e,6),y[23]=o.Int8x16.extractLane(e,7),y[24]=o.Int8x16.extractLane(e,8),y[25]=o.Int8x16.extractLane(e,9),y[26]=o.Int8x16.extractLane(e,10),y[27]=o.Int8x16.extractLane(e,11),y[28]=o.Int8x16.extractLane(e,12),y[29]=o.Int8x16.extractLane(e,13),y[30]=o.Int8x16.extractLane(e,14),y[31]=o.Int8x16.extractLane(e,15),o.Int8x16(y[a],y[r],y[n],y[s],y[i],y[x],y[c],y[h],y[l],y[g],y[u],y[d],y[m],y[L],y[I],y[f])}),void 0===o.Int8x16.addSaturate&&(o.Int8x16.addSaturate=function(t,e){t=o.Int8x16.check(t),e=o.Int8x16.check(e);var a=o.Int8x16.add(t,e),r=o.Int8x16.splat(127),n=o.Int8x16.splat(128),s=o.Int8x16.lessThan(a,t),i=o.Int8x16.lessThan(e,o.Int8x16.splat(0));return o.Int8x16.select(o.Bool8x16.and(s,o.Bool8x16.not(i)),r,o.Int8x16.select(o.Bool8x16.and(o.Bool8x16.not(s),i),n,a))}),void 0===o.Int8x16.subSaturate&&(o.Int8x16.subSaturate=function(t,e){t=o.Int8x16.check(t),e=o.Int8x16.check(e);var a=o.Int8x16.sub(t,e),r=o.Int8x16.splat(127),n=o.Int8x16.splat(128),s=o.Int8x16.greaterThan(a,t),i=o.Int8x16.lessThan(e,o.Int8x16.splat(0));return o.Int8x16.select(o.Bool8x16.and(s,o.Bool8x16.not(i)),n,o.Int8x16.select(o.Bool8x16.and(o.Bool8x16.not(s),i),r,a))}),void 0===o.Int8x16.sumOfAbsoluteDifferences&&(o.Int8x16.sumOfAbsoluteDifferences=function(t,e){return t=o.Int8x16.check(t),e=o.Int8x16.check(e),Math.abs(o.Int8x16.extractLane(t,0)-o.Int8x16.extractLane(e,0))+Math.abs(o.Int8x16.extractLane(t,1)-o.Int8x16.extractLane(e,1))+Math.abs(o.Int8x16.extractLane(t,2)-o.Int8x16.extractLane(e,2))+Math.abs(o.Int8x16.extractLane(t,3)-o.Int8x16.extractLane(e,3))+Math.abs(o.Int8x16.extractLane(t,4)-o.Int8x16.extractLane(e,4))+Math.abs(o.Int8x16.extractLane(t,5)-o.Int8x16.extractLane(e,5))+Math.abs(o.Int8x16.extractLane(t,6)-o.Int8x16.extractLane(e,6))+Math.abs(o.Int8x16.extractLane(t,7)-o.Int8x16.extractLane(e,7))+Math.abs(o.Int8x16.extractLane(t,8)-o.Int8x16.extractLane(e,8))+Math.abs(o.Int8x16.extractLane(t,9)-o.Int8x16.extractLane(e,9))+Math.abs(o.Int8x16.extractLane(t,10)-o.Int8x16.extractLane(e,10))+Math.abs(o.Int8x16.extractLane(t,11)-o.Int8x16.extractLane(e,11))+Math.abs(o.Int8x16.extractLane(t,12)-o.Int8x16.extractLane(e,12))+Math.abs(o.Int8x16.extractLane(t,13)-o.Int8x16.extractLane(e,13))+Math.abs(o.Int8x16.extractLane(t,14)-o.Int8x16.extractLane(e,14))+Math.abs(o.Int8x16.extractLane(t,15)-o.Int8x16.extractLane(e,15))}),void 0===o.Int8x16.select&&(o.Int8x16.select=function(t,e,a){return t=o.Bool8x16.check(t),e=o.Int8x16.check(e),a=o.Int8x16.check(a),o.Int8x16(o.Bool8x16.extractLane(t,0)?o.Int8x16.extractLane(e,0):o.Int8x16.extractLane(a,0),o.Bool8x16.extractLane(t,1)?o.Int8x16.extractLane(e,1):o.Int8x16.extractLane(a,1),o.Bool8x16.extractLane(t,2)?o.Int8x16.extractLane(e,2):o.Int8x16.extractLane(a,2),o.Bool8x16.extractLane(t,3)?o.Int8x16.extractLane(e,3):o.Int8x16.extractLane(a,3),o.Bool8x16.extractLane(t,4)?o.Int8x16.extractLane(e,4):o.Int8x16.extractLane(a,4),o.Bool8x16.extractLane(t,5)?o.Int8x16.extractLane(e,5):o.Int8x16.extractLane(a,5),o.Bool8x16.extractLane(t,6)?o.Int8x16.extractLane(e,6):o.Int8x16.extractLane(a,6),o.Bool8x16.extractLane(t,7)?o.Int8x16.extractLane(e,7):o.Int8x16.extractLane(a,7),o.Bool8x16.extractLane(t,8)?o.Int8x16.extractLane(e,8):o.Int8x16.extractLane(a,8),o.Bool8x16.extractLane(t,9)?o.Int8x16.extractLane(e,9):o.Int8x16.extractLane(a,9),o.Bool8x16.extractLane(t,10)?o.Int8x16.extractLane(e,10):o.Int8x16.extractLane(a,10),o.Bool8x16.extractLane(t,11)?o.Int8x16.extractLane(e,11):o.Int8x16.extractLane(a,11),o.Bool8x16.extractLane(t,12)?o.Int8x16.extractLane(e,12):o.Int8x16.extractLane(a,12),o.Bool8x16.extractLane(t,13)?o.Int8x16.extractLane(e,13):o.Int8x16.extractLane(a,13),o.Bool8x16.extractLane(t,14)?o.Int8x16.extractLane(e,14):o.Int8x16.extractLane(a,14),o.Bool8x16.extractLane(t,15)?o.Int8x16.extractLane(e,15):o.Int8x16.extractLane(a,15))}),void 0===o.Int8x16.selectBits&&(o.Int8x16.selectBits=function(t,e,a){t=o.Int8x16.check(t),e=o.Int8x16.check(e),a=o.Int8x16.check(a);var r=o.Int8x16.and(t,e),n=o.Int8x16.and(o.Int8x16.not(t),a);return o.Int8x16.or(r,n)}),void 0===o.Int8x16.equal&&(o.Int8x16.equal=function(t,e){t=o.Int8x16.check(t),e=o.Int8x16.check(e);var a=o.Int8x16.extractLane(t,0)==o.Int8x16.extractLane(e,0),r=o.Int8x16.extractLane(t,1)==o.Int8x16.extractLane(e,1),n=o.Int8x16.extractLane(t,2)==o.Int8x16.extractLane(e,2),s=o.Int8x16.extractLane(t,3)==o.Int8x16.extractLane(e,3),i=o.Int8x16.extractLane(t,4)==o.Int8x16.extractLane(e,4),x=o.Int8x16.extractLane(t,5)==o.Int8x16.extractLane(e,5),c=o.Int8x16.extractLane(t,6)==o.Int8x16.extractLane(e,6),h=o.Int8x16.extractLane(t,7)==o.Int8x16.extractLane(e,7),l=o.Int8x16.extractLane(t,8)==o.Int8x16.extractLane(e,8),g=o.Int8x16.extractLane(t,9)==o.Int8x16.extractLane(e,9),u=o.Int8x16.extractLane(t,10)==o.Int8x16.extractLane(e,10),d=o.Int8x16.extractLane(t,11)==o.Int8x16.extractLane(e,11),m=o.Int8x16.extractLane(t,12)==o.Int8x16.extractLane(e,12),L=o.Int8x16.extractLane(t,13)==o.Int8x16.extractLane(e,13),I=o.Int8x16.extractLane(t,14)==o.Int8x16.extractLane(e,14),f=o.Int8x16.extractLane(t,15)==o.Int8x16.extractLane(e,15);return o.Bool8x16(a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f)}),void 0===o.Int8x16.notEqual&&(o.Int8x16.notEqual=function(t,e){t=o.Int8x16.check(t),e=o.Int8x16.check(e);var a=o.Int8x16.extractLane(t,0)!=o.Int8x16.extractLane(e,0),r=o.Int8x16.extractLane(t,1)!=o.Int8x16.extractLane(e,1),n=o.Int8x16.extractLane(t,2)!=o.Int8x16.extractLane(e,2),s=o.Int8x16.extractLane(t,3)!=o.Int8x16.extractLane(e,3),i=o.Int8x16.extractLane(t,4)!=o.Int8x16.extractLane(e,4),x=o.Int8x16.extractLane(t,5)!=o.Int8x16.extractLane(e,5),c=o.Int8x16.extractLane(t,6)!=o.Int8x16.extractLane(e,6),h=o.Int8x16.extractLane(t,7)!=o.Int8x16.extractLane(e,7),l=o.Int8x16.extractLane(t,8)!=o.Int8x16.extractLane(e,8),g=o.Int8x16.extractLane(t,9)!=o.Int8x16.extractLane(e,9),u=o.Int8x16.extractLane(t,10)!=o.Int8x16.extractLane(e,10),d=o.Int8x16.extractLane(t,11)!=o.Int8x16.extractLane(e,11),m=o.Int8x16.extractLane(t,12)!=o.Int8x16.extractLane(e,12),L=o.Int8x16.extractLane(t,13)!=o.Int8x16.extractLane(e,13),I=o.Int8x16.extractLane(t,14)!=o.Int8x16.extractLane(e,14),f=o.Int8x16.extractLane(t,15)!=o.Int8x16.extractLane(e,15);return o.Bool8x16(a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f)}),void 0===o.Int8x16.greaterThan&&(o.Int8x16.greaterThan=function(t,e){t=o.Int8x16.check(t),e=o.Int8x16.check(e);var a=o.Int8x16.extractLane(t,0)>o.Int8x16.extractLane(e,0),r=o.Int8x16.extractLane(t,1)>o.Int8x16.extractLane(e,1),n=o.Int8x16.extractLane(t,2)>o.Int8x16.extractLane(e,2),s=o.Int8x16.extractLane(t,3)>o.Int8x16.extractLane(e,3),i=o.Int8x16.extractLane(t,4)>o.Int8x16.extractLane(e,4),x=o.Int8x16.extractLane(t,5)>o.Int8x16.extractLane(e,5),c=o.Int8x16.extractLane(t,6)>o.Int8x16.extractLane(e,6),h=o.Int8x16.extractLane(t,7)>o.Int8x16.extractLane(e,7),l=o.Int8x16.extractLane(t,8)>o.Int8x16.extractLane(e,8),g=o.Int8x16.extractLane(t,9)>o.Int8x16.extractLane(e,9),u=o.Int8x16.extractLane(t,10)>o.Int8x16.extractLane(e,10),d=o.Int8x16.extractLane(t,11)>o.Int8x16.extractLane(e,11),m=o.Int8x16.extractLane(t,12)>o.Int8x16.extractLane(e,12),L=o.Int8x16.extractLane(t,13)>o.Int8x16.extractLane(e,13),I=o.Int8x16.extractLane(t,14)>o.Int8x16.extractLane(e,14),f=o.Int8x16.extractLane(t,15)>o.Int8x16.extractLane(e,15);return o.Bool8x16(a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f)}),void 0===o.Int8x16.greaterThanOrEqual&&(o.Int8x16.greaterThanOrEqual=function(t,e){t=o.Int8x16.check(t),e=o.Int8x16.check(e);var a=o.Int8x16.extractLane(t,0)>=o.Int8x16.extractLane(e,0),r=o.Int8x16.extractLane(t,1)>=o.Int8x16.extractLane(e,1),n=o.Int8x16.extractLane(t,2)>=o.Int8x16.extractLane(e,2),s=o.Int8x16.extractLane(t,3)>=o.Int8x16.extractLane(e,3),i=o.Int8x16.extractLane(t,4)>=o.Int8x16.extractLane(e,4),x=o.Int8x16.extractLane(t,5)>=o.Int8x16.extractLane(e,5),c=o.Int8x16.extractLane(t,6)>=o.Int8x16.extractLane(e,6),h=o.Int8x16.extractLane(t,7)>=o.Int8x16.extractLane(e,7),l=o.Int8x16.extractLane(t,8)>=o.Int8x16.extractLane(e,8),g=o.Int8x16.extractLane(t,9)>=o.Int8x16.extractLane(e,9),u=o.Int8x16.extractLane(t,10)>=o.Int8x16.extractLane(e,10),d=o.Int8x16.extractLane(t,11)>=o.Int8x16.extractLane(e,11),m=o.Int8x16.extractLane(t,12)>=o.Int8x16.extractLane(e,12),L=o.Int8x16.extractLane(t,13)>=o.Int8x16.extractLane(e,13),I=o.Int8x16.extractLane(t,14)>=o.Int8x16.extractLane(e,14),f=o.Int8x16.extractLane(t,15)>=o.Int8x16.extractLane(e,15);return o.Bool8x16(a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f)}),void 0===o.Int8x16.lessThan&&(o.Int8x16.lessThan=function(t,e){t=o.Int8x16.check(t),e=o.Int8x16.check(e);var a=o.Int8x16.extractLane(t,0)<o.Int8x16.extractLane(e,0),r=o.Int8x16.extractLane(t,1)<o.Int8x16.extractLane(e,1),n=o.Int8x16.extractLane(t,2)<o.Int8x16.extractLane(e,2),s=o.Int8x16.extractLane(t,3)<o.Int8x16.extractLane(e,3),i=o.Int8x16.extractLane(t,4)<o.Int8x16.extractLane(e,4),x=o.Int8x16.extractLane(t,5)<o.Int8x16.extractLane(e,5),c=o.Int8x16.extractLane(t,6)<o.Int8x16.extractLane(e,6),h=o.Int8x16.extractLane(t,7)<o.Int8x16.extractLane(e,7),l=o.Int8x16.extractLane(t,8)<o.Int8x16.extractLane(e,8),g=o.Int8x16.extractLane(t,9)<o.Int8x16.extractLane(e,9),u=o.Int8x16.extractLane(t,10)<o.Int8x16.extractLane(e,10),d=o.Int8x16.extractLane(t,11)<o.Int8x16.extractLane(e,11),m=o.Int8x16.extractLane(t,12)<o.Int8x16.extractLane(e,12),L=o.Int8x16.extractLane(t,13)<o.Int8x16.extractLane(e,13),I=o.Int8x16.extractLane(t,14)<o.Int8x16.extractLane(e,14),f=o.Int8x16.extractLane(t,15)<o.Int8x16.extractLane(e,15);return o.Bool8x16(a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f)}),void 0===o.Int8x16.lessThanOrEqual&&(o.Int8x16.lessThanOrEqual=function(t,e){t=o.Int8x16.check(t),e=o.Int8x16.check(e);var a=o.Int8x16.extractLane(t,0)<=o.Int8x16.extractLane(e,0),r=o.Int8x16.extractLane(t,1)<=o.Int8x16.extractLane(e,1),n=o.Int8x16.extractLane(t,2)<=o.Int8x16.extractLane(e,2),s=o.Int8x16.extractLane(t,3)<=o.Int8x16.extractLane(e,3),i=o.Int8x16.extractLane(t,4)<=o.Int8x16.extractLane(e,4),x=o.Int8x16.extractLane(t,5)<=o.Int8x16.extractLane(e,5),c=o.Int8x16.extractLane(t,6)<=o.Int8x16.extractLane(e,6),h=o.Int8x16.extractLane(t,7)<=o.Int8x16.extractLane(e,7),l=o.Int8x16.extractLane(t,8)<=o.Int8x16.extractLane(e,8),g=o.Int8x16.extractLane(t,9)<=o.Int8x16.extractLane(e,9),u=o.Int8x16.extractLane(t,10)<=o.Int8x16.extractLane(e,10),d=o.Int8x16.extractLane(t,11)<=o.Int8x16.extractLane(e,11),m=o.Int8x16.extractLane(t,12)<=o.Int8x16.extractLane(e,12),L=o.Int8x16.extractLane(t,13)<=o.Int8x16.extractLane(e,13),I=o.Int8x16.extractLane(t,14)<=o.Int8x16.extractLane(e,14),f=o.Int8x16.extractLane(t,15)<=o.Int8x16.extractLane(e,15);return o.Bool8x16(a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f)}),void 0===o.Int8x16.shiftLeftByScalar&&(o.Int8x16.shiftLeftByScalar=function(t,e){t=o.Int8x16.check(t),e>>>0>8&&(e=8);var a=o.Int8x16.extractLane(t,0)<<e,r=o.Int8x16.extractLane(t,1)<<e,n=o.Int8x16.extractLane(t,2)<<e,s=o.Int8x16.extractLane(t,3)<<e,i=o.Int8x16.extractLane(t,4)<<e,x=o.Int8x16.extractLane(t,5)<<e,c=o.Int8x16.extractLane(t,6)<<e,h=o.Int8x16.extractLane(t,7)<<e,l=o.Int8x16.extractLane(t,8)<<e,g=o.Int8x16.extractLane(t,9)<<e,u=o.Int8x16.extractLane(t,10)<<e,d=o.Int8x16.extractLane(t,11)<<e,m=o.Int8x16.extractLane(t,12)<<e,L=o.Int8x16.extractLane(t,13)<<e,I=o.Int8x16.extractLane(t,14)<<e,f=o.Int8x16.extractLane(t,15)<<e;return o.Int8x16(a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f)}),void 0===o.Int8x16.shiftRightLogicalByScalar&&(o.Int8x16.shiftRightLogicalByScalar=function(t,e){t=o.Int8x16.check(t),e>>>0>8&&(e=8);var a=(255&o.Int8x16.extractLane(t,0))>>>e,r=(255&o.Int8x16.extractLane(t,1))>>>e,n=(255&o.Int8x16.extractLane(t,2))>>>e,s=(255&o.Int8x16.extractLane(t,3))>>>e,i=(255&o.Int8x16.extractLane(t,4))>>>e,x=(255&o.Int8x16.extractLane(t,5))>>>e,c=(255&o.Int8x16.extractLane(t,6))>>>e,h=(255&o.Int8x16.extractLane(t,7))>>>e,l=(255&o.Int8x16.extractLane(t,8))>>>e,g=(255&o.Int8x16.extractLane(t,9))>>>e,u=(255&o.Int8x16.extractLane(t,10))>>>e,d=(255&o.Int8x16.extractLane(t,11))>>>e,m=(255&o.Int8x16.extractLane(t,12))>>>e,L=(255&o.Int8x16.extractLane(t,13))>>>e,I=(255&o.Int8x16.extractLane(t,14))>>>e,f=(255&o.Int8x16.extractLane(t,15))>>>e;return o.Int8x16(a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f)}),void 0===o.Int8x16.shiftRightArithmeticByScalar&&(o.Int8x16.shiftRightArithmeticByScalar=function(t,e){t=o.Int8x16.check(t),e>>>0>8&&(e=8);var a=o.Int8x16.extractLane(t,0)>>e,r=o.Int8x16.extractLane(t,1)>>e,n=o.Int8x16.extractLane(t,2)>>e,s=o.Int8x16.extractLane(t,3)>>e,i=o.Int8x16.extractLane(t,4)>>e,x=o.Int8x16.extractLane(t,5)>>e,c=o.Int8x16.extractLane(t,6)>>e,h=o.Int8x16.extractLane(t,7)>>e,l=o.Int8x16.extractLane(t,8)>>e,g=o.Int8x16.extractLane(t,9)>>e,u=o.Int8x16.extractLane(t,10)>>e,d=o.Int8x16.extractLane(t,11)>>e,m=o.Int8x16.extractLane(t,12)>>e,L=o.Int8x16.extractLane(t,13)>>e,I=o.Int8x16.extractLane(t,14)>>e,f=o.Int8x16.extractLane(t,15)>>e;return o.Int8x16(a,r,n,s,i,x,c,h,l,g,u,d,m,L,I,f)}),void 0===o.Int8x16.load&&(o.Int8x16.load=function(t,e){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var a=t.BYTES_PER_ELEMENT;if(e<0||e*a+16>t.byteLength)throw new RangeError("The value of index is invalid.");for(var l=x,g=1==a?l:2==a?i:4==a?t instanceof Float32Array?r:s:n,u=16/a,d=0;d<u;++d)g[d]=t[e+d];return o.Int8x16(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])}),void 0===o.Int8x16.store&&(o.Int8x16.store=function(t,e,a){if(!h(t))throw new TypeError("The 1st argument must be a typed array.");if(!c(e))throw new TypeError("The 2nd argument must be an Int32.");var l=t.BYTES_PER_ELEMENT;if(e<0||e*l+16>t.byteLength)throw new RangeError("The value of index is invalid.");a=o.Int8x16.check(a),x[0]=o.Int8x16.extractLane(a,0),x[1]=o.Int8x16.extractLane(a,1),x[2]=o.Int8x16.extractLane(a,2),x[3]=o.Int8x16.extractLane(a,3),x[4]=o.Int8x16.extractLane(a,4),x[5]=o.Int8x16.extractLane(a,5),x[6]=o.Int8x16.extractLane(a,6),x[7]=o.Int8x16.extractLane(a,7),x[8]=o.Int8x16.extractLane(a,8),x[9]=o.Int8x16.extractLane(a,9),x[10]=o.Int8x16.extractLane(a,10),x[11]=o.Int8x16.extractLane(a,11),x[12]=o.Int8x16.extractLane(a,12),x[13]=o.Int8x16.extractLane(a,13),x[14]=o.Int8x16.extractLane(a,14),x[15]=o.Int8x16.extractLane(a,15);for(var g=1==l?x:2==l?i:4==l?t instanceof Float32Array?r:s:n,u=16/l,d=0;d<u;++d)t[e+d]=g[d];return a})}},{}],8:[function(t,e,a){e.exports={name:"vector_math.js",version:"0.0.1",description:"A Vector math library for 3D and 2D applications",author:"jean Grizet <jean.grizet@gmail.com>",license:"MIT",keywords:["vector_math","vector_math.js","vector","matrix","3d","math","aabb","quaternion"],main:"src/vector_math.js",repository:{type:"git",url:"https://github.com/Tezirg/vector_math.js.git"},scripts:{test:"grunt test",build:"grunt build"},devDependencies:{jshint:"latest","uglify-js":"latest",nodeunit:"latest",grunt:"latest","grunt-contrib-jshint":"latest","grunt-contrib-nodeunit":"latest","grunt-contrib-concat":"latest","grunt-contrib-uglify":"latest","grunt-contrib-yuidoc":"latest","grunt-browserify":"latest",browserify:"latest",simd:"latest"}}},{}],9:[function(t,e,a){e.exports=s;var o=t("./vector3.js"),r=t("./triangle.js"),n=(t("./sphere.js"),t("./quad.js"),t("./ray.js"),t("./plane.js"));function s(){this.min=o.zero(),this.max=o.zero()}s.prototype.__defineGetter__("center",function(){var t=this.min.clone();return t.add(this.max),t.scale(.5),t}),s.copy=function(t){var e=new s;return e.min.setFrom(t.min),e.max.setFrom(t.max),e},s.minMax=function(t,e){var a=new s;return a.min.setFrom(t),a.max.setFrom(e),a},s.fromSphere=function(t){var e=new s;return e.setSphere(t),e},s.fromTriangle=function(t){var e=new s;return e.setTriangle(t),e},s.fromQuad=function(t){var e=new s;return e.setQuad(t),e},s.fromRay=function(t,e,a){var o=new s;return o.setRay(t,e,a),o},s.centerAndHalfExtents=function(t,e){var a=new s;return a.setCenterAndHalfExtents(t,e),a},s.fromBuffer=function(t,e){var a=new s;return a.min=o.fromBuffer(t,e),a.max=o.fromBuffer(t,e+3*Float32Array.BYTES_PER_ELEMENT),a},s.prototype.setCenterAndHalfExtents=function(t,e){this.min.setFrom(t),this.min.sub(e),this.max.setFrom(t),this.max.add(e)},s.prototype.setSphere=function(t){this.min.splat(-t.radius),this.min.add(t.center),this.max.splat(t.radius),this.max.add(t.center)},s.prototype.setTriangle=function(t){this.min.setValues(Math.min(t.point0.x,Math.min(t.point1.x,t.point2.x)),Math.min(t.point0.y,Math.min(t.point1.y,t.point2.y)),Math.min(t.point0.z,Math.min(t.point1.z,t.point2.z))),this.max.setValues(Math.max(t.point0.x,Math.max(t.point1.x,t.point2.x)),Math.max(t.point0.y,Math.max(t.point1.y,t.point2.y)),Math.max(t.point0.z,Math.max(t.point1.z,t.point2.z)))},s.prototype.setQuad=function(t){this.min.setValues(Math.min(t.point0.x,Math.min(t.point1.x,Math.min(t.point2.x,t.point3.x))),Math.min(t.point0.y,Math.min(t.point1.y,Math.min(t.point2.y,t.point3.y))),Math.min(t.point0.z,Math.min(t.point1.z,Math.min(t.point2.z,t.point3.z)))),this.max.setValues(Math.max(t.point0.x,Math.max(t.point1.x,Math.max(t.point2.x,t.point3.x))),Math.max(t.point0.y,Math.max(t.point1.y,Math.max(t.point2.y,t.point3.y))),Math.max(t.point0.z,Math.max(t.point1.z,Math.max(t.point2.z,t.point3.z))))},s.prototype.setRay=function(t,e,a){if(t.copyAt(this.min,e),t.copyAt(this.max,a),this.max.x<this.min.x){var o=this.max.x;this.max.x=this.min.x,this.min.x=o}this.max.y<this.min.y&&(o=this.max.y,this.max.y=this.min.y,this.min.y=o),this.max.z<this.min.z&&(o=this.max.z,this.max.z=this.min.z,this.min.z=o)},s.prototype.copyCenterAndHalfExtents=function(t,e){t.setFrom(this.min),t.add(this.max),t.scale(.5),e.setFrom(this.max),e.sub(this.min),e.scale(.5)},s.prototype.copyCenter=function(t){t.setFrom(this.min),t.add(this.max),t.scale(.5)},s.prototype.copyFrom=function(t){this.min.setFrom(t.min),this.max.setFrom(t.max)},s.prototype.transform=function(t){var e=o.zero(),a=o.zero();return this.copyCenterAndHalfExtents(e,a),t.transform3(e),t.absoluteRotate(a),this.min.setFrom(e),this.min.sub(a),this.max.setFrom(e),this.max.add(a),this},s.prototype.rotate=function(t){var e=o.zero(),a=o.zero();return this.copyCenterAndHalfExtents(e,a),t.absoluteRotate(a),this.min.setFrom(e),this.min.sub(a),this.max.setFrom(e),this.max.add(a),this},s.prototype.transformed=function(t,e){e.copyFrom(this),e.transform(t)},s.prototype.rotated=function(t,e){e.copyFrom(this),e.rotate(t)},s.prototype.getPN=function(t,e,a){t.x<0?(e.x=this.min.x,a.x=this.max.x):(e.x=this.max.x,a.x=this.min.x),t.y<0?(e.y=this.min.y,a.y=this.max.y):(e.y=this.max.y,a.y=this.min.y),t.z<0?(e.z=this.min.z,a.z=this.max.z):(e.z=this.max.z,a.z=this.min.z)},s.prototype.hull=function(t){o.min(this.min,t.min,this.min),o.max(this.max,t.max,this.max)},s.prototype.hullPoint=function(t){o.min(this.min,t,this.min),o.max(this.max,t,this.max)},s.prototype.containsAabb3=function(t){var e=t.max,a=t.min;return this.min.x<a.x&&this.min.y<a.y&&this.min.z<a.z&&this.max.x>e.x&&this.max.y>e.y&&this.max.z>e.z},s.prototype.containsSphere=function(t){var e=o.all(t.radius),a=s.centerAndHalfExtents(t.center,e);return this.containsAabb3(a)},s.prototype.containsVector3=function(t){return this.min.x<t.x&&this.min.y<t.y&&this.min.z<t.z&&this.max.x>t.x&&this.max.y>t.y&&this.max.z>t.z},s.prototype.containsTriangle=function(t){return this.containsVector3(t.point0)&&this.containsVector3(t.point1)&&this.containsVector3(t.point2)},s.prototype.intersectsWithAabb3=function(t){var e=t.max,a=t.min;return this.min.x<=e.x&&this.min.y<=e.y&&this.min.z<=e.z&&this.max.x>=a.x&&this.max.y>=a.y&&this.max.z>=a.z},s.prototype.intersectsWithSphere=function(t){for(var e=t.center,a=t.radius,o=0,r=0,n=0;n<3;++n)if((r=e.storage[n]-this.min.storage[n])<0){if(r<-a)return!1;o+=r*r}else if((r=e.storage[n]-this.max.storage[n])>0){if(r>a)return!1;o+=r*r}return o<=a*a},s.prototype.intersectsWithVector3=function(t){return this.min.x<=t.x&&this.min.y<=t.y&&this.min.z<=t.z&&this.max.x>=t.x&&this.max.y>=t.y&&this.max.z>=t.z};var i=o.zero(),x=o.zero(),c=o.zero(),h=o.zero(),l=o.zero(),g=o.zero(),u=o.zero(),d=o.zero(),m=new n;s.prototype.intersectsWithTriangle=function(t){var e,a,o,r,n=Number.EPSILON;return this.copyCenterAndHalfExtents(i,x),c.setFrom(t.point0),c.sub(i),h.setFrom(t.point1),h.sub(i),l.setFrom(t.point2),l.sub(i),g.setFrom(h),g.sub(c),u.setFrom(l),u.sub(h),d.setFrom(c),d.sub(l),!(g.y*g.y+g.z*g.z>n&&(e=c.z*g.y-c.y*g.z,o=l.z*g.y-l.y*g.z,r=x.storage[1]*Math.abs(g.z)+x.storage[2]*Math.abs(g.y),Math.max(-Math.max(e,o),Math.min(e,o))>r+n))&&(!(u.y*u.y+u.z*u.z>n&&(e=c.z*u.y-c.y*u.z,a=h.z*u.y-h.y*u.z,r=x.storage[1]*Math.abs(u.z)+x.storage[2]*Math.abs(u.y),Math.max(-Math.max(e,a),Math.min(e,a))>r+n))&&(!(d.y*d.y+d.z*d.z>n&&(e=c.z*d.y-c.y*d.z,a=h.z*d.y-h.y*d.z,r=x.storage[1]*Math.abs(d.z)+x.storage[2]*Math.abs(d.y),Math.max(-Math.max(e,a),Math.min(e,a))>r+n))&&(!(g.x*g.x+g.z*g.z>n&&(e=c.x*g.z-c.z*g.x,o=l.x*g.z-l.z*g.x,r=x.storage[0]*Math.abs(g.z)+x.storage[2]*Math.abs(g.x),Math.max(-Math.max(e,o),Math.min(e,o))>r+n))&&(!(u.x*u.x+u.z*u.z>n&&(e=c.x*u.z-c.z*u.x,a=h.x*u.z-h.z*u.x,r=x.storage[0]*Math.abs(u.z)+x.storage[2]*Math.abs(u.x),Math.max(-Math.max(e,a),Math.min(e,a))>r+n))&&(!(d.x*d.x+d.z*d.z>n&&(e=c.x*d.z-c.z*d.x,a=h.x*d.z-h.z*d.x,r=x.storage[0]*Math.abs(d.z)+x.storage[2]*Math.abs(d.x),Math.max(-Math.max(e,a),Math.min(e,a))>r+n))&&(!(g.x*g.x+g.y*g.y>n&&(e=c.y*g.x-c.x*g.y,o=l.y*g.x-l.x*g.y,r=x.storage[0]*Math.abs(g.y)+x.storage[1]*Math.abs(g.x),Math.max(-Math.max(e,o),Math.min(e,o))>r+n))&&(!(u.x*u.x+u.y*u.y>n&&(e=c.y*u.x-c.x*u.y,a=h.y*u.x-h.x*u.y,r=x.storage[0]*Math.abs(u.y)+x.storage[1]*Math.abs(u.x),Math.max(-Math.max(e,a),Math.min(e,a))>r+n))&&(!(d.x*d.x+d.y*d.y>n&&(e=c.y*d.x-c.x*d.y,a=h.y*d.x-h.x*d.y,r=x.storage[0]*Math.abs(d.y)+x.storage[1]*Math.abs(d.x),Math.max(-Math.max(e,a),Math.min(e,a))>r+n))&&(!(Math.max(c.x,Math.max(h.x,l.x))<-x.storage[0]||Math.min(c.x,Math.min(h.x,l.x))>x.storage[0])&&(!(Math.max(c.y,Math.max(h.y,l.y))<-x.storage[1]||Math.min(c.y,Math.min(h.y,l.y))>x.storage[1])&&(!(Math.max(c.z,Math.max(h.z,l.z))<-x.storage[2]||Math.min(c.z,Math.min(h.z,l.z))>x.storage[2])&&(c.add(i),m.normal=g.cross(u),m.constant=m.normal.dot(c),this.intersectsWithPlane(m)))))))))))))},s.prototype.intersectsWithPlane=function(t){this.copyCenterAndHalfExtents(i,x);var e=x.storage[0]*Math.abs(t.normal.storage[0])+x.storage[1]*Math.abs(t.normal.storage[1])+x.storage[2]*Math.abs(t.normal.storage[2]),a=t.normal.dot(i)-t.constant;return Math.abs(a)<=e};var L=new r,I=new r;s.prototype.intersectsWithQuad=function(t){return t.copyTriangles(L,I),this.intersectsWithTriangle(L)||this.intersectsWithTriangle(I)}},{"./plane.js":14,"./quad.js":15,"./ray.js":17,"./sphere.js":18,"./triangle.js":19,"./vector3.js":21}],10:[function(t,e,a){e.exports=r;var o=t("simd");function r(){}r.EPSILON=void 0!==typeof Number.EPSILON?Number.EPSILON:1e-6,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=void 0!==typeof o,r.USE_SIMD=function(){return r.ENABLE_SIMD&&r.SIMD_AVAILABLE}},{simd:6}],11:[function(e,a,o){a.exports=n;var r=e("./vector2.js");function n(t,e,a,o){this.storage=new Float32Array([t,e,a,o]),this.dimension=2}n.fromFloat32Array=function(t){var e=n.zero();return e.storage=t,e},n.fromBuffer=function(t,e){var a=n.zero();return a.storage=new Float32Array(t,e,4),a.clone()},n.solve=function(t,e,a){var o=t.entry(0,0),r=t.entry(0,1),n=t.entry(1,0),s=t.entry(1,1),i=a.x,x=a.y,c=o*s-r*n;0!=c&&(c=1/c),e.x=c*(s*i-r*x),e.y=c*(o*x-n*i)},n.prototype.index=function(t,e){return 2*e+t},n.prototype.entry=function(t,e){return 0==(t>=0&&t<this.dimension)?null:0==(e>=0&&e<this.dimension)?null:this.storage[this.index(t,e)]},n.prototype.setEntry=function(t,e,a){return 0==(t>=0&&t<this.dimension)?null:0==(e>=0&&e<this.dimension)?null:void(this.storage[this.index(t,e)]=a)},n.zero=function(){return new n(0,0,0,0)},n.identity=function(){var t=n.zero();return t.setIdentity(),t},n.copy=function(t){return m=n.zero(),m.setFrom(t),m},n.columns=function(t,e){var a=n.zero();return a.setColumns(t,e),a},n.outer=function(t,e){var a=n.zero();return a.setOuter(t,e),a},n.rotation=function(t){var e=n.zero();return e.setRotation(t),e},n.prototype.setValues=function(t,e,a,o){return this.storage[3]=o,this.storage[2]=a,this.storage[1]=e,this.storage[0]=t,this},n.prototype.setColumns=function(t,e){var a=t.storage,o=e.storage;return this.storage[0]=a[0],this.storage[1]=a[1],this.storage[2]=o[0],this.storage[3]=o[1],this},n.prototype.setFrom=function(t){return this.storage[3]=t.storage[3],this.storage[2]=t.storage[2],this.storage[1]=t.storage[1],this.storage[0]=t.storage[0],this},n.prototype.setOuter=function(t,e){var a=t.storage,o=e.storage;return this.storage[0]=a[0]*o[0],this.storage[1]=a[0]*o[1],this.storage[2]=a[1]*o[0],this.storage[3]=a[1]*o[1],this},n.prototype.splatDiagonal=function(t){return this.storage[0]=t,this.storage[3]=t,this},n.prototype.setDiagonal=function(t){var e=t.storage;return this.storage[0]=e[0],this.storage[3]=e[1],this},n.prototype.toString=function(){return"[0] "+this.getRow(0).toString()+"\n[1] "+this.getRow(1).toString()+"}\n"},n.prototype.getAt=function(t){return this.storage[t]},n.prototype.setAt=function(t,e){this.storage[t]=e},n.prototype.equals=function(t){return null!=t.dimension&&2==t.dimension&&(this.storage[0]==t.storage[0]&&this.storage[1]==t.storage[1]&&this.storage[2]==t.storage[2]&&this.storage[3]==t.storage[3])},n.prototype.almostEquals=function(t,e){return null!=t.dimension&&2==t.dimension&&(void 0===e&&(e=Number.EPSILON),!(Math.abs(this.storage[0]-t.storage[0])>e||Math.abs(this.storage[1]-t.storage[1])>e||Math.abs(this.storage[2]-t.storage[2])>e||Math.abs(this.storage[3]-t.storage[3])>e))},n.prototype.__defineGetter__("row0",function(){return this.getRow(0)}),n.prototype.__defineSetter__("row0",function(t){this.setRow(0,t)}),n.prototype.__defineGetter__("row1",function(){return this.getRow(1)}),n.prototype.__defineSetter__("row1",function(t){this.setRow(1,t)}),n.prototype.setRow=function(t,e){argStorage=e.storage,this.storage[this.index(t,0)]=argStorage[0],this.storage[this.index(t,1)]=argStorage[1]},n.prototype.getRow=function(t){var e=r.zero();return rStorage=e.storage,rStorage[0]=this.storage[this.index(t,0)],rStorage[1]=this.storage[this.index(t,1)],e},n.prototype.setColumn=function(t,e){argStorage=e.storage,entry=2*t,this.storage[entry+1]=argStorage[1],this.storage[entry+0]=argStorage[0]},n.prototype.getColumn=function(t){var e=r.zero();entry=2*t;var a=e.storage;return a[1]=this.storage[entry+1],a[0]=this.storage[entry+0],e},n.prototype.clone=function(){return n.copy(this)},n.prototype.copyInto=function(t){var e=t.storage;return e[0]=this.storage[0],e[1]=this.storage[1],e[2]=this.storage[2],e[3]=this.storage[3],t},n.prototype.mult=function(t){return"Number"==typeof t?this.scaled(t):t instanceof r?this.transformed(t):2==t.dimension?this.multiplied(t):null},n.prototype.added=function(t){var e=this.clone();return e.add(t),e},n.prototype.subbed=function(t){var e=this.clone();return e.sub(t),e},n.prototype.negated=function(){var t=this.clone();return t.negate(),t},n.prototype.setZero=function(){return this.storage[0]=0,this.storage[1]=0,this.storage[2]=0,this.storage[3]=0,this},n.prototype.setIdentity=function(){return this.storage[0]=1,this.storage[1]=0,this.storage[2]=0,this.storage[3]=1,this},n.prototype.transposed=function(){var t=this.clone();return t.transpose(),t},n.prototype.transpose=function(){var t=this.storage[2];return this.storage[2]=this.storage[1],this.storage[1]=t,this},n.prototype.absolute=function(){var t=n.zero(),e=t.storage;return e[0]=Math.abs(this.storage[0]),e[1]=Math.abs(this.storage[1]),e[2]=Math.abs(this.storage[2]),e[3]=Math.abs(this.storage[3]),t},n.prototype.determinant=function(){return this.storage[0]*this.storage[3]-this.storage[1]*this.storage[2]},n.prototype.dotRow=function(t,e){return vStorage=e.storage,this.storage[t]*vStorage[0]+this.storage[2+t]*vStorage[1]},n.prototype.dotColumn=function(t,e){return vStorage=e.storage,this.storage[2*t]*vStorage[0]+this.storage[2*t+1]*vStorage[1]},n.prototype.trace=function(){return t=0,t+=this.storage[0],t+=this.storage[3],t},n.prototype.infinityNorm=function(){return norm=0,row_norm=0,row_norm+=Math.abs(this.storage[0]),row_norm+=Math.abs(this.storage[1]),norm=row_norm>norm?row_norm:norm,row_norm=0,row_norm+=Math.abs(this.storage[2]),row_norm+=Math.abs(this.storage[3]),norm=row_norm>norm?row_norm:norm,norm},n.prototype.relativeError=function(t){return diff=t.subbed(this),correct_norm=t.infinityNorm(),diff_norm=diff.infinityNorm(),diff_norm/correct_norm},n.prototype.absoluteError=function(t){return this_norm=this.infinityNorm(),correct_norm=t.infinityNorm(),diff_norm=Math.abs(this_norm-correct_norm),diff_norm},n.prototype.invert=function(){if(det=this.determinant(),0==det)return 0;invDet=1/det;var t=this.storage[0];return this.storage[0]=this.storage[3]*invDet,this.storage[1]=-this.storage[1]*invDet,this.storage[2]=-this.storage[2]*invDet,this.storage[3]=t*invDet,det},n.prototype.copyInverse=function(t){return det=t.determinant(),0==det?(this.setFrom(t),0):(invDet=1/det,argStorage=t.storage,this.storage[0]=argStorage[3]*invDet,this.storage[1]=-argStorage[1]*invDet,this.storage[2]=-argStorage[2]*invDet,this.storage[3]=argStorage[0]*invDet,det)},n.prototype.setRotation=function(t){c=Math.cos(t),s=Math.sin(t),this.storage[0]=c,this.storage[1]=s,this.storage[2]=-s,this.storage[3]=c},n.prototype.scaleAdjoint=function(t){var e=this.storage[0];return this.storage[0]=this.storage[3]*t,this.storage[2]=-this.storage[2]*t,this.storage[1]=-this.storage[1]*t,this.storage[3]=e*t,this},n.prototype.scale=function(t){return this.storage[0]=this.storage[0]*t,this.storage[1]=this.storage[1]*t,this.storage[2]=this.storage[2]*t,this.storage[3]=this.storage[3]*t,this},n.prototype.scaled=function(t){var e=this.clone();return e.scale(t),e},n.prototype.add=function(t){return oStorage=t.storage,this.storage[0]=this.storage[0]+oStorage[0],this.storage[1]=this.storage[1]+oStorage[1],this.storage[2]=this.storage[2]+oStorage[2],this.storage[3]=this.storage[3]+oStorage[3],this},n.prototype.sub=function(t){return oStorage=t.storage,this.storage[0]=this.storage[0]-oStorage[0],this.storage[1]=this.storage[1]-oStorage[1],this.storage[2]=this.storage[2]-oStorage[2],this.storage[3]=this.storage[3]-oStorage[3],this},n.prototype.negate=function(){return this.storage[0]=-this.storage[0],this.storage[1]=-this.storage[1],this.storage[2]=-this.storage[2],this.storage[3]=-this.storage[3],this},n.prototype.multiply=function(t){return m00=this.storage[0],m01=this.storage[2],m10=this.storage[1],m11=this.storage[3],argStorage=t.storage,n00=argStorage[0],n01=argStorage[2],n10=argStorage[1],n11=argStorage[3],this.storage[0]=m00*n00+m01*n10,this.storage[2]=m00*n01+m01*n11,this.storage[1]=m10*n00+m11*n10,this.storage[3]=m10*n01+m11*n11,this},n.prototype.multiplied=function(t){var e=this.clone();return e.multiply(t),e},n.prototype.transposeMultiply=function(t){return m00=this.storage[0],m01=this.storage[1],m10=this.storage[2],m11=this.storage[3],argStorage=t.storage,this.storage[0]=m00*argStorage[0]+m01*argStorage[1],this.storage[2]=m00*argStorage[2]+m01*argStorage[3],this.storage[1]=m10*argStorage[0]+m11*argStorage[1],this.storage[3]=m10*argStorage[2]+m11*argStorage[3],this},n.prototype.multiplyTranspose=function(t){return m00=this.storage[0],m01=this.storage[2],m10=this.storage[1],m11=this.storage[3],argStorage=t.storage,this.storage[0]=m00*argStorage[0]+m01*argStorage[2],this.storage[2]=m00*argStorage[1]+m01*argStorage[3],this.storage[1]=m10*argStorage[0]+m11*argStorage[2],this.storage[3]=m10*argStorage[1]+m11*argStorage[3],this},n.prototype.transform=function(t){argStorage=t.storage;var e=this.storage[0]*argStorage[0]+this.storage[2]*argStorage[1],a=this.storage[1]*argStorage[0]+this.storage[3]*argStorage[1];return argStorage[0]=e,argStorage[1]=a,t},n.prototype.transformed=function(t){var e=r.copy(t);return this.transform(e)},n.prototype.copyIntoArray=function(t,e){var a=e;void 0===e&&(a=0),t[a+3]=this.storage[3],t[a+2]=this.storage[2],t[a+1]=this.storage[1],t[a+0]=this.storage[0]},n.prototype.copyFromArray=function(t,e){var a=e;void 0===e&&(a=0),this.storage[3]=t[a+3],this.storage[2]=t[a+2],this.storage[1]=t[a+1],this.storage[0]=t[a+0]}},{"./vector2.js":20}],12:[function(t,e,a){e.exports=r;t("./vector2.js");var o=t("./vector3.js");t("./matrix2.js"),t("./quaternion.js");function r(t,e,a,o,r,n,s,i,x){this.storage=new Float32Array([t,e,a,o,r,n,s,i,x]),this.simd_c0=null,this.simd_c1=null,this.simd_c2=null,this.dimension=3}r.simd={},r.scalar={},r.simd.load=function(t){t.simd_c0=SIMD.Float32x4.load3(t.storage,0),t.simd_c1=SIMD.Float32x4.load3(t.storage,3),t.simd_c2=SIMD.Float32x4.load3(t.storage,6)},r.simd.store=function(t){SIMD.Float32x4.store3(t.storage,0,t.simd_c0),SIMD.Float32x4.store3(t.storage,3,t.simd_c1),SIMD.Float32x4.store3(t.storage,6,t.simd_c2)},r.fromFloat32Array=function(t){var e=r.zero();return e.storage=t,e},r.fromBuffer=function(t,e){var a=r.zero();return a.storage=new Float32Array(t,e,9),a.clone()},r.solve2=function(t,e,a){var o=t.entry(0,0),r=t.entry(0,1),n=t.entry(1,0),s=t.entry(1,1),i=a.x-t.storage[6],x=a.y-t.storage[7],c=o*s-r*n;0!=c&&(c=1/c),e.x=c*(s*i-r*x),e.y=c*(o*x-n*i)},r.solve=function(t,e,a){var o,r,n,s,i=t.entry(0,0),x=t.entry(1,0),c=t.entry(2,0),h=t.entry(0,1),l=t.entry(1,1),g=t.entry(2,1),u=t.entry(0,2),d=t.entry(1,2),m=t.entry(2,2);0!=(s=i*(o=l*m-g*d)+x*(r=g*u-h*m)+c*(n=h*d-l*u))&&(s=1/s);var L=s*(a.x*o+a.y*r+a.z*n),I=s*(i*(o=-(d*a.z-m*a.y))+x*(r=-(m*a.x-u*a.z))+c*(n=-(u*a.y-d*a.x))),f=s*(i*(o=-(a.y*g-a.z*l))+x*(r=-(a.z*h-a.x*g))+c*(n=-(a.x*l-a.y*h)));e.x=L,e.y=I,e.z=f},r.prototype.index=function(t,e){return 3*e+t},r.prototype.entry=function(t,e){return 0==(t>=0&&t<this.dimension)?null:0==(e>=0&&e<this.dimension)?null:this.storage[this.index(t,e)]},r.prototype.setEntry=function(t,e,a){return 0==(t>=0&&t<this.dimension)?null:0==(e>=0&&e<this.dimension)?null:void(this.storage[this.index(t,e)]=a)},r.zero=function(){return new r(0,0,0,0,0,0,0,0,0)},r.identity=function(){var t=r.zero();return t.setIdentity(),t},r.copy=function(t){var e=r.zero();return e.setFrom(t),e},r.columns=function(t,e,a){var o=r.zero();return o.setColumns(t,e,a),o},r.outer=function(t,e){var a=r.zero();return a.setOuter(t,e),a},r.rotation=function(t){var e=r.zero();return e.setRotation(t),e},r.rotationX=function(t){var e=r.zero();return e.setRotationX(t),e},r.rotationY=function(t){var e=r.zero();return e.setRotationY(t),e},r.rotationZ=function(t){var e=r.zero();return e.setRotationZ(t),e},r.prototype.setValues=function(t,e,a,o,r,n,s,i,x){return this.storage[8]=x,this.storage[7]=i,this.storage[6]=s,this.storage[5]=n,this.storage[4]=r,this.storage[3]=o,this.storage[2]=a,this.storage[1]=e,this.storage[0]=t,this},r.prototype.setColumns=function(t,e,a){var o=t.storage,r=e.storage,n=a.storage;return this.storage[0]=o[0],this.storage[1]=o[1],this.storage[2]=o[2],this.storage[3]=r[0],this.storage[4]=r[1],this.storage[5]=r[2],this.storage[6]=n[0],this.storage[7]=n[1],this.storage[8]=n[2],this},r.prototype.setFrom=function(t){var e=t.storage;return this.storage[8]=e[8],this.storage[7]=e[7],this.storage[6]=e[6],this.storage[5]=e[5],this.storage[4]=e[4],this.storage[3]=e[3],this.storage[2]=e[2],this.storage[1]=e[1],this.storage[0]=e[0],this},r.prototype.setOuter=function(t,e){var a=t.storage,o=e.storage;return this.storage[0]=a[0]*o[0],this.storage[1]=a[0]*o[1],this.storage[2]=a[0]*o[2],this.storage[3]=a[1]*o[0],this.storage[4]=a[1]*o[1],this.storage[5]=a[1]*o[2],this.storage[6]=a[2]*o[0],this.storage[7]=a[2]*o[1],this.storage[8]=a[2]*o[2],this},r.prototype.splatDiagonal=function(t){return this.storage[0]=t,this.storage[4]=t,this.storage[8]=t,this},r.prototype.setDiagonal=function(t){var e=t.storage;return this.storage[0]=e[0],this.storage[4]=e[1],this.storage[8]=e[2],this},r.prototype.toString=function(){return"[0] "+this.getRow(0).toString()+"\n[1] "+this.getRow(1).toString()+"\n[2] "+this.getRow(2).toString()+"}\n"},r.prototype.getAt=function(t){return this.storage[t]},r.prototype.setAt=function(t,e){this.storage[t]=e},r.prototype.equals=function(t){return null!=t.dimension&&3==t.dimension&&(this.storage[0]==t.storage[0]&&this.storage[1]==t.storage[1]&&this.storage[2]==t.storage[2]&&this.storage[3]==t.storage[3]&&this.storage[4]==t.storage[4]&&this.storage[5]==t.storage[5]&&this.storage[6]==t.storage[6]&&this.storage[7]==t.storage[7]&&this.storage[8]==t.storage[8])},r.prototype.almostEquals=function(t,e){return null!=t.dimension&&3==t.dimension&&(void 0===e&&(e=Number.EPSILON),!(Math.abs(this.storage[0]-t.storage[0])>e||Math.abs(this.storage[1]-t.storage[1])>e||Math.abs(this.storage[2]-t.storage[2])>e||Math.abs(this.storage[3]-t.storage[3])>e||Math.abs(this.storage[4]-t.storage[4])>e||Math.abs(this.storage[5]-t.storage[5])>e||Math.abs(this.storage[6]-t.storage[6])>e||Math.abs(this.storage[7]-t.storage[7])>e||Math.abs(this.storage[8]-t.storage[8])>e))},r.prototype.__defineGetter__("row0",function(){return this.getRow(0)}),r.prototype.__defineSetter__("row0",function(t){this.setRow(0,t)}),r.prototype.__defineGetter__("row1",function(){return this.getRow(1)}),r.prototype.__defineSetter__("row1",function(t){this.setRow(1,t)}),r.prototype.__defineGetter__("row2",function(){return this.getRow(2)}),r.prototype.__defineSetter__("row2",function(t){this.setRow(2,t)}),r.prototype.setRow=function(t,e){var a=e.storage;this.storage[this.index(t,0)]=a[0],this.storage[this.index(t,1)]=a[1],this.storage[this.index(t,2)]=a[2]},r.prototype.getRow=function(t){var e=o.zero(),a=e.storage;return a[0]=this.storage[this.index(t,0)],a[1]=this.storage[this.index(t,1)],a[2]=this.storage[this.index(t,2)],e},r.prototype.setColumn=function(t,e){var a=e.storage,o=3*t;return this.storage[o+2]=a[2],this.storage[o+1]=a[1],this.storage[o+0]=a[0],this},r.prototype.getColumn=function(t){var e=o.zero(),a=3*t,r=e.storage;return r[2]=this.storage[a+2],r[1]=this.storage[a+1],r[0]=this.storage[a+0],e},r.prototype.clone=function(){return r.copy(this)},r.prototype.copyInto=function(t){return t.setFrom(this),t},r.prototype.mult=function(t){return"Number"==typeof t?this.scaled(t):t instanceof o?this.transformed(t):3==t.dimension?this.multiplied(t):null},r.prototype.added=function(t){var e=this.clone();return e.add(t),e},r.prototype.subbed=function(t){var e=this.clone();return e.sub(t),e},r.prototype.negated=function(){var t=this.clone();return t.negate(),t},r.prototype.setZero=function(){return this.storage[0]=0,this.storage[1]=0,this.storage[2]=0,this.storage[3]=0,this.storage[4]=0,this.storage[5]=0,this.storage[6]=0,this.storage[7]=0,this.storage[8]=0,this},r.prototype.setIdentity=function(){return this.storage[0]=1,this.storage[1]=0,this.storage[2]=0,this.storage[3]=0,this.storage[4]=1,this.storage[5]=0,this.storage[6]=0,this.storage[7]=0,this.storage[8]=1,this},r.prototype.transposed=function(){var t=this.clone();return t.transpose(),t},r.prototype.transpose=function(){var t=this.storage[3];return this.storage[3]=this.storage[1],this.storage[1]=t,t=this.storage[6],this.storage[6]=this.storage[2],this.storage[2]=t,t=this.storage[7],this.storage[7]=this.storage[5],this.storage[5]=t,this},r.prototype.absolute=function(){return vector_math.USE_SIMD()?r.simd.absolute(this):r.scalar.absolute(this)},r.scalar.absolute=function(t){var e=r.zero(),a=e.storage;return a[0]=Math.abs(t.storage[0]),a[1]=Math.abs(t.storage[1]),a[2]=Math.abs(t.storage[2]),a[3]=Math.abs(t.storage[3]),a[4]=Math.abs(t.storage[4]),a[5]=Math.abs(t.storage[5]),a[6]=Math.abs(t.storage[6]),a[7]=Math.abs(t.storage[7]),a[8]=Math.abs(t.storage[8]),a[9]=Math.abs(t.storage[9]),e},r.simd.absolute=function(t){var e=r.zero();return r.simd.load(t),e.simd_c0=SIMD.Float32x4.abs(t.simd_c0),e.simd_c1=SIMD.Float32x4.abs(t.simd_c1),e.simd_c2=SIMD.Float32x4.abs(t.simd_c2),r.simd.store(e),e},r.prototype.determinant=function(){return this.storage[0]*(this.storage[4]*this.storage[8]-this.storage[5]*this.storage[7])-this.storage[1]*(this.storage[3]*this.storage[8]-this.storage[5]*this.storage[6])+this.storage[2]*(this.storage[3]*this.storage[7]-this.storage[4]*this.storage[6])},r.prototype.dotRow=function(t,e){var a=e.storage;return this.storage[t]*a[0]+this.storage[3+t]*a[1]+this.storage[6+t]*a[2]},r.prototype.dotColumn=function(t,e){var a=e.storage;return this.storage[3*t]*a[0]+this.storage[3*t+1]*a[1]+this.storage[3*t+2]*a[2]},r.prototype.trace=function(){var t=0;return t+=this.storage[0],t+=this.storage[4],t+=this.storage[8]},r.prototype.infinityNorm=function(){var t=0,e=0;return e+=Math.abs(this.storage[0]),e+=Math.abs(this.storage[1]),t=(e+=Math.abs(this.storage[2]))>t?e:t,e=0,e+=Math.abs(this.storage[3]),e+=Math.abs(this.storage[4]),t=(e+=Math.abs(this.storage[5]))>t?e:t,e=0,e+=Math.abs(this.storage[6]),e+=Math.abs(this.storage[7]),t=(e+=Math.abs(this.storage[8]))>t?e:t},r.prototype.relativeError=function(t){var e=t.subbed(this),a=t.infinityNorm();return e.infinityNorm()/a},r.prototype.absoluteError=function(t){var e=this.infinityNorm(),a=t.infinityNorm();return Math.abs(e-a)},r.prototype.invert=function(){return this.copyInverse(this)},r.prototype.copyInverse=function(t){var e=t.determinant();if(0==e)return this.setFrom(t),0;var a=1/e,o=t.storage,r=a*(o[4]*o[8]-o[5]*o[7]),n=a*(o[2]*o[7]-o[1]*o[8]),s=a*(o[1]*o[5]-o[2]*o[4]),i=a*(o[5]*o[6]-o[3]*o[8]),x=a*(o[0]*o[8]-o[2]*o[6]),c=a*(o[2]*o[3]-o[0]*o[5]),h=a*(o[3]*o[7]-o[4]*o[6]),l=a*(o[1]*o[6]-o[0]*o[7]),g=a*(o[0]*o[4]-o[1]*o[3]);return this.storage[0]=r,this.storage[1]=n,this.storage[2]=s,this.storage[3]=i,this.storage[4]=x,this.storage[5]=c,this.storage[6]=h,this.storage[7]=l,this.storage[8]=g,e},r.prototype.copyNormalMatrix=function(t){return this.copyInverse(t.getRotation()),this.transpose(),this},r.prototype.setRotationX=function(t){var e=Math.cos(t),a=Math.sin(t);this.storage[0]=1,this.storage[1]=0,this.storage[2]=0,this.storage[3]=0,this.storage[4]=e,this.storage[5]=a,this.storage[6]=0,this.storage[7]=-a,this.storage[8]=e},r.prototype.setRotationY=function(t){var e=Math.cos(t),a=Math.sin(t);this.storage[0]=e,this.storage[1]=0,this.storage[2]=a,this.storage[3]=0,this.storage[4]=1,this.storage[5]=0,this.storage[6]=-a,this.storage[7]=0,this.storage[8]=e},r.prototype.setRotationZ=function(t){var e=Math.cos(t),a=Math.sin(t);this.storage[0]=e,this.storage[1]=a,this.storage[2]=0,this.storage[3]=-a,this.storage[4]=e,this.storage[5]=0,this.storage[6]=0,this.storage[7]=0,this.storage[8]=1},r.prototype.scaleAdjoint=function(t){var e=this.storage[0],a=this.storage[3],o=this.storage[6],r=this.storage[1],n=this.storage[4],s=this.storage[7],i=this.storage[2],x=this.storage[5],c=this.storage[8];return this.storage[0]=(n*c-s*x)*t,this.storage[1]=(s*i-r*c)*t,this.storage[2]=(r*x-n*i)*t,this.storage[3]=(o*x-a*c)*t,this.storage[4]=(e*c-o*i)*t,this.storage[5]=(a*i-e*x)*t,this.storage[6]=(a*s-o*n)*t,this.storage[7]=(o*r-e*s)*t,this.storage[8]=(e*n-a*r)*t,this},r.prototype.absoluteRotate=function(t){var e=Math.abs(this.storage[0]),a=Math.abs(this.storage[3]),o=Math.abs(this.storage[6]),r=Math.abs(this.storage[1]),n=Math.abs(this.storage[4]),s=Math.abs(this.storage[7]),i=Math.abs(this.storage[2]),x=Math.abs(this.storage[5]),c=Math.abs(this.storage[8]),h=t.storage,l=h[0],g=h[1],u=h[2];return h[0]=l*e+g*a+u*o,h[1]=l*r+g*n+u*s,h[2]=l*i+g*x+u*c,t},r.prototype.absoluteRotate2=function(t){var e=Math.abs(this.storage[0]),a=Math.abs(this.storage[3]),o=Math.abs(this.storage[1]),r=Math.abs(this.storage[4]),n=t.storage,s=n[0],i=n[1];return n[0]=s*e+i*a,n[1]=s*o+i*r,t},r.prototype.transform2=function(t){var e=t.storage,a=this.storage[0]*t.storage[0]+this.storage[3]*t.storage[1]+this.storage[6],o=this.storage[1]*t.storage[0]+this.storage[4]*t.storage[1]+this.storage[7];return e[0]=a,e[1]=o,t},r.prototype.scale=function(t){this.storage[0]=this.storage[0]*t,this.storage[1]=this.storage[1]*t,this.storage[2]=this.storage[2]*t,this.storage[3]=this.storage[3]*t,this.storage[4]=this.storage[4]*t,this.storage[5]=this.storage[5]*t,this.storage[6]=this.storage[6]*t,this.storage[7]=this.storage[7]*t,this.storage[8]=this.storage[8]*t},r.prototype.scaled=function(t){var e=this.clone();return e.scale(t),e},r.prototype.add=function(t){return vector_math.USE_SIMD()?r.simd.add(this,t):r.scalar.add(this,t),this},r.scalar.add=function(t,e){var a=e.storage;t.storage[0]=t.storage[0]+a[0],t.storage[1]=t.storage[1]+a[1],t.storage[2]=t.storage[2]+a[2],t.storage[3]=t.storage[3]+a[3],t.storage[4]=t.storage[4]+a[4],t.storage[5]=t.storage[5]+a[5],t.storage[6]=t.storage[6]+a[6],t.storage[7]=t.storage[7]+a[7],t.storage[8]=t.storage[8]+a[8]},r.simd.add=function(t,e){r.simd.load(t),r.simd.load(e),t.simd_c0=SIMD.Float32x4.add(t.simd_c0,e.simd_c0),t.simd_c1=SIMD.Float32x4.add(t.simd_c1,e.simd_c1),t.simd_c2=SIMD.Float32x4.add(t.simd_c2,e.simd_c2),r.simd.store(t)},r.prototype.sub=function(t){return vector_math.USE_SIMD()?r.simd.sub(this,t):r.scalar.sub(this,t),this},r.scalar.sub=function(t,e){var a=e.storage;t.storage[0]=t.storage[0]-a[0],t.storage[1]=t.storage[1]-a[1],t.storage[2]=t.storage[2]-a[2],t.storage[3]=t.storage[3]-a[3],t.storage[4]=t.storage[4]-a[4],t.storage[5]=t.storage[5]-a[5],t.storage[6]=t.storage[6]-a[6],t.storage[7]=t.storage[7]-a[7],t.storage[8]=t.storage[8]-a[8]},r.simd.sub=function(t,e){r.simd.load(t),r.simd.load(e),t.simd_c0=SIMD.Float32x4.sub(t.simd_c0,e.simd_c0),t.simd_c1=SIMD.Float32x4.sub(t.simd_c1,e.simd_c1),t.simd_c2=SIMD.Float32x4.sub(t.simd_c2,e.simd_c2),r.simd.store(t)},r.prototype.negate=function(){return vector_math.USE_SIMD()?r.simd.neg(this):r.scalar.neg(this),this},r.scalar.neg=function(t){t.storage[0]=-t.storage[0],t.storage[1]=-t.storage[1],t.storage[2]=-t.storage[2],t.storage[3]=-t.storage[3],t.storage[4]=-t.storage[4],t.storage[5]=-t.storage[5],t.storage[6]=-t.storage[6],t.storage[7]=-t.storage[7],t.storage[8]=-t.storage[8]},r.simd.neg=function(t){r.simd.load(t),t.simd_c0=SIMD.Float32x4.neg(t.simd_c0),t.simd_c1=SIMD.Float32x4.neg(t.simd_c1),t.simd_c2=SIMD.Float32x4.neg(t.simd_c2),r.simd.store(t)},r.prototype.multiply=function(t){var e=this.storage[0],a=this.storage[3],o=this.storage[6],r=this.storage[1],n=this.storage[4],s=this.storage[7],i=this.storage[2],x=this.storage[5],c=this.storage[8],h=t.storage,l=h[0],g=h[3],u=h[6],d=h[1],m=h[4],L=h[7],I=h[2],f=h[5],p=h[8];return this.storage[0]=e*l+a*d+o*I,this.storage[3]=e*g+a*m+o*f,this.storage[6]=e*u+a*L+o*p,this.storage[1]=r*l+n*d+s*I,this.storage[4]=r*g+n*m+s*f,this.storage[7]=r*u+n*L+s*p,this.storage[2]=i*l+x*d+c*I,this.storage[5]=i*g+x*m+c*f,this.storage[8]=i*u+x*L+c*p,this},r.prototype.multiplied=function(t){var e=this.clone();return e.multiply(t),e},r.prototype.transposeMultiply=function(t){var e=this.storage[0],a=this.storage[1],o=this.storage[2],r=this.storage[3],n=this.storage[4],s=this.storage[5],i=this.storage[6],x=this.storage[7],c=this.storage[8],h=t.storage;return this.storage[0]=e*h[0]+a*t.storage[1]+o*t.storage[2],this.storage[3]=e*h[3]+a*t.storage[4]+o*t.storage[5],this.storage[6]=e*h[6]+a*t.storage[7]+o*t.storage[8],this.storage[1]=r*h[0]+n*t.storage[1]+s*t.storage[2],this.storage[4]=r*h[3]+n*t.storage[4]+s*t.storage[5],this.storage[7]=r*h[6]+n*t.storage[7]+s*t.storage[8],this.storage[2]=i*h[0]+x*t.storage[1]+c*t.storage[2],this.storage[5]=i*h[3]+x*t.storage[4]+c*t.storage[5],this.storage[8]=i*h[6]+x*t.storage[7]+c*t.storage[8],this},r.prototype.multiplyTranspose=function(t){var e=this.storage[0],a=this.storage[3],o=this.storage[6],r=this.storage[1],n=this.storage[4],s=this.storage[7],i=this.storage[2],x=this.storage[5],c=this.storage[8],h=t.storage;return this.storage[0]=e*h[0]+a*h[3]+o*h[6],this.storage[3]=e*h[1]+a*h[4]+o*h[7],this.storage[6]=e*h[2]+a*h[5]+o*h[8],this.storage[1]=r*h[0]+n*h[3]+s*h[6],this.storage[4]=r*h[1]+n*h[4]+s*h[7],this.storage[7]=r*h[2]+n*h[5]+s*h[8],this.storage[2]=i*h[0]+x*h[3]+c*h[6],this.storage[5]=i*h[1]+x*h[4]+c*h[7],this.storage[8]=i*h[2]+x*h[5]+c*h[8],this},r.prototype.transform=function(t){var e=t.storage,a=this.storage[0]*e[0]+this.storage[3]*e[1]+this.storage[6]*e[2],o=this.storage[1]*e[0]+this.storage[4]*e[1]+this.storage[7]*e[2],r=this.storage[2]*e[0]+this.storage[5]*e[1]+this.storage[8]*e[2];return t.x=a,t.y=o,t.z=r,t},r.prototype.transformed=function(t){var e=o.copy(t);return this.transform(e)},r.prototype.copyFromArray=function(t,e){var a=e;void 0===e&&(a=0),this.storage[8]=t[a+8],this.storage[7]=t[a+7],this.storage[6]=t[a+6],this.storage[5]=t[a+5],this.storage[4]=t[a+4],this.storage[3]=t[a+3],this.storage[2]=t[a+2],this.storage[1]=t[a+1],this.storage[0]=t[a+0]},r.prototype.applyToVector3Array=function(t,e){var a=e;void 0===e&&(a=0);var r=0;for(a=e;r<t.length;r+=3,a+=3){var n=o.array(t,a);n.applyMatrix3(this),t[a]=n.storage[0],t[a+1]=n.storage[1],t[a+2]=n.storage[2]}return t}},{"./matrix2.js":11,"./quaternion.js":16,"./vector2.js":20,"./vector3.js":21}],13:[function(t,e,a){e.exports=x;var o=t("./matrix3.js"),r=t("./vector3.js"),n=t("./vector4.js"),s=(t("./quaternion.js"),t("./common.js")),i=t("simd");function x(t,e,a,o,r,n,s,i,x,c,h,l,g,u,d,m){this.storage=new Float32Array([t,e,a,o,r,n,s,i,x,c,h,l,g,u,d,m]),this.simd_c0=null,this.simd_c1=null,this.simd_c2=null,this.simd_c3=null,this.dimension=4}x.simd={},x.scalar={},x.simd.load=function(t){t.simd_c0=i.Float32x4.load(t.storage,0),t.simd_c1=i.Float32x4.load(t.storage,4),t.simd_c2=i.Float32x4.load(t.storage,8),t.simd_c3=i.Float32x4.load(t.storage,12)},x.simd.store=function(t){i.Float32x4.store(t.storage,0,t.simd_c0),i.Float32x4.store(t.storage,4,t.simd_c1),i.Float32x4.store(t.storage,8,t.simd_c2),i.Float32x4.store(t.storage,12,t.simd_c3)},x.fromFloat32Array=function(t){var e=x.zero();return e.storage=t,e},x.fromBuffer=function(t,e){var a=x.zero();return a.storage=new Float32Array(t,e,16),a.clone()},x.solve2=function(t,e,a){var o=t.entry(0,0),r=t.entry(0,1),n=t.entry(1,0),s=t.entry(1,1),i=a.x-t.storage[8],x=a.y-t.storage[9],c=o*s-r*n;0!=c&&(c=1/c),e.x=c*(s*i-r*x),e.y=c*(o*x-n*i)},x.solve3=function(t,e,a){var o,r,n,s=t.entry(0,0),i=t.entry(1,0),x=t.entry(2,0),c=t.entry(0,1),h=t.entry(1,1),l=t.entry(2,1),g=t.entry(0,2),u=t.entry(1,2),d=t.entry(2,2),m=a.x-t.storage[12],L=a.y-t.storage[13],I=a.z-t.storage[14],f=s*(o=h*d-l*u)+i*(r=l*g-c*d)+x*(n=c*u-h*g);0!=f&&(f=1/f);var p=f*(m*o+L*r+I*n),y=f*(s*(o=-(u*I-d*L))+i*(r=-(d*m-g*I))+x*(n=-(g*L-u*m))),F=f*(s*(o=-(L*l-I*h))+i*(r=-(I*c-m*l))+x*(n=-(m*h-L*c)));e.x=p,e.y=y,e.z=F},x.solve=function(t,e,a){var o=t.storage[0],r=t.storage[1],n=t.storage[2],s=t.storage[3],i=t.storage[4],x=t.storage[5],c=t.storage[6],h=t.storage[7],l=t.storage[8],g=t.storage[9],u=t.storage[10],d=t.storage[11],m=t.storage[12],L=t.storage[13],I=t.storage[14],f=t.storage[15],p=o*x-r*i,y=o*c-n*i,F=o*h-s*i,_=r*c-n*x,v=r*h-s*x,B=n*h-s*c,M=l*L-g*m,b=l*I-u*m,w=l*f-d*m,S=g*I-u*L,z=g*f-d*L,E=u*f-d*I,k=a.storage[0],T=a.storage[1],A=a.storage[2],j=a.storage[3],R=p*E-y*z+F*S+_*w-v*b+B*M;0!=R&&(R=1/R),e.x=R*((x*E-c*z+h*S)*k-(i*E-c*w+h*b)*T+(i*z-x*w+h*M)*A-(i*S-x*b+c*M)*j),e.y=R*-((r*E-n*z+s*S)*k-(o*E-n*w+s*b)*T+(o*z-r*w+s*M)*A-(o*S-r*b+n*M)*j),e.z=R*((L*B-I*v+f*_)*k-(m*B-I*F+f*y)*T+(m*v-L*F+f*p)*A-(m*_-L*y+I*p)*j),e.w=R*-((g*B-u*v+d*_)*k-(l*B-u*F+d*y)*T+(l*v-g*F+d*p)*A-(l*_-g*y+u*p)*j)},x.prototype.index=function(t,e){return 4*e+t},x.prototype.entry=function(t,e){return 0==(t>=0&&t<this.dimension)?null:0==(e>=0&&e<this.dimension)?null:this.storage[this.index(t,e)]},x.prototype.setEntry=function(t,e,a){return 0==(t>=0&&t<this.dimension)?null:0==(e>=0&&e<this.dimension)?null:void(this.storage[this.index(t,e)]=a)},x.zero=function(){return new x(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},x.identity=function(){var t=x.zero();return t.setIdentity(),t},x.copy=function(t){var e=x.zero();return e.setFrom(t),e},x.columns=function(t,e,a,o){var r=x.zero();return r.setColumns(t,e,a,o),r},x.outer=function(t,e){var a=x.zero();return a.setOuter(t,e),a},x.rotation=function(t){var e=x.zero();return e.setRotation(t),e},x.rotationX=function(t){var e=x.zero();return e.storage[15]=1,e.setRotationX(t),e},x.rotationY=function(t){var e=x.zero();return e.storage[15]=1,e.setRotationY(t),e},x.rotationZ=function(t){var e=x.zero();return e.storage[15]=1,e.setRotationZ(t),e},x.translation=function(t){var e=x.zero();return e.setIdentity(),e.setDiagonal(t),e},x.diagonalValues=function(t,e,a,o){var r=x.zero();return r.setIdentity(),r.setDiagonal(new n(t,e,a,o)),r},x.translation=function(t){var e=x.zero();return e.setIdentity(),e.setTranslation(t),e},x.translationValues=function(t,e,a){var o=x.zero();return o.setIdentity(),o.setTranslation(new r(t,e,a)),o},x.compose=function(t,e,a){var o=x.zero();return o.setFromTranslationRotationScale(t,e,a),o},x.prototype.splatDiagonal=function(t){return this.storage[0]=t,this.storage[5]=t,this.storage[10]=t,this.storage[15]=t,this},x.prototype.setValues=function(t,e,a,o,r,n,s,i,x,c,h,l,g,u,d,m){return this.storage[15]=m,this.storage[14]=d,this.storage[13]=u,this.storage[12]=g,this.storage[11]=l,this.storage[10]=h,this.storage[9]=c,this.storage[8]=x,this.storage[7]=i,this.storage[6]=s,this.storage[5]=n,this.storage[4]=r,this.storage[3]=o,this.storage[2]=a,this.storage[1]=e,this.storage[0]=t,this},x.prototype.setColumns=function(t,e,a,o){var r=t.storage,n=e.storage,s=a.storage,i=o.storage;return this.storage[0]=r[0],this.storage[1]=r[1],this.storage[2]=r[2],this.storage[3]=r[3],this.storage[4]=n[0],this.storage[5]=n[1],this.storage[6]=n[2],this.storage[7]=n[3],this.storage[8]=s[0],this.storage[9]=s[1],this.storage[10]=s[2],this.storage[11]=s[3],this.storage[12]=i[0],this.storage[13]=i[1],this.storage[14]=i[2],this.storage[15]=i[3],this},x.prototype.setFrom=function(t){var e=t.storage;return this.storage[15]=e[15],this.storage[14]=e[14],this.storage[13]=e[13],this.storage[12]=e[12],this.storage[11]=e[11],this.storage[10]=e[10],this.storage[9]=e[9],this.storage[8]=e[8],this.storage[7]=e[7],this.storage[6]=e[6],this.storage[5]=e[5],this.storage[4]=e[4],this.storage[3]=e[3],this.storage[2]=e[2],this.storage[1]=e[1],this.storage[0]=e[0],this},x.prototype.setFromTranslationRotation=function(t,e){var a=e.storage,o=a[0],r=a[1],n=a[2],s=a[3],i=o+o,x=r+r,c=n+n,h=o*i,l=o*x,g=o*c,u=r*x,d=r*c,m=n*c,L=s*i,I=s*x,f=s*c,p=t.storage;return this.storage[0]=1-(u+m),this.storage[1]=l+f,this.storage[2]=g-I,this.storage[3]=0,this.storage[4]=l-f,this.storage[5]=1-(h+m),this.storage[6]=d+L,this.storage[7]=0,this.storage[8]=g+I,this.storage[9]=d-L,this.storage[10]=1-(h+u),this.storage[11]=0,this.storage[12]=p[0],this.storage[13]=p[1],this.storage[14]=p[2],this.storage[15]=1,this},x.prototype.setFromTranslationRotationScale=function(t,e,a){return this.setFromTranslationRotation(t,e),this.scale(a),this},x.prototype.setUpper2x2=function(t){var e=t.storage;return this.storage[0]=e[0],this.storage[1]=e[1],this.storage[4]=e[2],this.storage[5]=e[3],this},x.prototype.setDiagonal=function(t){var e=t.storage;return this.storage[0]=e[0],this.storage[5]=e[1],this.storage[10]=e[2],this.storage[15]=e[3],this},x.prototype.setOuter=function(t,e){s.USE_SIMD()?x.simd.setOuter(this,t,e):x.scalar.setOuter(this,t,e)},x.scalar.setOuter=function(t,e,a){var o=e.storage,r=a.storage;this.storage[0]=o[0]*r[0],this.storage[1]=o[0]*r[1],this.storage[2]=o[0]*r[2],this.storage[3]=o[0]*r[3],this.storage[4]=o[1]*r[0],this.storage[5]=o[1]*r[1],this.storage[6]=o[1]*r[2],this.storage[7]=o[1]*r[3],this.storage[8]=o[2]*r[0],this.storage[9]=o[2]*r[1],this.storage[10]=o[2]*r[2],this.storage[11]=o[2]*r[3],this.storage[12]=o[3]*r[0],this.storage[13]=o[3]*r[1],this.storage[14]=o[3]*r[2],this.storage[15]=o[3]*r[3]},x.simd.setOuter=function(t,e,a){n.simd.load(e),n.simd.load(a),t.simd_c0=i.Float32x4.mul(i.Float32x4.swizzle(e.simd_storage,0,0,0,0),a.simd_storage),t.simd_c1=i.Float32x4.mul(i.Float32x4.swizzle(e.simd_storage,1,1,1,1),a.simd_storage),t.simd_c2=i.Float32x4.mul(i.Float32x4.swizzle(e.simd_storage,2,2,2,2),a.simd_storage),t.simd_c3=i.Float32x4.mul(i.Float32x4.swizzle(e.simd_storage,3,3,3,3),a.simd_storage),x.simd.store(t)},x.prototype.toString=function(){return"[0] "+this.getRow(0).toString()+"\n[1] "+this.getRow(1).toString()+"\n[2] "+this.getRow(2).toString()+"\n[3] "+this.getRow(3).toString()+"}\n"},x.prototype.getAt=function(t){return this.storage[t]},x.prototype.setAt=function(t,e){this.storage[t]=e},x.prototype.equals=function(t){return null!=t.dimension&&4==t.dimension&&(this.storage[0]==t.storage[0]&&this.storage[1]==t.storage[1]&&this.storage[2]==t.storage[2]&&this.storage[3]==t.storage[3]&&this.storage[4]==t.storage[4]&&this.storage[5]==t.storage[5]&&this.storage[6]==t.storage[6]&&this.storage[7]==t.storage[7]&&this.storage[8]==t.storage[8]&&this.storage[9]==t.storage[9]&&this.storage[10]==t.storage[10]&&this.storage[11]==t.storage[11]&&this.storage[12]==t.storage[12]&&this.storage[13]==t.storage[13]&&this.storage[14]==t.storage[14]&&this.storage[15]==t.storage[15])},x.prototype.almostEquals=function(t,e){return void 0===e&&(e=s.EPSILON),s.USE_SIMD()?x.simd.almostEquals(this,t,e):x.scalar.almostEquals(this,t,e)},x.scalar.almostEquals=function(t,e,a){return null!=e.dimension&&4==e.dimension&&!(Math.abs(t.storage[0]-e.storage[0])>a||Math.abs(t.storage[1]-e.storage[1])>a||Math.abs(t.storage[2]-e.storage[2])>a||Math.abs(t.storage[3]-e.storage[3])>a||Math.abs(t.storage[4]-e.storage[4])>a||Math.abs(t.storage[5]-e.storage[5])>a||Math.abs(t.storage[6]-e.storage[6])>a||Math.abs(t.storage[7]-e.storage[7])>a||Math.abs(t.storage[8]-e.storage[8])>a||Math.abs(t.storage[9]-e.storage[9])>a||Math.abs(t.storage[10]-e.storage[10])>a||Math.abs(t.storage[11]-e.storage[11])>a||Math.abs(t.storage[12]-e.storage[12])>a||Math.abs(t.storage[13]-e.storage[13])>a||Math.abs(t.storage[14]-e.storage[14])>a||Math.abs(t.storage[15]-e.storage[15])>a)},x.simd.almostEquals=function(t,e,a){x.simd.load(t),x.simd.load(e);var o=i.Float32x4(a,a,a,a);return t.simd_c0=i.Float32x4.sub(t.simd_c0,e.simd_c0),t.simd_c0=i.Float32x4.abs(t.simd_c0),t.simd_c0=i.Float32x4.greaterThan(t.simd_c0,o),t.simd_c1=i.Float32x4.sub(t.simd_c1,e.simd_c1),t.simd_c1=i.Float32x4.abs(t.simd_c1),t.simd_c1=i.Float32x4.greaterThan(t.simd_c1,o),t.simd_c2=i.Float32x4.sub(t.simd_c2,e.simd_c2),t.simd_c2=i.Float32x4.abs(t.simd_c2),t.simd_c2=i.Float32x4.greaterThan(t.simd_c2,o),t.simd_c3=i.Float32x4.sub(t.simd_c3,e.simd_c3),t.simd_c3=i.Float32x4.abs(t.simd_c3),t.simd_c3=i.Float32x4.greaterThan(t.simd_c3,o),!(i.Bool32x4.extractLane(t.simd_c0,0)||i.Bool32x4.extractLane(t.simd_c0,1)||i.Bool32x4.extractLane(t.simd_c0,2)||i.Bool32x4.extractLane(t.simd_c0,3)||i.Bool32x4.extractLane(t.simd_c1,0)||i.Bool32x4.extractLane(t.simd_c1,1)||i.Bool32x4.extractLane(t.simd_c1,2)||i.Bool32x4.extractLane(t.simd_c1,3)||i.Bool32x4.extractLane(t.simd_c2,0)||i.Bool32x4.extractLane(t.simd_c2,1)||i.Bool32x4.extractLane(t.simd_c2,2)||i.Bool32x4.extractLane(t.simd_c2,3)||i.Bool32x4.extractLane(t.simd_c3,0)||i.Bool32x4.extractLane(t.simd_c3,1)||i.Bool32x4.extractLane(t.simd_c3,2)||i.Bool32x4.extractLane(t.simd_c3,3))},x.prototype.__defineGetter__("row0",function(){return this.getRow(0)}),x.prototype.__defineSetter__("row0",function(t){this.setRow(0,t)}),x.prototype.__defineGetter__("row1",function(){return this.getRow(1)}),x.prototype.__defineSetter__("row1",function(t){this.setRow(1,t)}),x.prototype.__defineGetter__("row2",function(){return this.getRow(2)}),x.prototype.__defineSetter__("row2",function(t){this.setRow(2,t)}),x.prototype.__defineGetter__("row3",function(){return this.getRow(3)}),x.prototype.__defineSetter__("row3",function(t){this.setRow(3,t)}),x.prototype.setRow=function(t,e){var a=e.storage;this.storage[this.index(t,0)]=a[0],this.storage[this.index(t,1)]=a[1],this.storage[this.index(t,2)]=a[2],this.storage[this.index(t,3)]=a[3]},x.prototype.getRow=function(t){var e=n.zero(),a=e.storage;return a[0]=this.storage[this.index(t,0)],a[1]=this.storage[this.index(t,1)],a[2]=this.storage[this.index(t,2)],a[3]=this.storage[this.index(t,3)],e},x.prototype.setColumn=function(t,e){var a=e.storage,o=3*t;return this.storage[o+3]=a[3],this.storage[o+2]=a[2],this.storage[o+1]=a[1],this.storage[o+0]=a[0],this},x.prototype.getColumn=function(t){var e=n.zero(),a=3*t,o=e.storage;return o[3]=this.storage[a+3],o[2]=this.storage[a+2],o[1]=this.storage[a+1],o[0]=this.storage[a+0],e},x.prototype.clone=function(){return x.copy(this)},x.prototype.copyInto=function(t){return t.setFrom(this),t},x.prototype.mult=function(t){return"Number"==typeof t?this.scaled(t):t instanceof n?this.transformed(t):t instanceof r?this.transformed3(t):4==t.dimension?this.multiplied(t):null},x.prototype.added=function(t){var e=this.clone();return e.add(t),e},x.prototype.subbed=function(t){var e=this.clone();return e.sub(t),e},x.prototype.negated=function(){var t=this.clone();return t.negate(),t},x.prototype.translate=function(t,e,a){var o,i,c,h=t instanceof n?t.w:1;return t instanceof r||t instanceof n?(o=t.x,i=t.y,c=t.z):(o=t,i=e,c=a),s.USE_SIMD()?x.simd.translate(this,o,i,c,h):x.scalar.translate(this,o,i,c,h),this},x.scalar.translate=function(t,e,a,o,r){var n=t.storage[0]*e+t.storage[4]*a+t.storage[8]*o+t.storage[12]*r,s=t.storage[1]*e+t.storage[5]*a+t.storage[9]*o+t.storage[13]*r,i=t.storage[2]*e+t.storage[6]*a+t.storage[10]*o+t.storage[14]*r,x=t.storage[3]*e+t.storage[7]*a+t.storage[11]*o+t.storage[15]*r;t.storage[12]=n,t.storage[13]=s,t.storage[14]=i,t.storage[15]=x},x.simd.translate=function(t,e,a,o,r){x.simd.load(t);var n=i.Float32x4(e,a,o,r);t1=i.Float32x4.mul(t.simd_c0,i.Float32x4.swizzle(n,0,0,0,0)),t2=i.Float32x4.mul(t.simd_c1,i.Float32x4.swizzle(n,1,1,1,1)),t3=i.Float32x4.mul(t.simd_c2,i.Float32x4.swizzle(n,2,2,2,2)),t4=i.Float32x4.mul(t.simd_c3,i.Float32x4.swizzle(n,3,3,3,3)),t.simd_c3=i.Float32x4.add(t1,i.Float32x4.add(t2,i.Float32x4.add(t3,t4))),x.simd.store(t)},x.prototype.rotate=function(t,e){var a=t.length,o=t.storage,r=o[0]/a,n=o[1]/a,s=o[2]/a,i=Math.cos(e),x=Math.sin(e),c=1-i,h=r*r*c+i,l=r*n*c-s*x,g=r*s*c+n*x,u=n*r*c+s*x,d=n*n*c+i,m=n*s*c-r*x,L=s*r*c-n*x,I=s*n*c+r*x,f=s*s*c+i,p=this.storage[0]*h+this.storage[4]*u+this.storage[8]*L,y=this.storage[1]*h+this.storage[5]*u+this.storage[9]*L,F=this.storage[2]*h+this.storage[6]*u+this.storage[10]*L,_=this.storage[3]*h+this.storage[7]*u+this.storage[11]*L,v=this.storage[0]*l+this.storage[4]*d+this.storage[8]*I,B=this.storage[1]*l+this.storage[5]*d+this.storage[9]*I,M=this.storage[2]*l+this.storage[6]*d+this.storage[10]*I,b=this.storage[3]*l+this.storage[7]*d+this.storage[11]*I,w=this.storage[0]*g+this.storage[4]*m+this.storage[8]*f,S=this.storage[1]*g+this.storage[5]*m+this.storage[9]*f,z=this.storage[2]*g+this.storage[6]*m+this.storage[10]*f,E=this.storage[3]*g+this.storage[7]*m+this.storage[11]*f;return this.storage[0]=p,this.storage[1]=y,this.storage[2]=F,this.storage[3]=_,this.storage[4]=v,this.storage[5]=B,this.storage[6]=M,this.storage[7]=b,this.storage[8]=w,this.storage[9]=S,this.storage[10]=z,this.storage[11]=E,this},x.prototype.rotateX=function(t){var e=Math.cos(t),a=Math.sin(t),o=this.storage[4]*e+this.storage[8]*a,r=this.storage[5]*e+this.storage[9]*a,n=this.storage[6]*e+this.storage[10]*a,s=this.storage[7]*e+this.storage[11]*a,i=this.storage[4]*-a+this.storage[8]*e,x=this.storage[5]*-a+this.storage[9]*e,c=this.storage[6]*-a+this.storage[10]*e,h=this.storage[7]*-a+this.storage[11]*e;return this.storage[4]=o,this.storage[5]=r,this.storage[6]=n,this.storage[7]=s,this.storage[8]=i,this.storage[9]=x,this.storage[10]=c,this.storage[11]=h,this},x.prototype.rotateY=function(t){var e=Math.cos(t),a=Math.sin(t),o=this.storage[0]*e+this.storage[8]*-a,r=this.storage[1]*e+this.storage[9]*-a,n=this.storage[2]*e+this.storage[10]*-a,s=this.storage[3]*e+this.storage[11]*-a,i=this.storage[0]*a+this.storage[8]*e,x=this.storage[1]*a+this.storage[9]*e,c=this.storage[2]*a+this.storage[10]*e,h=this.storage[3]*a+this.storage[11]*e;return this.storage[0]=o,this.storage[1]=r,this.storage[2]=n,this.storage[3]=s,this.storage[8]=i,this.storage[9]=x,this.storage[10]=c,this.storage[11]=h,this},x.prototype.rotateZ=function(t){var e=Math.cos(t),a=Math.sin(t),o=this.storage[0]*e+this.storage[4]*a,r=this.storage[1]*e+this.storage[5]*a,n=this.storage[2]*e+this.storage[6]*a,s=this.storage[3]*e+this.storage[7]*a,i=this.storage[0]*-a+this.storage[4]*e,x=this.storage[1]*-a+this.storage[5]*e,c=this.storage[2]*-a+this.storage[6]*e,h=this.storage[3]*-a+this.storage[7]*e;return this.storage[0]=o,this.storage[1]=r,this.storage[2]=n,this.storage[3]=s,this.storage[4]=i,this.storage[5]=x,this.storage[6]=c,this.storage[7]=h,this},x.prototype.scale=function(t,e,a){var o,i,c,h=t instanceof n?t.w:1;return t instanceof r||t instanceof n?(o=t.x,i=t.y,c=t.z):(o=t,i=e,c=a),s.USE_SIMD()?x.simd.scale(this,o,i,c,h):x.scalar.scale(this,o,i,c,h),this},x.scalar.scale=function(t,e,a,o,r){t.storage[0]*=e,t.storage[1]*=e,t.storage[2]*=e,t.storage[3]*=e,t.storage[4]*=a,t.storage[5]*=a,t.storage[6]*=a,t.storage[7]*=a,t.storage[8]*=o,t.storage[9]*=o,t.storage[10]*=o,t.storage[11]*=o,t.storage[12]*=r,t.storage[13]*=r,t.storage[14]*=r,t.storage[15]*=r},x.simd.scale=function(t,e,a,o,r){x.simd.load(t),t.simd_c0=i.Float32x4.mul(t.simd_c0,i.Float32x4(e,e,e,e)),t.simd_c1=i.Float32x4.mul(t.simd_c1,i.Float32x4(a,a,a,a)),t.simd_c2=i.Float32x4.mul(t.simd_c2,i.Float32x4(o,o,o,o)),t.simd_c3=i.Float32x4.mul(t.simd_c3,i.Float32x4(r,r,r,r)),x.simd.store(t)},x.prototype.scaled=function(t,e,a){var o=this.clone();return o.scale(t,e,a),o},x.prototype.setZero=function(){return this.storage[0]=0,this.storage[1]=0,this.storage[2]=0,this.storage[3]=0,this.storage[4]=0,this.storage[5]=0,this.storage[6]=0,this.storage[7]=0,this.storage[8]=0,this.storage[9]=0,this.storage[10]=0,this.storage[11]=0,this.storage[12]=0,this.storage[13]=0,this.storage[14]=0,this.storage[15]=0,this},x.prototype.setIdentity=function(){return this.storage[0]=1,this.storage[1]=0,this.storage[2]=0,this.storage[3]=0,this.storage[4]=0,this.storage[5]=1,this.storage[6]=0,this.storage[7]=0,this.storage[8]=0,this.storage[9]=0,this.storage[10]=1,this.storage[11]=0,this.storage[12]=0,this.storage[13]=0,this.storage[14]=0,this.storage[15]=1,this},x.prototype.transposed=function(){var t=this.clone();return t.transpose(),t},x.prototype.transpose=function(){return s.USE_SIMD()?x.simd.transpose(this):x.scalar.transpose(this),this},x.scalar.transpose=function(t){var e;e=t.storage[4],t.storage[4]=t.storage[1],t.storage[1]=e,e=t.storage[8],t.storage[8]=t.storage[2],t.storage[2]=e,e=t.storage[12],t.storage[12]=t.storage[3],t.storage[3]=e,e=t.storage[9],t.storage[9]=t.storage[6],t.storage[6]=e,e=t.storage[13],t.storage[13]=t.storage[7],t.storage[7]=e,e=t.storage[14],t.storage[14]=t.storage[11],t.storage[11]=e},x.simd.transpose=function(t){x.simd.load(t);var e=i.Float32x4.shuffle(t.simd_c0,t.simd_c1,0,1,4,5),a=i.Float32x4.shuffle(t.simd_c2,t.simd_c3,0,1,4,5),o=i.Float32x4.shuffle(e,a,0,2,4,6),r=i.Float32x4.shuffle(e,a,1,3,5,7);e=i.Float32x4.shuffle(t.simd_c0,t.simd_c1,2,3,6,7),a=i.Float32x4.shuffle(t.simd_c2,t.simd_c3,2,3,6,7);var n=i.Float32x4.shuffle(e,a,0,2,4,6),s=i.Float32x4.shuffle(e,a,1,3,5,7);t.simd_c0=o,t.simd_c1=r,t.simd_c2=n,t.simd_c3=s,x.simd.store(t)},x.prototype.absolute=function(){return s.USE_SIMD()?x.simd.absolute(this):x.scalar.absolute(this)},x.scalar.absolute=function(t){var e=x.zero(),a=e.storage;return a[0]=Math.abs(t.storage[0]),a[1]=Math.abs(t.storage[1]),a[2]=Math.abs(t.storage[2]),a[3]=Math.abs(t.storage[3]),a[4]=Math.abs(t.storage[4]),a[5]=Math.abs(t.storage[5]),a[6]=Math.abs(t.storage[6]),a[7]=Math.abs(t.storage[7]),a[8]=Math.abs(t.storage[8]),a[9]=Math.abs(t.storage[9]),a[10]=Math.abs(t.storage[10]),a[11]=Math.abs(t.storage[11]),a[12]=Math.abs(t.storage[12]),a[13]=Math.abs(t.storage[13]),a[14]=Math.abs(t.storage[14]),a[15]=Math.abs(t.storage[15]),e},x.simd.absolute=function(t){x.simd.load(t),t.simd_c0=i.Float32x4.abs(t.simd_c0),t.simd_c1=i.Float32x4.abs(t.simd_c1),t.simd_c2=i.Float32x4.abs(t.simd_c2),t.simd_c3=i.Float32x4.abs(t.simd_c3),x.simd.store(t)},x.prototype.determinant=function(){var t=this.storage[0]*this.storage[5]-this.storage[1]*this.storage[4],e=this.storage[0]*this.storage[6]-this.storage[2]*this.storage[4],a=this.storage[0]*this.storage[7]-this.storage[3]*this.storage[4],o=this.storage[1]*this.storage[6]-this.storage[2]*this.storage[5],r=this.storage[1]*this.storage[7]-this.storage[3]*this.storage[5],n=this.storage[2]*this.storage[7]-this.storage[3]*this.storage[6],s=this.storage[8]*o-this.storage[9]*e+this.storage[10]*t,i=this.storage[8]*r-this.storage[9]*a+this.storage[11]*t,x=this.storage[8]*n-this.storage[10]*a+this.storage[11]*e;return-(this.storage[9]*n-this.storage[10]*r+this.storage[11]*o)*this.storage[12]+x*this.storage[13]-i*this.storage[14]+s*this.storage[15]},x.prototype.dotRow=function(t,e){var a=e.storage;return this.storage[t]*a[0]+this.storage[4+t]*a[1]+this.storage[8+t]*a[2]+this.storage[12+t]*a[3]},x.prototype.dotColumn=function(t,e){var a=e.storage;return this.storage[4*t]*a[0]+this.storage[4*t+1]*a[1]+this.storage[4*t+2]*a[2]+this.storage[4*t+3]*a[3]},x.prototype.trace=function(){var t=0;return t+=this.storage[0],t+=this.storage[5],t+=this.storage[10],t+=this.storage[15]},x.prototype.infinityNorm=function(){var t=0,e=0;return e+=Math.abs(this.storage[0]),e+=Math.abs(this.storage[1]),e+=Math.abs(this.storage[2]),t=(e+=Math.abs(this.storage[3]))>t?e:t,e=0,e+=Math.abs(this.storage[4]),e+=Math.abs(this.storage[5]),e+=Math.abs(this.storage[6]),t=(e+=Math.abs(this.storage[7]))>t?e:t,e=0,e+=Math.abs(this.storage[8]),e+=Math.abs(this.storage[9]),e+=Math.abs(this.storage[10]),t=(e+=Math.abs(this.storage[11]))>t?e:t,e=0,e+=Math.abs(this.storage[12]),e+=Math.abs(this.storage[13]),e+=Math.abs(this.storage[14]),t=(e+=Math.abs(this.storage[15]))>t?e:t},x.prototype.relativeError=function(t){var e=t.subbed(this),a=t.infinityNorm();return e.infinityNorm()/a},x.prototype.absoluteError=function(t){var e=this.infinityNorm(),a=t.infinityNorm();return Math.abs(e-a)},x.prototype.getTranslation=function(){var t=this.storage[14],e=this.storage[13],a=this.storage[12];return new r(a,e,t)},x.prototype.setTranslation=function(t){var e=t.storage,a=e[2],o=e[1],r=e[0];this.storage[14]=a,this.storage[13]=o,this.storage[12]=r},x.prototype.getRotation=function(){var t=o.zero();return this.copyRotation(t),t},x.prototype.copyRotation=function(t){var e=t.storage;e[0]=this.storage[0],e[1]=this.storage[1],e[2]=this.storage[2],e[3]=this.storage[4],e[4]=this.storage[5],e[5]=this.storage[6],e[6]=this.storage[8],e[7]=this.storage[9],e[8]=this.storage[10]},x.prototype.setRotation=function(t){var e=t.storage;this.storage[0]=e[0],this.storage[1]=e[1],this.storage[2]=e[2],this.storage[4]=e[3],this.storage[5]=e[4],this.storage[6]=e[5],this.storage[8]=e[6],this.storage[9]=e[7],this.storage[10]=e[8]},x.prototype.getNormalMatrix=function(){var t=o.identity();return t.copyNormalMatrix(this),t},x.prototype.getMaxScaleOnAxis=function(){var t=this.storage[0]*this.storage[0]+this.storage[1]*this.storage[1]+this.storage[2]*this.storage[2],e=this.storage[4]*this.storage[4]+this.storage[5]*this.storage[5]+this.storage[6]*this.storage[6],a=this.storage[8]*this.storage[8]+this.storage[9]*this.storage[9]+this.storage[10]*this.storage[10];return Math.sqrt(Math.max(t,Math.max(e,a)))},x.prototype.transposeRotation=function(){var t;return t=this.storage[1],this.storage[1]=this.storage[4],this.storage[4]=t,t=this.storage[2],this.storage[2]=this.storage[8],this.storage[8]=t,t=this.storage[4],this.storage[4]=this.storage[1],this.storage[1]=t,t=this.storage[6],this.storage[6]=this.storage[9],this.storage[9]=t,t=this.storage[8],this.storage[8]=this.storage[2],this.storage[2]=t,t=this.storage[9],this.storage[9]=this.storage[6],this.storage[6]=t,this},x.prototype.invert=function(){this.copyInverse(this)},x.prototype.copyInverse=function(t){return s.USE_SIMD()?x.simd.copyInverse(this,t):x.scalar.copyInverse(this,t)},x.scalar.copyInverse=function(t,e){var a=e.storage,o=a[0],r=a[1],n=a[2],s=a[3],i=a[4],x=a[5],c=a[6],h=a[7],l=a[8],g=a[9],u=a[10],d=a[11],m=a[12],L=a[13],I=a[14],f=a[15],p=o*x-r*i,y=o*c-n*i,F=o*h-s*i,_=r*c-n*x,v=r*h-s*x,B=n*h-s*c,M=l*L-g*m,b=l*I-u*m,w=l*f-d*m,S=g*I-u*L,z=g*f-d*L,E=u*f-d*I,k=p*E-y*z+F*S+_*w-v*b+B*M;if(0==k)return t.setFrom(e),0;var T=1/k;return t.storage[0]=(x*E-c*z+h*S)*T,t.storage[1]=(-r*E+n*z-s*S)*T,t.storage[2]=(L*B-I*v+f*_)*T,t.storage[3]=(-g*B+u*v-d*_)*T,t.storage[4]=(-i*E+c*w-h*b)*T,t.storage[5]=(o*E-n*w+s*b)*T,t.storage[6]=(-m*B+I*F-f*y)*T,t.storage[7]=(l*B-u*F+d*y)*T,t.storage[8]=(i*z-x*w+h*M)*T,t.storage[9]=(-o*z+r*w-s*M)*T,t.storage[10]=(m*v-L*F+f*p)*T,t.storage[11]=(-l*v+g*F-d*p)*T,t.storage[12]=(-i*S+x*b-c*M)*T,t.storage[13]=(o*S-r*b+n*M)*T,t.storage[14]=(-m*_+L*y-I*p)*T,t.storage[15]=(l*_-g*y+u*p)*T,k},x.simd.copyInverse=function(t,e){var a,o,r,n,s,c,h,l,g,u;return x.simd.load(e),s=i.Float32x4.shuffle(e.simd_c0,e.simd_c1,0,1,4,5),o=i.Float32x4.shuffle(e.simd_c2,e.simd_c3,0,1,4,5),a=i.Float32x4.shuffle(s,o,0,2,4,6),o=i.Float32x4.shuffle(o,s,1,3,5,7),s=i.Float32x4.shuffle(e.simd_c0,e.simd_c1,2,3,6,7),n=i.Float32x4.shuffle(e.simd_c2,e.simd_c3,2,3,6,7),r=i.Float32x4.shuffle(s,n,0,2,4,6),n=i.Float32x4.shuffle(n,s,1,3,5,7),s=i.Float32x4.mul(r,n),s=i.Float32x4.swizzle(s,1,0,3,2),c=i.Float32x4.mul(o,s),h=i.Float32x4.mul(a,s),s=i.Float32x4.swizzle(s,2,3,0,1),c=i.Float32x4.sub(i.Float32x4.mul(o,s),c),h=i.Float32x4.sub(i.Float32x4.mul(a,s),h),h=i.Float32x4.swizzle(h,2,3,0,1),s=i.Float32x4.mul(o,r),s=i.Float32x4.swizzle(s,1,0,3,2),c=i.Float32x4.add(i.Float32x4.mul(n,s),c),g=i.Float32x4.mul(a,s),s=i.Float32x4.swizzle(s,2,3,0,1),c=i.Float32x4.sub(c,i.Float32x4.mul(n,s)),g=i.Float32x4.sub(i.Float32x4.mul(a,s),g),g=i.Float32x4.swizzle(g,2,3,0,1),s=i.Float32x4.mul(i.Float32x4.swizzle(o,2,3,0,1),n),s=i.Float32x4.swizzle(s,1,0,3,2),r=i.Float32x4.swizzle(r,2,3,0,1),c=i.Float32x4.add(i.Float32x4.mul(r,s),c),l=i.Float32x4.mul(a,s),s=i.Float32x4.swizzle(s,2,3,0,1),c=i.Float32x4.sub(c,i.Float32x4.mul(r,s)),l=i.Float32x4.sub(i.Float32x4.mul(a,s),l),l=i.Float32x4.swizzle(l,2,3,0,1),s=i.Float32x4.mul(a,o),s=i.Float32x4.swizzle(s,1,0,3,2),l=i.Float32x4.add(i.Float32x4.mul(n,s),l),g=i.Float32x4.sub(i.Float32x4.mul(r,s),g),s=i.Float32x4.swizzle(s,2,3,0,1),l=i.Float32x4.sub(i.Float32x4.mul(n,s),l),g=i.Float32x4.sub(g,i.Float32x4.mul(r,s)),s=i.Float32x4.mul(a,n),s=i.Float32x4.swizzle(s,1,0,3,2),h=i.Float32x4.sub(h,i.Float32x4.mul(r,s)),l=i.Float32x4.add(i.Float32x4.mul(o,s),l),s=i.Float32x4.swizzle(s,2,3,0,1),h=i.Float32x4.add(i.Float32x4.mul(r,s),h),l=i.Float32x4.sub(l,i.Float32x4.mul(o,s)),s=i.Float32x4.mul(a,r),s=i.Float32x4.swizzle(s,1,0,3,2),h=i.Float32x4.add(i.Float32x4.mul(n,s),h),g=i.Float32x4.sub(g,i.Float32x4.mul(o,s)),s=i.Float32x4.swizzle(s,2,3,0,1),h=i.Float32x4.sub(h,i.Float32x4.mul(n,s)),g=i.Float32x4.add(i.Float32x4.mul(o,s),g),u=i.Float32x4.mul(a,c),u=i.Float32x4.add(i.Float32x4.swizzle(u,2,3,0,1),u),u=i.Float32x4.add(i.Float32x4.swizzle(u,1,0,3,2),u),s=i.Float32x4.reciprocalApproximation(u),u=i.Float32x4.sub(i.Float32x4.add(s,s),i.Float32x4.mul(u,i.Float32x4.mul(s,s))),u=i.Float32x4.swizzle(u,0,0,0,0),real_det=i.Float32x4.extractLane(u,0),0==real_det?(t.setFrom(e),0):(t.simd_c0=i.Float32x4.mul(u,c),t.simd_c1=i.Float32x4.mul(u,h),t.simd_c2=i.Float32x4.mul(u,l),t.simd_c3=i.Float32x4.mul(u,g),x.simd.store(t),1/real_det)},x.prototype.invertRotation=function(){var t=this.determinant();if(0==t)return 0;var e,a,o,r,n,s,i,x,c,h=1/t;return e=h*(this.storage[5]*this.storage[10]-this.storage[6]*this.storage[9]),a=h*(this.storage[2]*this.storage[9]-this.storage[1]*this.storage[10]),o=h*(this.storage[1]*this.storage[6]-this.storage[2]*this.storage[5]),r=h*(this.storage[6]*this.storage[8]-this.storage[4]*this.storage[10]),n=h*(this.storage[0]*this.storage[10]-this.storage[2]*this.storage[8]),s=h*(this.storage[2]*this.storage[4]-this.storage[0]*this.storage[6]),i=h*(this.storage[4]*this.storage[9]-this.storage[5]*this.storage[8]),x=h*(this.storage[1]*this.storage[8]-this.storage[0]*this.storage[9]),c=h*(this.storage[0]*this.storage[5]-this.storage[1]*this.storage[4]),this.storage[0]=e,this.storage[1]=a,this.storage[2]=o,this.storage[4]=r,this.storage[5]=n,this.storage[6]=s,this.storage[8]=i,this.storage[9]=x,this.storage[10]=c,t},x.prototype.setRotationX=function(t){var e=Math.cos(t),a=Math.sin(t);this.storage[0]=1,this.storage[1]=0,this.storage[2]=0,this.storage[4]=0,this.storage[5]=e,this.storage[6]=a,this.storage[8]=0,this.storage[9]=-a,this.storage[10]=e,this.storage[3]=0,this.storage[7]=0,this.storage[11]=0},x.prototype.setRotationY=function(t){var e=Math.cos(t),a=Math.sin(t);this.storage[0]=e,this.storage[1]=0,this.storage[2]=-a,this.storage[4]=0,this.storage[5]=1,this.storage[6]=0,this.storage[8]=a,this.storage[9]=0,this.storage[10]=e,this.storage[3]=0,this.storage[7]=0,this.storage[11]=0},x.prototype.setRotationZ=function(t){var e=Math.cos(t),a=Math.sin(t);this.storage[0]=e,this.storage[1]=a,this.storage[2]=0,this.storage[4]=-a,this.storage[5]=e,this.storage[6]=0,this.storage[8]=0,this.storage[9]=0,this.storage[10]=1,this.storage[3]=0,this.storage[7]=0,this.storage[11]=0},x.prototype.scaleAdjoint=function(t){return s.USE_SIMD(),x.scalar.scaleAdjoint(this,t),this},x.scalar.scaleAdjoint=function(t,e){var a=t.storage[0],o=t.storage[4],r=t.storage[8],n=t.storage[12],s=t.storage[1],i=t.storage[5],x=t.storage[9],c=t.storage[13],h=t.storage[2],l=t.storage[6],g=t.storage[10],u=t.storage[14],d=t.storage[3],m=t.storage[7],L=t.storage[11],I=t.storage[15];t.storage[0]=e*(i*(g*I-L*u)-x*(l*I-m*u)+c*(l*L-m*g)),t.storage[1]=-e*(s*(g*I-L*u)-x*(h*I-d*u)+c*(h*L-d*g)),t.storage[2]=e*(s*(l*I-m*u)-i*(h*I-d*u)+c*(h*m-d*l)),t.storage[3]=-e*(s*(l*L-m*g)-i*(h*L-d*g)+x*(h*m-d*l)),t.storage[4]=-e*(o*(g*I-L*u)-r*(l*I-m*u)+n*(l*L-m*g)),t.storage[5]=e*(a*(g*I-L*u)-r*(h*I-d*u)+n*(h*L-d*g)),t.storage[6]=-e*(a*(l*I-m*u)-o*(h*I-d*u)+n*(h*m-d*l)),t.storage[7]=e*(a*(l*L-m*g)-o*(h*L-d*g)+r*(h*m-d*l)),t.storage[8]=e*(o*(x*I-L*c)-r*(i*I-m*c)+n*(i*L-m*x)),t.storage[9]=-e*(a*(x*I-L*c)-r*(s*I-d*c)+n*(s*L-d*x)),t.storage[10]=e*(a*(i*I-m*c)-o*(s*I-d*c)+n*(s*m-d*i)),t.storage[11]=-e*(a*(i*L-m*x)-o*(s*L-d*x)+r*(s*m-d*i)),t.storage[12]=-e*(o*(x*u-g*c)-r*(i*u-l*c)+n*(i*g-l*x)),t.storage[13]=e*(a*(x*u-g*c)-r*(s*u-h*c)+n*(s*g-h*x)),t.storage[14]=-e*(a*(i*u-l*c)-o*(s*u-h*c)+n*(s*l-h*i)),t.storage[15]=e*(a*(i*g-l*x)-o*(s*g-h*x)+r*(s*l-h*i))},x.simd.scaleAdjoint=function(t,e){},x.prototype.absoluteRotate=function(t){var e=Math.abs(this.storage[0]),a=Math.abs(this.storage[4]),o=Math.abs(this.storage[8]),r=Math.abs(this.storage[1]),n=Math.abs(this.storage[5]),s=Math.abs(this.storage[9]),i=Math.abs(this.storage[2]),x=Math.abs(this.storage[6]),c=Math.abs(this.storage[10]),h=t.storage,l=h[0],g=h[1],u=h[2];return h[0]=l*e+g*a+u*o,h[1]=l*r+g*n+u*s,h[2]=l*i+g*x+u*c,t},x.prototype.add=function(t){return s.USE_SIMD()?x.simd.add(this,t):x.scalar.add(this,t),this},x.scalar.add=function(t,e){var a=e.storage;t.storage[0]=t.storage[0]+a[0],t.storage[1]=t.storage[1]+a[1],t.storage[2]=t.storage[2]+a[2],t.storage[3]=t.storage[3]+a[3],t.storage[4]=t.storage[4]+a[4],t.storage[5]=t.storage[5]+a[5],t.storage[6]=t.storage[6]+a[6],t.storage[7]=t.storage[7]+a[7],t.storage[8]=t.storage[8]+a[8],t.storage[9]=t.storage[9]+a[9],t.storage[10]=t.storage[10]+a[10],t.storage[11]=t.storage[11]+a[11],t.storage[12]=t.storage[12]+a[12],t.storage[13]=t.storage[13]+a[13],t.storage[14]=t.storage[14]+a[14],t.storage[15]=t.storage[15]+a[15]},x.simd.add=function(t,e){x.simd.load(t),x.simd.load(e),t.simd_c0=i.Float32x4.add(t.simd_c0,e.simd_c0),t.simd_c1=i.Float32x4.add(t.simd_c1,e.simd_c1),t.simd_c2=i.Float32x4.add(t.simd_c2,e.simd_c2),t.simd_c3=i.Float32x4.add(t.simd_c3,e.simd_c3),x.simd.store(t)},x.prototype.sub=function(t){return s.USE_SIMD()?x.simd.sub(this,t):x.scalar.sub(this,t),this},x.scalar.sub=function(t,e){var a=e.storage;t.storage[0]=t.storage[0]-a[0],t.storage[1]=t.storage[1]-a[1],t.storage[2]=t.storage[2]-a[2],t.storage[3]=t.storage[3]-a[3],t.storage[4]=t.storage[4]-a[4],t.storage[5]=t.storage[5]-a[5],t.storage[6]=t.storage[6]-a[6],t.storage[7]=t.storage[7]-a[7],t.storage[8]=t.storage[8]-a[8],t.storage[9]=t.storage[9]-a[9],t.storage[10]=t.storage[10]-a[10],t.storage[11]=t.storage[11]-a[11],t.storage[12]=t.storage[12]-a[12],t.storage[13]=t.storage[13]-a[13],t.storage[14]=t.storage[14]-a[14],t.storage[15]=t.storage[15]-a[15]},x.simd.sub=function(t,e){x.simd.load(t),x.simd.load(e),t.simd_c0=i.Float32x4.sub(t.simd_c0,e.simd_c0),t.simd_c1=i.Float32x4.sub(t.simd_c1,e.simd_c1),t.simd_c2=i.Float32x4.sub(t.simd_c2,e.simd_c2),t.simd_c3=i.Float32x4.sub(t.simd_c3,e.simd_c3),x.simd.store(t)},x.prototype.negate=function(){return s.USE_SIMD()?x.simd.neg(this):x.scalar.neg(this),this},x.scalar.neg=function(t){t.storage[0]=-t.storage[0],t.storage[1]=-t.storage[1],t.storage[2]=-t.storage[2],t.storage[3]=-t.storage[3],t.storage[4]=-t.storage[4],t.storage[5]=-t.storage[5],t.storage[6]=-t.storage[6],t.storage[7]=-t.storage[7],t.storage[8]=-t.storage[8],t.storage[9]=-t.storage[9],t.storage[10]=-t.storage[10],t.storage[11]=-t.storage[11],t.storage[12]=-t.storage[12],t.storage[13]=-t.storage[13],t.storage[14]=-t.storage[14],t.storage[15]=-t.storage[15]},x.simd.neg=function(t){x.simd.load(t),t.simd_c0=i.Float32x4.neg(t.simd_c0),t.simd_c1=i.Float32x4.neg(t.simd_c1),t.simd_c2=i.Float32x4.neg(t.simd_c2),t.simd_c3=i.Float32x4.neg(t.simd_c3),x.simd.store(t)},x.prototype.multiply=function(t){return s.USE_SIMD()?x.simd.multiply(this,t):x.scalar.multiply(this,t),this},x.scalar.multiply=function(t,e){var a=t.storage[0],o=t.storage[4],r=t.storage[8],n=t.storage[12],s=t.storage[1],i=t.storage[5],x=t.storage[9],c=t.storage[13],h=t.storage[2],l=t.storage[6],g=t.storage[10],u=t.storage[14],d=t.storage[3],m=t.storage[7],L=t.storage[11],I=t.storage[15],f=e.storage,p=f[0],y=f[4],F=f[8],_=f[12],v=f[1],B=f[5],M=f[9],b=f[13],w=f[2],S=f[6],z=f[10],E=f[14],k=f[3],T=f[7],A=f[11],j=f[15];t.storage[0]=a*p+o*v+r*w+n*k,t.storage[1]=s*p+i*v+x*w+c*k,t.storage[2]=h*p+l*v+g*w+u*k,t.storage[3]=d*p+m*v+L*w+I*k,t.storage[4]=a*y+o*B+r*S+n*T,t.storage[5]=s*y+i*B+x*S+c*T,t.storage[6]=h*y+l*B+g*S+u*T,t.storage[7]=d*y+m*B+L*S+I*T,t.storage[8]=a*F+o*M+r*z+n*A,t.storage[9]=s*F+i*M+x*z+c*A,t.storage[10]=h*F+l*M+g*z+u*A,t.storage[11]=d*F+m*M+L*z+I*A,t.storage[12]=a*_+o*b+r*E+n*j,t.storage[13]=s*_+i*b+x*E+c*j,t.storage[14]=h*_+l*b+g*E+u*j,t.storage[15]=d*_+m*b+L*E+I*j},x.simd.multiply=function(t,e){x.simd.load(t),x.simd.load(e);var a=i.Float32x4.add(i.Float32x4.add(i.Float32x4.mul(t.simd_c0,i.Float32x4.swizzle(e.simd_c0,0,0,0,0)),i.Float32x4.mul(t.simd_c1,i.Float32x4.swizzle(e.simd_c0,1,1,1,1))),i.Float32x4.add(i.Float32x4.mul(t.simd_c2,i.Float32x4.swizzle(e.simd_c0,2,2,2,2)),i.Float32x4.mul(t.simd_c3,i.Float32x4.swizzle(e.simd_c0,3,3,3,3)))),o=i.Float32x4.add(i.Float32x4.add(i.Float32x4.mul(t.simd_c0,i.Float32x4.swizzle(e.simd_c1,0,0,0,0)),i.Float32x4.mul(t.simd_c1,i.Float32x4.swizzle(e.simd_c1,1,1,1,1))),i.Float32x4.add(i.Float32x4.mul(t.simd_c2,i.Float32x4.swizzle(e.simd_c1,2,2,2,2)),i.Float32x4.mul(t.simd_c3,i.Float32x4.swizzle(e.simd_c1,3,3,3,3)))),r=i.Float32x4.add(i.Float32x4.add(i.Float32x4.mul(t.simd_c0,i.Float32x4.swizzle(e.simd_c2,0,0,0,0)),i.Float32x4.mul(t.simd_c1,i.Float32x4.swizzle(e.simd_c2,1,1,1,1))),i.Float32x4.add(i.Float32x4.mul(t.simd_c2,i.Float32x4.swizzle(e.simd_c2,2,2,2,2)),i.Float32x4.mul(t.simd_c3,i.Float32x4.swizzle(e.simd_c2,3,3,3,3)))),n=i.Float32x4.add(i.Float32x4.add(i.Float32x4.mul(t.simd_c0,i.Float32x4.swizzle(e.simd_c3,0,0,0,0)),i.Float32x4.mul(t.simd_c1,i.Float32x4.swizzle(e.simd_c3,1,1,1,1))),i.Float32x4.add(i.Float32x4.mul(t.simd_c2,i.Float32x4.swizzle(e.simd_c3,2,2,2,2)),i.Float32x4.mul(t.simd_c3,i.Float32x4.swizzle(e.simd_c3,3,3,3,3))));t.simd_c0=a,t.simd_c1=o,t.simd_c2=r,t.simd_c3=n,x.simd.store(t)},x.prototype.multiplied=function(t){var e=this.clone();return e.multiply(t),e},x.prototype.transposeMultiply=function(t){var e=this.storage[0],a=this.storage[1],o=this.storage[2],r=this.storage[3],n=this.storage[4],s=this.storage[5],i=this.storage[6],x=this.storage[7],c=this.storage[8],h=this.storage[9],l=this.storage[10],g=this.storage[11],u=this.storage[12],d=this.storage[13],m=this.storage[14],L=this.storage[15],I=t.storage;return this.storage[0]=e*I[0]+a*I[1]+o*I[2]+r*I[3],this.storage[4]=e*I[4]+a*I[5]+o*I[6]+r*I[7],this.storage[8]=e*I[8]+a*I[9]+o*I[10]+r*I[11],this.storage[12]=e*I[12]+a*I[13]+o*I[14]+r*I[15],this.storage[1]=n*I[0]+s*I[1]+i*I[2]+x*I[3],this.storage[5]=n*I[4]+s*I[5]+i*I[6]+x*I[7],this.storage[9]=n*I[8]+s*I[9]+i*I[10]+x*I[11],this.storage[13]=n*I[12]+s*I[13]+i*I[14]+x*I[15],this.storage[2]=c*I[0]+h*I[1]+l*I[2]+g*I[3],this.storage[6]=c*I[4]+h*I[5]+l*I[6]+g*I[7],this.storage[10]=c*I[8]+h*I[9]+l*I[10]+g*I[11],this.storage[14]=c*I[12]+h*I[13]+l*I[14]+g*I[15],this.storage[3]=u*I[0]+d*I[1]+m*I[2]+L*I[3],this.storage[7]=u*I[4]+d*I[5]+m*I[6]+L*I[7],this.storage[11]=u*I[8]+d*I[9]+m*I[10]+L*I[11],this.storage[15]=u*I[12]+d*I[13]+m*I[14]+L*I[15],this},x.prototype.multiplyTranspose=function(t){var e=this.storage[0],a=this.storage[4],o=this.storage[8],r=this.storage[12],n=this.storage[1],s=this.storage[5],i=this.storage[9],x=this.storage[13],c=this.storage[2],h=this.storage[6],l=this.storage[10],g=this.storage[14],u=this.storage[3],d=this.storage[7],m=this.storage[11],L=this.storage[15],I=t.storage;return this.storage[0]=e*I[0]+a*I[4]+o*I[8]+r*I[12],this.storage[4]=e*I[1]+a*I[5]+o*I[9]+r*I[13],this.storage[8]=e*I[2]+a*I[6]+o*I[10]+r*I[14],this.storage[12]=e*I[3]+a*I[7]+o*I[11]+r*I[15],this.storage[1]=n*I[0]+s*I[4]+i*I[8]+x*I[12],this.storage[5]=n*I[1]+s*I[5]+i*I[9]+x*I[13],this.storage[9]=n*I[2]+s*I[6]+i*I[10]+x*I[14],this.storage[13]=n*I[3]+s*I[7]+i*I[11]+x*I[15],this.storage[2]=c*I[0]+h*I[4]+l*I[8]+g*I[12],this.storage[6]=c*I[1]+h*I[5]+l*I[9]+g*I[13],this.storage[10]=c*I[2]+h*I[6]+l*I[10]+g*I[14],this.storage[14]=c*I[3]+h*I[7]+l*I[11]+g*I[15],this.storage[3]=u*I[0]+d*I[4]+m*I[8]+L*I[12],this.storage[7]=u*I[1]+d*I[5]+m*I[9]+L*I[13],this.storage[11]=u*I[2]+d*I[6]+m*I[10]+L*I[14],this.storage[15]=u*I[3]+d*I[7]+m*I[11]+L*I[15],this},x.prototype.decompose=function(t,e,a){var o=r.zero(),n=o.setValues(this.storage[0],this.storage[1],this.storage[2]).length,s=o.setValues(this.storage[4],this.storage[5],this.storage[6]).length,i=o.setValues(this.storage[8],this.storage[9],this.storage[10]).length;this.determinant()<0&&(n=-n),t.storage[0]=this.storage[12],t.storage[1]=this.storage[13],t.storage[2]=this.storage[14];var c=1/n,h=1/s,l=1/i,g=x.copy(this);g.storage[0]*=c,g.storage[1]*=c,g.storage[2]*=c,g.storage[4]*=h,g.storage[5]*=h,g.storage[6]*=h,g.storage[8]*=l,g.storage[9]*=l,g.storage[10]*=l,e.setFromRotation(g.getRotation()),a.storage[0]=n,a.storage[1]=s,a.storage[2]=i},x.prototype.rotate3=function(t){var e=t.storage,a=this.storage[0]*e[0]+this.storage[4]*e[1]+this.storage[8]*e[2],o=this.storage[1]*e[0]+this.storage[5]*e[1]+this.storage[9]*e[2],r=this.storage[2]*e[0]+this.storage[6]*e[1]+this.storage[10]*e[2];return e[0]=a,e[1]=o,e[2]=r,t},x.prototype.rotated3=function(t){var e=r.copy(t);return this.rotate3(e)},x.prototype.transform3=function(t){var e=t.storage,a=this.storage[0]*e[0]+this.storage[4]*e[1]+this.storage[8]*e[2]+this.storage[12],o=this.storage[1]*e[0]+this.storage[5]*e[1]+this.storage[9]*e[2]+this.storage[13],r=this.storage[2]*e[0]+this.storage[6]*e[1]+this.storage[10]*e[2]+this.storage[14];return e[0]=a,e[1]=o,e[2]=r,t},x.prototype.transformed3=function(t){var e=r.copy(t);return this.transform3(e)},x.prototype.transform=function(t){var e=t.storage,a=this.storage[0]*e[0]+this.storage[4]*e[1]+this.storage[8]*e[2]+this.storage[12]*e[3],o=this.storage[1]*e[0]+this.storage[5]*e[1]+this.storage[9]*e[2]+this.storage[13]*e[3],r=this.storage[2]*e[0]+this.storage[6]*e[1]+this.storage[10]*e[2]+this.storage[14]*e[3],n=this.storage[3]*e[0]+this.storage[7]*e[1]+this.storage[11]*e[2]+this.storage[15]*e[3];return e[0]=a,e[1]=o,e[2]=r,e[3]=n,t},x.prototype.perspectiveTransform=function(t){var e=t.storage,a=this.storage[0]*e[0]+this.storage[4]*e[1]+this.storage[8]*e[2]+this.storage[12],o=this.storage[1]*e[0]+this.storage[5]*e[1]+this.storage[9]*e[2]+this.storage[13],r=this.storage[2]*e[0]+this.storage[6]*e[1]+this.storage[10]*e[2]+this.storage[14],n=1/(this.storage[3]*e[0]+this.storage[7]*e[1]+this.storage[11]*e[2]+this.storage[15]);return e[0]=a*n,e[1]=o*n,e[2]=r*n,t},x.prototype.transformed=function(t){var e=n.copy(t);return this.transform(e)},x.prototype.copyIntoArray=function(t,e){var a=e;void 0===e&&(a=0),t[a+15]=this.storage[15],t[a+14]=this.storage[14],t[a+13]=this.storage[13],t[a+12]=this.storage[12],t[a+11]=this.storage[11],t[a+10]=this.storage[10],t[a+9]=this.storage[9],t[a+8]=this.storage[8],t[a+7]=this.storage[7],t[a+6]=this.storage[6],t[a+5]=this.storage[5],t[a+4]=this.storage[4],t[a+3]=this.storage[3],t[a+2]=this.storage[2],t[a+1]=this.storage[1],t[a+0]=this.storage[0]},x.prototype.copyFromArray=function(t,e){var a=e;void 0===e&&(a=0),this.storage[15]=t[a+15],this.storage[14]=t[a+14],this.storage[13]=t[a+13],this.storage[12]=t[a+12],this.storage[11]=t[a+11],this.storage[10]=t[a+10],this.storage[9]=t[a+9],this.storage[8]=t[a+8],this.storage[7]=t[a+7],this.storage[6]=t[a+6],this.storage[5]=t[a+5],this.storage[4]=t[a+4],this.storage[3]=t[a+3],this.storage[2]=t[a+2],this.storage[1]=t[a+1],this.storage[0]=t[a+0]}},{"./common.js":10,"./matrix3.js":12,"./quaternion.js":16,"./vector3.js":21,"./vector4.js":22,simd:6}],14:[function(t,e,a){e.exports=r;var o=t("./vector3.js");function r(){this.normal=o.zero(),this.constant=0}r.intersection=function(t,e,a,o){var r=e.normal.cross(a.normal),n=-t.normal.dot(r),s=r.scaled(t.constant),i=(r=a.normal.cross(t.normal)).scaled(e.constant),x=(r=t.normal.cross(e.normal)).scaled(a.constant);o.x=(s.x+i.x+x.x)/n,o.y=(s.y+i.y+x.y)/n,o.z=(s.z+i.z+x.z)/n},r.copy=function(t){var e=new r;return e.constant=t.constant,e.normal.setFrom(t.normal),e},r.components=function(t,e,a,o){var n=new r;return n.setFromComponents(t,e,a,o),n},r.normalconstant=function(t,e){var a=new r;return a.normal.setFrom(t),a.constant=e,a},r.prototype.copyFrom=function(t){this.normal.setFrom(t.normal),this.constant=t.constant},r.prototype.setFromComponents=function(t,e,a,o){this.normal.setValues(t,e,a),this.constant=o},r.prototype.normalize=function(){var t=1/this.normal.length;this.normal.scale(t),this.constant=this.constant*t},r.prototype.distanceToVector3=function(t){return this.normal.dot(t)+this.constant}},{"./vector3.js":21}],15:[function(t,e,a){e.exports=r;var o=t("./vector3.js");t("./triangle.js");function r(){this.point0=o.zero(),this.point1=o.zero(),this.point2=o.zero(),this.point3=o.zero()}r.copy=function(t){var e=new r;return e.point0.setFrom(t.point0),e.point1.setFrom(t.point1),e.point2.setFrom(t.point2),e.point3.setFrom(t.point3),e},r.points=function(t,e,a,o){var n=new r;return n.point0.setFrom(t),n.point1.setFrom(e),n.point2.setFrom(a),n.point3.setFrom(o),n},r.prototype.copyFrom=function(t){this.point0.setFrom(t.point0),this.point1.setFrom(t.point1),this.point2.setFrom(t.point2),this.point3.setFrom(t.point3)},r.prototype.copyNormalInto=function(t){var e=this.point0.clone().sub(this.point1);t.setFrom(this.point2),t.sub(this.point1);var a=t.cross(e);a.normalize(),t.setFrom(a)},r.prototype.copyTriangles=function(t,e){t.point0.setFrom(this.point0),t.point1.setFrom(this.point1),t.point2.setFrom(this.point2),e.point0.setFrom(this.point0),e.point1.setFrom(this.point3),e.point2.setFrom(this.point2)},r.prototype.transform=function(t){t.transform3(this.point0),t.transform3(this.point1),t.transform3(this.point2),t.transform3(this.point3)},r.prototype.translate=function(t){this.point0.add(t),this.point1.add(t),this.point2.add(t),this.point3.add(t)}},{"./triangle.js":19,"./vector3.js":21}],16:[function(t,e,a){e.exports=n;var o=t("./matrix3.js"),r=t("./vector3.js");function n(t,e,a,o){this.storage=new Float32Array([t,e,a,o])}n.prototype.__defineGetter__("x",function(){return this.storage[0]}),n.prototype.__defineSetter__("x",function(t){this.storage[0]=t}),n.prototype.__defineGetter__("y",function(){return this.storage[1]}),n.prototype.__defineSetter__("y",function(t){this.storage[1]=t}),n.prototype.__defineGetter__("z",function(){return this.storage[2]}),n.prototype.__defineSetter__("z",function(t){this.storage[2]=t}),n.prototype.__defineGetter__("w",function(){return this.storage[3]}),n.prototype.__defineSetter__("w",function(t){this.storage[3]=t}),n.zero=function(){return new n(0,0,0,0)},n.fromRotation=function(t){var e=n.zero();return e.setFromRotation(t),e},n.axisAngle=function(t,e){var a=n.zero();return a.setAxisAngle(t,e),a},n.copy=function(t){var e=n.zero();return e.setFrom(t),e},n.random=function(){var t=n.zero();return t.setRandom(),t},n.identity=function(){var t=n.zero();return t.storage[3]=1,t},n.dq=function(t,e){var a=n.zero();return a.setDQ(a,e),a},n.euler=function(t,e,a){var o=n.zero();return o.setEuler(t,e,a),o},n.fromFloat32Array=function(t){var e=n.zero();return e.storage=t,e},n.fromBuffer=function(t,e){var a=n.zero();return a.storage=new Float32Array(t,e,4),a},n.prototype.clone=function(){return n.copy(this)},n.prototype.setFrom=function(t){var e=t.storage;this.storage[0]=e[0],this.storage[1]=e[1],this.storage[2]=e[2],this.storage[3]=e[3]},n.prototype.setValues=function(t,e,a,o){this.storage[0]=t,this.storage[1]=e,this.storage[2]=a,this.storage[3]=o},n.prototype.setAxisAngle=function(t,e){var a=t.length;if(0!=a){var o=Math.sin(.5*e)/a,r=t.storage;this.storage[0]=r[0]*o,this.storage[1]=r[1]*o,this.storage[2]=r[2]*o,this.storage[3]=Math.cos(.5*e)}},n.prototype.setFromRotation=function(t){var e=t.storage,a=t.trace(),o=Math.sqrt(a+1);if(a>0)this.storage[3]=.5*o,o=.5/o,this.storage[0]=(e[5]-e[7])*o,this.storage[1]=(e[6]-e[2])*o,this.storage[2]=(e[1]-e[3])*o;else{var r=e[0]<e[4]?e[4]<e[8]?2:1:e[0]<e[8]?2:0,n=(r+1)%3,s=(r+2)%3;o=Math.sqrt(e[t.index(r,r)]-e[t.index(n,n)]-e[t.index(s,s)]+1),this.storage[r]=.5*o,o=.5/o,this.storage[3]=(e[t.index(s,n)]-e[t.index(n,s)])*o,this.storage[n]=(e[t.index(n,r)]+e[t.index(r,n)])*o,this.storage[s]=(e[t.index(s,r)]+e[t.index(r,s)])*o}},n.prototype.setRandom=function(){var t=Math.random(),e=Math.sqrt(1-t),a=Math.sqrt(t),o=2*Math.PI*Math.random(),r=2*Math.PI*Math.random(),n=Math.cos(o),s=Math.sin(o),i=Math.cos(r),x=Math.sin(r);this.storage[0]=s*e,this.storage[1]=n*e,this.storage[2]=x*a,this.storage[3]=i*a},n.prototype.setDQ=function(t,e){var a=t.storage,o=e.storage,r=a[0],n=a[1],s=a[2],i=a[3],x=o[0],c=o[1],h=o[2],l=x*i+c*s-h*n,g=c*i+h*r-x*s,u=h*i+x*n-c*r,d=-x*r-c*n-h*s;this.storage[0]=.5*l,this.storage[1]=.5*g,this.storage[2]=.5*u,this.storage[3]=.5*d},n.prototype.setEuler=function(t,e,a){var o=.5*t,r=.5*e,n=.5*a,s=Math.cos(o),i=Math.sin(o),x=Math.cos(r),c=Math.sin(r),h=Math.cos(n),l=Math.sin(n);this.storage[0]=h*c*s+l*x*i,this.storage[1]=h*x*i-l*c*s,this.storage[2]=l*x*s-h*c*i,this.storage[3]=h*x*s+l*c*i},n.prototype.normalize=function(){var t=this.length;return 0==t?this:(t=1/t,this.storage[3]=this.storage[3]*t,this.storage[2]=this.storage[2]*t,this.storage[1]=this.storage[1]*t,this.storage[0]=this.storage[0]*t,this)},n.prototype.conjugate=function(){return this.storage[2]=-this.storage[2],this.storage[1]=-this.storage[1],this.storage[0]=-this.storage[0],this},n.prototype.inverse=function(){var t=1/this.length2;return this.storage[3]=this.storage[3]*t,this.storage[2]=-this.storage[2]*t,this.storage[1]=-this.storage[1]*t,this.storage[0]=-this.storage[0]*t,this},n.prototype.normalized=function(){var t=this.clone();return t.normalize(),t},n.prototype.conjugated=function(){var t=this.clone();return t.conjugate(),t},n.prototype.inverted=function(){var t=this.clone();return t.inverse(),t},n.prototype.__defineGetter__("radians",function(){return 2*Math.acos(this.storage[3])}),n.prototype.__defineGetter__("axis",function(){var t=1/(1-this.storage[3]*this.storage[3]);return new r(this.storage[0]*t,this.storage[1]*t,this.storage[2]*t)}),n.prototype.__defineGetter__("length2",function(){var t=this.storage[0],e=this.storage[1],a=this.storage[2],o=this.storage[3];return t*t+e*e+a*a+o*o}),n.prototype.__defineGetter__("length",function(){return Math.sqrt(this.length2)}),n.prototype.rotated=function(t){var e=t.clone();return this.rotate(e),e},n.prototype.rotate=function(t){var e=this.storage[3],a=this.storage[2],o=this.storage[1],r=this.storage[0],n=e,s=-a,i=-o,x=-r,c=n*t.x+0*x+i*t.z-s*t.y,h=n*t.y+0*i+s*t.x-x*t.z,l=n*t.z+0*s+x*t.y-i*t.x,g=0*n-x*t.x-i*t.y-s*t.z,u=g*r+c*e+h*a-l*o,d=g*o+h*e+l*r-c*a,m=g*a+l*e+c*o-h*r,L=t.storage;return L[2]=m,L[1]=d,L[0]=u,t},n.prototype.add=function(t){var e=t.storage;this.storage[0]=this.storage[0]+e[0],this.storage[1]=this.storage[1]+e[1],this.storage[2]=this.storage[2]+e[2],this.storage[3]=this.storage[3]+e[3]},n.prototype.sub=function(t){var e=t.storage;this.storage[0]=this.storage[0]-e[0],this.storage[1]=this.storage[1]-e[1],this.storage[2]=this.storage[2]-e[2],this.storage[3]=this.storage[3]-e[3]},n.prototype.scale=function(t){this.storage[3]=this.storage[3]*t,this.storage[2]=this.storage[2]*t,this.storage[1]=this.storage[1]*t,this.storage[0]=this.storage[0]*t},n.prototype.scaled=function(t){var e=this.clone();return e.scale(t),e},n.prototype.mult=function(t){var e=this.storage[3],a=this.storage[2],o=this.storage[1],r=this.storage[0],s=t.storage,i=s[3],x=s[2],c=s[1],h=s[0];return new n(e*h+r*i+o*x-a*c,e*c+o*i+a*h-r*x,e*x+a*i+r*c-o*h,e*i-r*h-o*c-a*x)},n.prototype.equals=function(t){return this.storage[0]==t.storage[0]&&this.storage[1]==t.storage[1]&&this.storage[2]==t.storage[2]&&this.storage[3]==t.storage[3]},n.prototype.almostEquals=function(t,e){return void 0===e&&(e=Number.EPSILON),!(Math.abs(this.x-t.x)>e||Math.abs(this.y-t.y)>e||Math.abs(this.z-t.z)>e||Math.abs(this.w-t.w)>e)},n.prototype.added=function(t){var e=this.clone();return e.add(t),e},n.prototype.subbed=function(t){var e=this.clone();return e.sub(t),e},n.prototype.negated=function(){return this.conjugated()},n.prototype.getAt=function(t){return this.storage[t]},n.prototype.setAt=function(t,e){this.storage[t]=e},n.prototype.asRotationMatrix=function(){return this.copyRotationInto(o.zero())},n.prototype.copyRotationInto=function(t){var e=this.length2;if(0==e)return null;var a=2/e,o=this.storage[0],r=this.storage[1],n=this.storage[2],s=this.storage[3],i=o*a,x=r*a,c=n*a,h=s*i,l=s*x,g=s*c,u=o*i,d=o*x,m=o*c,L=r*x,I=r*c,f=n*c,p=t.storage;return p[0]=1-(L+f),p[1]=d+g,p[2]=m-l,p[3]=d-g,p[4]=1-(u+f),p[5]=I+h,p[6]=m+l,p[7]=I-h,p[8]=1-(u+L),t},n.prototype.toString=function(){return this.storage[0].toString()+", "+this.storage[1].toString()+", "+this.storage[2].toString()+", "+this.storage[3].toString()},n.prototype.relativeError=function(t){return t.subbed(this).length/t.length},n.prototype.absoluteError=function(t){var e=this.length,a=t.length;return Math.abs(e-a)}},{"./matrix3.js":12,"./vector3.js":21}],17:[function(t,e,a){e.exports=r;var o=t("./vector3.js");t("./aabb3.js");function r(){this.origin=o.zero(),this.direction=o.zero()}r.copy=function(t){var e=new r;return e.origin.setFrom(t.origin),e.direction.setFrom(t.direction),e},r.originDirection=function(t,e){var a=new r;return a.origin.setFrom(t),a.direction.setFrom(e),a},r.prototype.copyFrom=function(t){this.origin.setFrom(t.origin),this.direction.setFrom(t.direction)},r.prototype.at=function(t){var e=this.direction.scaled(t);return e.add(this.origin),e},r.prototype.copyAt=function(t,e){t.setFrom(this.direction),t.scale(e),t.add(this.origin)},r.prototype.intersectsWithSphere=function(t){var e=t.radius,a=e*e,o=t.center.clone();o.sub(this.origin);var r=o.dot(this.direction),n=o.dot(o);if(r<0&&n>a)return null;var s=n-r*r;if(s>a)return null;var i=Math.sqrt(a-s);return n>a?r-i:r+i};var n=o.zero(),s=o.zero(),i=o.zero(),x=o.zero(),c=o.zero();r.prototype.intersectsWithTriangle=function(t){var e=t.point0,a=t.point1,o=t.point2;n.setFrom(a),n.sub(e),s.setFrom(o),s.sub(e),i=this.direction.cross(s);var r=n.dot(i);if(r>-1e-5&&r<1e-5)return null;var h=1/r;x.setFrom(this.origin),x.sub(e);var l=h*x.dot(i);if(l<0)return null;c=x.cross(n);var g=h*this.direction.dot(c);return g<-1e-5||l+g>1+1e-5?null:h*s.dot(c)},r.prototype.intersectsWithQuad=function(t){var e=1e-5,a=t.point0,o=t.point1,r=t.point2;n.setFrom(o),n.sub(a),s.setFrom(r),s.sub(a),i=this.direction.crossInto(s);var h=n.dot(i);if(!(h>-e&&h<e)){var l=1/h;x.setFrom(this.origin),x.sub(a);var g=l*x.dot(i);if(g>=0){c=x.cross(n);var u=l*this.direction.dot(c);if(!(u<-e||g+u>1+e)){var d=l*s.dot(c);return d}}}a=t.point3,o=t.point0,r=t.point2,n.setFrom(o),n.sub(a),s.setFrom(r),s.sub(a),i=this.direction.cross(s);var m=n.dot(i);return m>-e&&m<e||(l=1/m,x.setFrom(this.origin),x.sub(a),!((g=l*x.dot(i))>=0)||(c=x.cross(n),(u=l*this.direction.dot(c))<-e||g+u>1+e))?null:d=l*s.dot(c)},r.prototype.intersectsWithAabb3=function(t){for(var e=t.min,a=t.max,o=-Number.MAX_VALUE,r=Number.MAX_VALUE,n=0;n<3;++n)if(0==this.direction.storage[n]){if(this.origin.storage[n]<e.storage[n]||this.origin.storage[n]>a.storage[n])return null}else{var s=(e.storage[n]-this.origin.storage[n])/this.direction.storage[n],i=(a.storage[n]-this.origin.storage[n])/this.direction.storage[n];if(s>i){var x=s;s=i,i=x}if(s>o&&(o=s),i<r&&(r=i),o>r||r<0)return null}return o}},{"./aabb3.js":9,"./vector3.js":21}],18:[function(t,e,a){e.exports=r;var o=t("./vector3.js");function r(){this.center=o.zero(),this.radius=0}r.copy=function(t){var e=new r;return e.center.setFrom(t.center),e.radius=t.radius,e},r.centerRadius=function(t,e){var a=new r;return a.center.setFrom(t),a.radius=e,a},r.prototype.copyFrom=function(t){this.center.setFrom(t.center),this.radius=t.radius},r.prototype.containsVector3=function(t){return t.distanceToSquared(this.center)<this.radius*this.radius},r.prototype.intersectsWithVector3=function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},r.prototype.intersectsWithSphere=function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{"./vector3.js":21}],19:[function(t,e,a){e.exports=r;var o=t("./vector3.js");function r(){this.point0=o.zero(),this.point1=o.zero(),this.point2=o.zero()}r.copy=function(t){var e=new r;return e.point0.setFrom(t.point0),e.point1.setFrom(t.point1),e.point2.setFrom(t.point2),e},r.points=function(t,e,a){var o=new r;return o.point0.setFrom(t),o.point1.setFrom(e),o.point2.setFrom(a),o},r.prototype.copyFrom=function(t){this.point0.setFrom(t.point0),this.point1.setFrom(t.point1),this.point2.setFrom(t.point2)},r.prototype.copyNormalInto=function(t){var e=this.point0.clone().sub(this.point1);t.setFrom(this.point2),t.sub(this.point1);var a=t.cross(e);a.normalize(),t.setFrom(a)},r.prototype.transform=function(t){t.transform3(this.point0),t.transform3(this.point1),t.transform3(this.point2)},r.prototype.translate=function(t){this.point0.add(t),this.point1.add(t),this.point2.add(t)}},{"./vector3.js":21}],20:[function(t,e,a){e.exports=n;var o=t("./common.js"),r=t("simd");function n(t,e){this.storage=new Float32Array([t,e]),this.simd_storage=null}n.simd={},n.scalar={},n.simd.load=function(t){t.simd_storage=r.Float32x4.load2(t.storage,0)},n.simd.store=function(t){r.Float32x4.store2(t.storage,0,t.simd_storage)},n.prototype.__defineGetter__("x",function(){return this.storage[0]}),n.prototype.__defineSetter__("x",function(t){this.storage[0]=t}),n.prototype.__defineGetter__("y",function(){return this.storage[1]}),n.prototype.__defineSetter__("y",function(t){this.storage[1]=t}),n.prototype.__defineGetter__("length",function(){return Math.sqrt(this.length2())}),n.prototype.__defineSetter__("length",function(t){o.USE_SIMD()?n.simd._setter_length(this,t):n.scalar._setter_length(this,t)}),n.scalar._setter_length=function(t,e){if(0==e)t.setZero();else{var a=this.length;if(0==a)return;a=e/a,t.storage[0]*=a,t.storage[1]*=a}},n.simd._setter_length=function(t,e){if(0==e)t.setZero();else{var a=t.length;if(0==a)return;a=e/a,n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,r.Float32x4(a,a,0,0)),n.simd.store(t)}},n.zero=function(){return new n(0,0)},n.prototype.setZero=function(){return this.storage[0]=0,this.storage[1]=0,this},n.fromFloat32Array=function(t){var e=n.zero();return e.storage=t,e},n.fromBuffer=function(t,e){var a=n.zero();return a.storage=new Float32Array(t,e,3),a.clone()},n.prototype.setValues=function(t,e){return this.storage[0]=t,this.storage[1]=e,this},n.copy=function(t){return new n(t.x,t.y)},n.all=function(t){var e=n.zero();return e.splat(t),e},n.min=function(t,e,a){o.USE_SIMD()?n.simd.min(t,e,a):n.scalar.min(t,e,a)},n.scalar.min=function(t,e,a){a.storage[0]=Math.min(t.x,e.x),a.storage[1]=Math.min(t.y,e.y)},n.simd.min=function(t,e,a){n.simd.load(t),n.simd.load(e),a.simd_storage=r.Float32x4.min(t.simd_storage,e.simd_storage),n.simd.store(a)},n.max=function(t,e,a){o.USE_SIMD()?n.simd.max(t,e,a):n.scalar.max(t,e,a)},n.scalar.max=function(t,e,a){a.x=Math.max(t.x,e.x),a.y=Math.max(t.y,e.y),a.z=Math.max(t.z,e.z)},n.simd.max=function(t,e,a){n.simd.load(t),n.simd.load(e),a.simd_storage=r.Float32x4.max(t.simd_storage,e.simd_storage),n.simd.store(a)},n.mix=function(t,e,a,r){o.USE_SIMD()?n.simd.mix(t,e,a,r):n.scalar.mix(t,e,a,r)},n.scalar.mix=function(t,e,a,o){o.x=t.x+a*(e.x-t.x),o.y=t.y+a*(e.y-t.y)},n.simd.mix=function(t,e,a,o){n.simd.load(t),n.simd.load(e);var s=r.Float32x4.sub(e.simd_storage,t.simd_storage),i=r.Float32x4.mul(s,r.Float32x4(a,a,a,a));o.simd_storage=r.Float32x4.add(t.simd_storage,i),n.simd.store(o)},n.prototype.clone=function(){return n.copy(this)},n.prototype.setFrom=function(t){return this.storage[0]=t.storage[0],this.storage[1]=t.storage[1],this},n.prototype.splat=function(t){return o.USE_SIMD()?n.simd.splat(this,t):n.scalar.splat(this,t),this},n.scalar.splat=function(t,e){t.storage[0]=e,t.storage[1]=e},n.simd.splat=function(t,e){n.simd.load(t),t.simd_storage=r.Float32x4.splat(e),n.simd.store(t)},n.prototype.almostEquals=function(t,e){return void 0===e&&(e=o.EPSILON),o.USE_SIMD()?n.simd.almostEquals(this,t,e):n.scalar.almostEquals(this,t,e)},n.scalar.almostEquals=function(t,e,a){return!(Math.abs(this.x-e.x)>a||Math.abs(this.y-e.y)>a)},n.simd.almostEquals=function(t,e,a){return n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.sub(t.simd_storage,e.simd_storage),t.simd_storage=r.Float32x4.abs(t.simd_storage),t.simd_storage=r.Float32x4.greaterThan(t.simd_storage,r.Float32x4(a,a,a,a)),!r.Bool32x4.extractLane(t.simd_storage,0)&&!r.Bool32x4.extractLane(t.simd_storage,1)},n.prototype.equals=function(t){return this.x==t.x&&this.y==t.y},n.prototype.almostZero=function(t){return void 0===t&&(t=Number.EPSILON),!(Math.abs(this.x)>t||Math.abs(this.y)>t)},n.prototype.isZero=function(){return 0==this.x&&0==this.y},n.prototype.negate=function(){return o.USE_SIMD()?n.simd.negate(this):n.scalar.negate(this),this},n.scalar.negate=function(t){t.storage[0]=-t.storage[0],t.storage[1]=-t.storage[1]},n.simd.negate=function(t){n.simd.load(t),t.simd_storage=r.Float32x4.neg(t.simd_storage),n.simd.store(t)},n.prototype.sub=function(t){return o.USE_SIMD()?n.simd.sub(this,t):n.scalar.sub(this,t),this},n.scalar.sub=function(t,e){t.storage[0]=t.storage[0]-e.storage[0],t.storage[1]=t.storage[1]-e.storage[1]},n.simd.sub=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.sub(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.add=function(t){return o.USE_SIMD()?n.simd.add(this,t):n.scalar.add(this,t),this},n.scalar.add=function(t,e){t.storage[0]=t.storage[0]+e.storage[0],t.storage[1]=t.storage[1]+e.storage[1]},n.simd.add=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.add(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.mul=function(t){return o.USE_SIMD()?n.simd.mul(this,t):n.scalar.mul(this,t),this},n.scalar.mul=function(t,e){t.storage[0]=t.storage[0]+e.storage[0],t.storage[1]=t.storage[1]+e.storage[1]},n.simd.mul=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.mul(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.div=function(t){return o.USE_SIMD()?n.simd.div(this,t):n.scalar.div(this,t),this},n.scalar.div=function(t,e){t.storage[0]=t.storage[0]/e.storage[0],t.storage[1]=t.storage[1]/e.storage[1]},n.simd.div=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.div(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.scale=function(t){return o.USE_SIMD()?n.simd.scale(this,t):n.scalar.scale(this,t),this},n.scalar.scale=function(t,e){t.storage[0]=t.storage[0]*e,t.storage[1]=t.storage[1]*e},n.simd.scale=function(t,e){n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,r.Float32x4(e,e,e,e)),n.simd.store(t)},n.prototype.scaled=function(t){var e=this.clone();return e.scale(t),e},n.prototype.reflect=function(t){var e=t.clone();return e.scale(2*t.dot(this)),this.sub(e),this},n.prototype.dot=function(t){return o.USE_SIMD()?n.simd.dot(this,t):n.scalar.dot(this,t)},n.scalar.dot=function(t,e){return t.storage[0]*e.storage[0]+t.storage[1]*e.storage[1]},n.simd.dot=function(t,e){return n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.mul(t.simd_storage,e.simd_storage),r.Float32x4.extractLane(t.simd_storage,0)+r.Float32x4.extractLane(t.simd_storage,1)},n.prototype.cross=function(t){return this.storage[0]*t.storage[1]-this.storage[1]*t.storage[0]},n.prototype.absolute=function(){o.USE_SIMD()?n.simd.absolute(this):n.scalar.absolute(this)},n.scalar.absolute=function(t){t.storage[0]=Math.abs(t.storage[0]),t.storage[1]=Math.abs(t.storage[1])},n.simd.absolute=function(t){n.simd.load(t),t.simd_storage=r.Float32x4.abs(t.simd_storage),n.store(t)},n.prototype.clamp=function(t,e){return o.USE_SIMD()?n.simd.clamp(this,t,e):n.scalar.clamp(this,t,e),this},n.scalar.clamp=function(t,e,a){var o=e.storage,r=a.storage;t.storage[0]=Math.min(Math.max(t.storage[0],o[0]),r[0]),t.storage[1]=Math.min(Math.max(t.storage[1],o[1]),r[1])},n.simd.clamp=function(t,e,a){n.simd.load(t),n.simd.load(e),n.simd.load(a);var o=r.Float32x4.max(t.simd_storage,e.simd_storage);t.simd_storage=r.Float32x4.min(o,a.simd_storage),n.simd.store(t)},n.prototype.clampScalar=function(t,e){return o.USE_SIMD()?n.simd.clampScalar(this,t,e):n.scalar.clampScalar(this,t,e),this},n.scalar.clampScalar=function(t,e,a){t.storage[0]=Math.min(Math.max(t.storage[0],e),a),t.storage[1]=Math.min(Math.max(t.storage[1],e),a),t.storage[2]=Math.min(Math.max(t.storage[2],e),a)},n.simd.clampScalar=function(t,e,a){n.simd.load(t);var o=r.Float32x4.max(t.simd_storage,r.Float32x4(e,e,e,e));t.simd_storage=r.Float32x4.min(o,r.Float32x4(a,a,a,a)),n.simd.store(t)},n.prototype.isNaN=function(){var t=!1;return t=(t=t||this.storage[0].isNaN)||this.storage[1].isNaN},n.prototype.isInfinite=function(){var t=!1;return t=(t=t||this.storage[0].isInfinite())||this.storage[1].isInfinite()},n.prototype.toString=function(){return"[x="+this.storage[0]+", y="+this.storage[1]+"]"},n.prototype.length2=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){return o.USE_SIMD()?n.simd.normalize(this):n.scalar.normalize(this),this},n.scalar.normalize=function(t){var e=t.length;0!=e&&(e=1/e,t.storage[0]*=e,t.storage[1]*=e)},n.simd.normalize=function(t){var e=t.length;0!=e&&(e=1/e,n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,r.Float32x4(e,e,e,e)),n.simd.store(t))},n.prototype.normalized=function(){return this.clone().normalize()},n.prototype.distanceToSquared=function(t){var e=this.x-t.x,a=this.y-t.y;return e*e+a*a},n.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},n.prototype.floor=function(){return this.storage[0]=Math.floor(this.x),this.storage[1]=Math.floor(this.y),this},n.prototype.ceil=function(){return this.storage[0]=Math.ceil(this.x),this.storage[1]=Math.ceil(this.y),this},n.prototype.round=function(){return this.storage[0]=Math.round(this.x),this.storage[1]=Math.round(this.y),this},n.prototype.roundToZero=function(){return this.storage[0]=this.storage[0]<0?Math.ceil(this.storage[0]):Math.floor(this.storage[0]),this.storage[1]=this.storage[1]<0?Math.ceil(this.storage[1]):Math.floor(this.storage[1]),this}},{"./common.js":10,simd:6}],21:[function(t,e,a){e.exports=n;t("./matrix3.js"),t("./matrix4.js");var o=t("./common.js"),r=t("simd");function n(t,e,a){this.storage=new Float32Array([t,e,a]),this.simd_storage=null}n.simd={},n.scalar={},n.simd.load=function(t){t.simd_storage=r.Float32x4.load3(t.storage,0)},n.simd.store=function(t){r.Float32x4.store3(t.storage,0,t.simd_storage)},n.prototype.__defineGetter__("x",function(){return this.storage[0]}),n.prototype.__defineSetter__("x",function(t){this.storage[0]=t}),n.prototype.__defineGetter__("y",function(){return this.storage[1]}),n.prototype.__defineSetter__("y",function(t){this.storage[1]=t}),n.prototype.__defineGetter__("z",function(){return this.storage[2]}),n.prototype.__defineSetter__("z",function(t){this.storage[2]=t}),n.prototype.__defineGetter__("length",function(){return Math.sqrt(this.length2())}),n.prototype.__defineSetter__("length",function(t){o.USE_SIMD()?n.simd._setter_length(this,t):n.scalar._setter_length(this,t)}),n.scalar._setter_length=function(t,e){if(0==e)t.setZero();else{var a=this.length;if(0==a)return;a=e/a,t.storage[0]*=a,t.storage[1]*=a,t.storage[2]*=a}},n.simd._setter_length=function(t,e){if(0==e)t.setZero();else{var a=t.length;if(0==a)return;a=e/a,n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,r.Float32x4(a,a,a,0)),n.simd.store(t)}},n.zero=function(){return new n(0,0,0)},n.prototype.setZero=function(){return this.storage[0]=0,this.storage[1]=0,this.storage[2]=0,this},n.fromFloat32Array=function(t){var e=n.zero();return e.storage=t,e},n.fromBuffer=function(t,e){var a=n.zero();return a.storage=new Float32Array(t,e,3),a.clone()},n.prototype.setValues=function(t,e,a){return this.storage[0]=t,this.storage[1]=e,this.storage[2]=a,this},n.copy=function(t){return new n(t.x,t.y,t.z)},n.all=function(t){var e=n.zero();return e.splat(t),e},n.min=function(t,e,a){o.USE_SIMD()?n.simd.min(t,e,a):n.scalar.min(t,e,a)},n.scalar.min=function(t,e,a){a.storage[0]=Math.min(t.x,e.x),a.storage[1]=Math.min(t.y,e.y),a.storage[2]=Math.min(t.z,e.z)},n.simd.min=function(t,e,a){n.simd.load(t),n.simd.load(e),a.simd_storage=r.Float32x4.min(t.simd_storage,e.simd_storage),n.simd.store(a)},n.max=function(t,e,a){o.USE_SIMD()?n.simd.max(t,e,a):n.scalar.max(t,e,a)},n.scalar.max=function(t,e,a){a.x=Math.max(t.x,e.x),a.y=Math.max(t.y,e.y),a.z=Math.max(t.z,e.z)},n.simd.max=function(t,e,a){n.simd.load(t),n.simd.load(e),a.simd_storage=r.Float32x4.max(t.simd_storage,e.simd_storage),n.simd.store(a)},n.mix=function(t,e,a,r){o.USE_SIMD()?n.simd.mix(t,e,a,r):n.scalar.mix(t,e,a,r)},n.scalar.mix=function(t,e,a,o){o.x=t.x+a*(e.x-t.x),o.y=t.y+a*(e.y-t.y),o.z=t.z+a*(e.z-t.z)},n.simd.mix=function(t,e,a,o){n.simd.load(t),n.simd.load(e);var s=r.Float32x4.sub(e.simd_storage,t.simd_storage),i=r.Float32x4.mul(s,r.Float32x4(a,a,a,a));o.simd_storage=r.Float32x4.add(t.simd_storage,i),n.simd.store(o)},n.prototype.clone=function(){return n.copy(this)},n.prototype.setFrom=function(t){return this.storage[0]=t.storage[0],this.storage[1]=t.storage[1],this.storage[2]=t.storage[2],this},n.prototype.splat=function(t){return o.USE_SIMD()?n.simd.splat(this,t):n.scalar.splat(this,t),this},n.scalar.splat=function(t,e){t.storage[0]=e,t.storage[1]=e,t.storage[2]=e},n.simd.splat=function(t,e){n.simd.load(t),t.simd_storage=r.Float32x4.splat(e),n.simd.store(t)},n.prototype.almostEquals=function(t,e){return void 0===e&&(e=o.EPSILON),o.USE_SIMD()?n.simd.almostEquals(this,t,e):n.scalar.almostEquals(this,t,e)},n.scalar.almostEquals=function(t,e,a){return!(Math.abs(this.x-e.x)>a||Math.abs(this.y-e.y)>a||Math.abs(this.z-e.z)>a)},n.simd.almostEquals=function(t,e,a){return n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.sub(t.simd_storage,e.simd_storage),t.simd_storage=r.Float32x4.abs(t.simd_storage),t.simd_storage=r.Float32x4.greaterThan(t.simd_storage,r.Float32x4(a,a,a,a)),!(r.Bool32x4.extractLane(t.simd_storage,0)||r.Bool32x4.extractLane(t.simd_storage,1)||r.Bool32x4.extractLane(t.simd_storage,2))},n.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},n.prototype.almostZero=function(t){return void 0===t&&(t=Number.EPSILON),!(Math.abs(this.x)>t||Math.abs(this.y)>t||Math.abs(this.z)>t)},n.prototype.isZero=function(){return 0==this.x&&0==this.y&&0==this.z},n.prototype.negate=function(){return o.USE_SIMD()?n.simd.negate(this):n.scalar.negate(this),this},n.scalar.negate=function(t){t.storage[0]=-t.storage[0],t.storage[1]=-t.storage[1],t.storage[2]=-t.storage[2]},n.simd.negate=function(t){n.simd.load(t),t.simd_storage=r.Float32x4.neg(t.simd_storage),n.simd.store(t)},n.prototype.sub=function(t){return o.USE_SIMD()?n.simd.sub(this,t):n.scalar.sub(this,t),this},n.scalar.sub=function(t,e){t.storage[0]=t.storage[0]-e.storage[0],t.storage[1]=t.storage[1]-e.storage[1],t.storage[2]=t.storage[2]-e.storage[2]},n.simd.sub=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.sub(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.add=function(t){return o.USE_SIMD()?n.simd.add(this,t):n.scalar.add(this,t),this},n.scalar.add=function(t,e){t.storage[0]=t.storage[0]+e.storage[0],t.storage[1]=t.storage[1]+e.storage[1],t.storage[2]=t.storage[2]+e.storage[2]},n.simd.add=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.add(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.mul=function(t){return o.USE_SIMD()?n.simd.mul(this,t):n.scalar.mul(this,t),this},n.scalar.mul=function(t,e){t.storage[0]=t.storage[0]+e.storage[0],t.storage[1]=t.storage[1]+e.storage[1],t.storage[2]=t.storage[2]+e.storage[2]},n.simd.mul=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.mul(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.div=function(t){return o.USE_SIMD()?n.simd.div(this,t):n.scalar.div(this,t),this},n.scalar.div=function(t,e){t.storage[0]=t.storage[0]/e.storage[0],t.storage[1]=t.storage[1]/e.storage[1],t.storage[2]=t.storage[2]/e.storage[2]},n.simd.div=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.div(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.scale=function(t){return o.USE_SIMD()?n.simd.scale(this,t):n.scalar.scale(this,t),this},n.scalar.scale=function(t,e){t.storage[0]=t.storage[0]*e,t.storage[1]=t.storage[1]*e,t.storage[2]=t.storage[2]*e},n.simd.scale=function(t,e){n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,r.Float32x4(e,e,e,e)),n.simd.store(t)},n.prototype.scaled=function(t){var e=this.clone();return e.scale(t),e},n.prototype.reflect=function(t){var e=t.clone();return e.scale(2*t.dot(this)),this.sub(e),this},n.prototype.dot=function(t){return o.USE_SIMD()?n.simd.dot(this,t):n.scalar.dot(this,t)},n.scalar.dot=function(t,e){return t.storage[0]*e.x+t.storage[1]*e.y+t.storage[2]*e.z},n.simd.dot=function(t,e){return n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.mul(t.simd_storage,e.simd_storage),r.Float32x4.extractLane(t.simd_storage,0)+r.Float32x4.extractLane(t.simd_storage,1)+r.Float32x4.extractLane(t.simd_storage,2)},n.prototype.cross=function(t){return o.USE_SIMD()?n.simd.cross(this,t):n.scalar.cross(this,t)},n.scalar.cross=function(t,e){return new n(t.storage[1]*e.storage[2]-t.storage[2]*e.storage[1],t.storage[2]*e.storage[0]-t.storage[0]*e.storage[2],t.storage[0]*e.storage[1]-t.storage[1]*e.storage[0])},n.simd.cross=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.swizzle(t.simd_storage,1,2,0,3),e.simd_storage=r.Float32x4.swizzle(e.simd_storage,2,0,1,3);var a=r.Float32x4.mul(t.simd_storage,e.simd_storage);n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.swizzle(t.simd_storage,2,0,1,3),e.simd_storage=r.Float32x4.swizzle(e.simd_storage,1,2,0,3);var o=r.Float32x4.mul(t.simd_storage,e.simd_storage),s=r.Float32x4.sub(a,o);return new n(r.Float32x4.extractLane(s,0),r.Float32x4.extractLane(s,1),r.Float32x4.extractLane(s,2))},n.prototype.absolute=function(){o.USE_SIMD()?n.simd.absolute(this):n.scalar.absolute(this)},n.scalar.absolute=function(t){t.storage[0]=Math.abs(t.storage[0]),t.storage[1]=Math.abs(t.storage[1]),t.storage[2]=Math.abs(t.storage[2])},n.simd.absolute=function(t){n.simd.load(t),t.simd_storage=r.Float32x4.abs(t.simd_storage),n.store(t)},n.prototype.postmultiply=function(t){var e=t.storage,a=this.storage[0],o=this.storage[1],r=this.storage[2];return this.storage[0]=a*e[0]+o*e[1]+r*e[2],this.storage[1]=a*e[3]+o*e[4]+r*e[5],this.storage[2]=a*e[6]+o*e[7]+r*e[8],this},n.prototype.applyProjection=function(t){var e=t.storage,a=this.storage[0],o=this.storage[1],r=this.storage[2],n=1/(e[3]*a+e[7]*o+e[11]*r+e[15]);return this.storage[0]=(e[0]*a+e[4]*o+e[8]*r+e[12])*n,this.storage[1]=(e[1]*a+e[5]*o+e[9]*r+e[13])*n,this.storage[2]=(e[2]*a+e[6]*o+e[10]*r+e[14])*n,this},n.prototype.applyAxisAngle=function(t,e){return this.applyQuaternion(Quaternion.axisAngle(t,e)),this},n.prototype.applyQuaternion=function(t){var e=t.storage,a=this.storage[0],o=this.storage[1],r=this.storage[2],n=e[0],s=e[1],i=e[2],x=e[3],c=x*a+s*r-i*o,h=x*o+i*a-n*r,l=x*r+n*o-s*a,g=-n*a-s*o-i*r;return this.storage[0]=c*x+g*-n+h*-i-l*-s,this.storage[1]=h*x+g*-s+l*-n-c*-i,this.storage[2]=l*x+g*-i+c*-s-h*-n,this},n.prototype.applyMatrix3=function(t){var e=t.storage,a=this.storage[0],o=this.storage[1],r=this.storage[2];return this.storage[0]=e[0]*a+e[3]*o+e[6]*r,this.storage[1]=e[1]*a+e[4]*o+e[7]*r,this.storage[2]=e[2]*a+e[5]*o+e[8]*r,this},n.prototype.applyMatrix4=function(t){var e=t.storage,a=this.storage[0],o=this.storage[1],r=this.storage[2];return this.storage[0]=e[0]*a+e[4]*o+e[8]*r+e[12],this.storage[1]=e[1]*a+e[5]*o+e[9]*r+e[13],this.storage[2]=e[2]*a+e[6]*o+e[10]*r+e[14],this},n.prototype.clamp=function(t,e){return o.USE_SIMD()?n.simd.clamp(this,t,e):n.scalar.clamp(this,t,e),this},n.scalar.clamp=function(t,e,a){var o=e.storage,r=a.storage;t.storage[0]=Math.min(Math.max(t.storage[0],o[0]),r[0]),t.storage[1]=Math.min(Math.max(t.storage[1],o[1]),r[1]),t.storage[2]=Math.min(Math.max(t.storage[2],o[2]),r[2])},n.simd.clamp=function(t,e,a){n.simd.load(t),n.simd.load(e),n.simd.load(a);var o=r.Float32x4.max(t.simd_storage,e.simd_storage);t.simd_storage=r.Float32x4.min(o,a.simd_storage),n.simd.store(t)},n.prototype.clampScalar=function(t,e){return o.USE_SIMD()?n.simd.clampScalar(this,t,e):n.scalar.clampScalar(this,t,e),this},n.scalar.clampScalar=function(t,e,a){t.storage[0]=Math.min(Math.max(t.storage[0],e),a),t.storage[1]=Math.min(Math.max(t.storage[1],e),a),t.storage[2]=Math.min(Math.max(t.storage[2],e),a)},n.simd.clampScalar=function(t,e,a){n.simd.load(t);var o=r.Float32x4.max(t.simd_storage,r.Float32x4(e,e,e,e));t.simd_storage=r.Float32x4.min(o,r.Float32x4(a,a,a,a)),n.simd.store(t)},n.prototype.isNaN=function(){var t=!1;return t=(t=(t=t||this.storage[0].isNaN)||this.storage[1].isNaN)||this.storage[2].isNaN},n.prototype.isInfinite=function(){var t=!1;return t=(t=(t=t||this.storage[0].isInfinite())||this.storage[1].isInfinite())||this.storage[2].isInfinite()},n.prototype.toString=function(){return"[x="+this.storage[0]+", y="+this.storage[1]+", z="+this.storage[2]+"]"},n.prototype.length2=function(){return o.USE_SIMD()?n.simd.length2(this):n.scalar.length2(this)},n.scalar.length2=function(t){return t.storage[0]*t.storage[0]+t.storage[1]*t.storage[1]+t.storage[2]*t.storage[2]},n.simd.length2=function(t){return n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,t.simd_storage),r.Float32x4.extractLane(t.simd_storage,0)+r.Float32x4.extractLane(t.simd_storage,1)+r.Float32x4.extractLane(t.simd_storage,2)},n.prototype.normalize=function(){return o.USE_SIMD()?n.simd.normalize(this):n.scalar.normalize(this),this},n.scalar.normalize=function(t){var e=t.length;0!=e&&(e=1/e,t.storage[0]*=e,t.storage[1]*=e,t.storage[2]*=e)},n.simd.normalize=function(t){var e=t.length;0!=e&&(e=1/e,n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,r.Float32x4(e,e,e,e)),n.simd.store(t))},n.prototype.normalized=function(){return this.clone().normalize()},n.prototype.distanceToSquared=function(t){return o.USE_SIMD()?n.simd.distanceToSquared(this,t):n.scalar.distanceToSquared(this,t)},n.scalar.distanceToSquared=function(t,e){var a=t.x-e.x,o=t.y-e.y,r=t.z-e.z;return a*a+o*o+r*r},n.simd.distanceToSquared=function(t,e){return n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.sub(t.simd_storage,e.simd_storage),t.simd_storage=r.Float32x4.mul(t.simd_storage,t.simd_storage),r.Float32x4.extractLane(t.simd_storage,0)+r.Float32x4.extractLane(t.simd_storage,1)+r.Float32x4.extractLane(t.simd_storage,2)},n.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},n.prototype.angleTo=function(t){var e=t.storage;if(this.storage[0]==e[0]&&this.storage[1]==e[1]&&this.storage[2]==e[2])return 0;var a=this.dot(t);return Math.acos(Math.min(Math.max(a,-1),1))},n.prototype.angleToSigned=function(t,e){var a=this.angleTo(t);return this.cross(t).dot(e)<0?-a:a},n.prototype.floor=function(){return this.storage[0]=Math.floor(this.x),this.storage[1]=Math.floor(this.y),this.storage[2]=Math.floor(this.z),this},n.prototype.ceil=function(){return this.storage[0]=Math.ceil(this.x),this.storage[1]=Math.ceil(this.y),this.storage[2]=Math.ceil(this.z),this},n.prototype.round=function(){return this.storage[0]=Math.round(this.x),this.storage[1]=Math.round(this.y),this.storage[2]=Math.round(this.z),this},n.prototype.roundToZero=function(){return this.storage[0]=this.storage[0]<0?Math.ceil(this.storage[0]):Math.floor(this.storage[0]),this.storage[1]=this.storage[1]<0?Math.ceil(this.storage[1]):Math.floor(this.storage[1]),this.storage[2]=this.storage[2]<0?Math.ceil(this.storage[2]):Math.floor(this.storage[2]),this}},{"./common.js":10,"./matrix3.js":12,"./matrix4.js":13,simd:6}],22:[function(t,e,a){e.exports=n;var o=t("./common.js"),r=t("simd");function n(t,e,a,o){this.storage=new Float32Array([t,e,a,o]),this.simd_storage=null}n.simd={},n.scalar={},n.simd.load=function(t){t.simd_storage=r.Float32x4.load(t.storage,0)},n.simd.store=function(t){r.Float32x4.store(t.storage,0,t.simd_storage)},n.prototype.__defineGetter__("x",function(){return this.storage[0]}),n.prototype.__defineSetter__("x",function(t){this.storage[0]=t}),n.prototype.__defineGetter__("y",function(){return this.storage[1]}),n.prototype.__defineSetter__("y",function(t){this.storage[1]=t}),n.prototype.__defineGetter__("z",function(){return this.storage[2]}),n.prototype.__defineSetter__("z",function(t){this.storage[2]=t}),n.prototype.__defineGetter__("w",function(){return this.storage[3]}),n.prototype.__defineSetter__("w",function(t){this.storage[3]=t}),n.prototype.__defineGetter__("length",function(){return Math.sqrt(this.length2())}),n.prototype.__defineSetter__("length",function(t){o.USE_SIMD()?n.simd._setter_length(this,t):n.scalar._setter_length(this,t)}),n.scalar._setter_length=function(t,e){if(0==e)t.setZero();else{var a=this.length;if(0==a)return;a=e/a,t.storage[0]*=a,t.storage[1]*=a,t.storage[2]*=a,t.storage[3]*=a}},n.simd._setter_length=function(t,e){if(0==e)t.setZero();else{var a=t.length;if(0==a)return;a=e/a,n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,r.Float32x4(a,a,a,a)),n.simd.store(t)}},n.zero=function(){return new n(0,0,0,0)},n.prototype.setZero=function(){return this.storage[0]=0,this.storage[1]=0,this.storage[2]=0,this.storage[3]=0,this},n.fromFloat32Array=function(t){var e=n.zero();return e.storage=t,e},n.fromBuffer=function(t,e){var a=n.zero();return a.storage=new Float32Array(t,e,4),a.clone()},n.prototype.setValues=function(t,e,a){return this.storage[0]=t,this.storage[1]=e,this.storage[2]=a,this.storage[3]=a,this},n.copy=function(t){return new n(t.x,t.y,t.z,t.w)},n.all=function(t){var e=n.zero();return e.splat(t),e},n.identity=function(){var t=n.zero();return t.setIdentity(),t},n.prototype.setIdentity=function(){return this.storage[0]=0,this.storage[1]=0,this.storage[2]=0,this.storage[3]=1,this},n.min=function(t,e,a){o.USE_SIMD()?n.simd.min(t,e,a):n.scalar.min(t,e,a)},n.scalar.min=function(t,e,a){a.x=Math.min(t.x,e.x),a.y=Math.min(t.y,e.y),a.z=Math.min(t.z,e.z),a.w=Math.min(t.w,e.w)},n.simd.min=function(t,e,a){n.simd.load(t),n.simd.load(e),a.simd_storage=r.Float32x4.min(t.simd_storage,e.simd_storage),n.simd.store(a)},n.max=function(t,e,a){o.USE_SIMD()?n.simd.max(t,e,a):n.scalar.max(t,e,a)},n.scalar.max=function(t,e,a){a.x=Math.max(t.x,e.x),a.y=Math.max(t.y,e.y),a.z=Math.max(t.z,e.z),a.w=Math.max(t.w,e.w)},n.simd.max=function(t,e,a){n.simd.load(t),n.simd.load(e),a.simd_storage=r.Float32x4.max(t.simd_storage,e.simd_storage),n.simd.store(a)},n.mix=function(t,e,a,r){o.USE_SIMD()?n.simd.mix(t,e,a,r):n.scalar.mix(t,e,a,r)},n.scalar.mix=function(t,e,a,o){o.x=t.x+a*(e.x-t.x),o.y=t.y+a*(e.y-t.y),o.z=t.z+a*(e.z-t.z),o.w=t.w+a*(e.w-t.w)},n.simd.mix=function(t,e,a,o){n.simd.load(t),n.simd.load(e);var s=r.Float32x4.sub(e.simd_storage,t.simd_storage),i=r.Float32x4.mul(s,r.Float32x4(a,a,a,a));o.simd_storage=r.Float32x4.add(t.simd_storage,i),n.simd.store(o)},n.prototype.clone=function(){return n.copy(this)},n.prototype.setFrom=function(t){return this.storage[0]=t.storage[0],this.storage[1]=t.storage[1],this.storage[2]=t.storage[2],this.storage[3]=t.storage[3],this},n.prototype.splat=function(t){return o.USE_SIMD()?n.simd.splat(this,t):n.scalar.splat(this,t),this},n.scalar.splat=function(t,e){t.storage[0]=e,t.storage[1]=e,t.storage[2]=e,t.storage[3]=e},n.simd.splat=function(t,e){n.simd.load(t),t.simd_storage=r.Float32x4.splat(e),n.simd.store(t)},n.prototype.almostEquals=function(t,e){return void 0===e&&(e=o.EPSILON),o.USE_SIMD()?n.simd.almostEquals(this,t,e):n.scalar.almostEquals(this,t,e)},n.scalar.almostEquals=function(t,e,a){return!(Math.abs(this.x-e.x)>a||Math.abs(this.y-e.y)>a||Math.abs(this.z-e.z)>a||Math.abs(this.w-e.w)>a)},n.simd.almostEquals=function(t,e,a){return n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.sub(t.simd_storage,e.simd_storage),t.simd_storage=r.Float32x4.abs(t.simd_storage),t.simd_storage=r.Float32x4.greaterThan(t.simd_storage,r.Float32x4(a,a,a,a)),!(r.Bool32x4.extractLane(t.simd_storage,0)||r.Bool32x4.extractLane(t.simd_storage,1)||r.Bool32x4.extractLane(t.simd_storage,2)||r.Bool32x4.extractLane(t.simd_storage,3))},n.prototype.equals=function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z&&this.w==t.w},n.prototype.almostZero=function(t){return void 0===t&&(t=o.EPSILON),!(Math.abs(this.x)>t||Math.abs(this.y)>t||Math.abs(this.z)>t||Math.abs(this.w)>t)},n.prototype.isZero=function(){return 0==this.x&&0==this.y&&0==this.z&&0==this.w},n.prototype.negate=function(){return o.USE_SIMD()?n.simd.negate(this):n.scalar.negate(this),this},n.scalar.negate=function(t){t.storage[0]=-t.storage[0],t.storage[1]=-t.storage[1],t.storage[2]=-t.storage[2],t.storage[3]=-t.storage[3]},n.simd.negate=function(t){n.simd.load(t),t.simd_storage=r.Float32x4.neg(t.simd_storage),n.simd.store(t)},n.prototype.sub=function(t){return o.USE_SIMD()?n.simd.sub(this,t):n.scalar.sub(this,t),this},n.scalar.sub=function(t,e){t.storage[0]=t.storage[0]-e.storage[0],t.storage[1]=t.storage[1]-e.storage[1],t.storage[2]=t.storage[2]-e.storage[2],t.storage[3]=t.storage[3]-e.storage[3]},n.simd.sub=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.sub(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.add=function(t){return o.USE_SIMD()?n.simd.add(this,t):n.scalar.add(this,t),this},n.scalar.add=function(t,e){t.storage[0]=t.storage[0]+e.storage[0],t.storage[1]=t.storage[1]+e.storage[1],t.storage[2]=t.storage[2]+e.storage[2],t.storage[3]=t.storage[3]+e.storage[3]},n.simd.add=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.add(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.mul=function(t){return o.USE_SIMD()?n.simd.mul(this,t):n.scalar.mul(this,t),this},n.scalar.mul=function(t,e){t.storage[0]=t.storage[0]+e.storage[0],t.storage[1]=t.storage[1]+e.storage[1],t.storage[2]=t.storage[2]+e.storage[2],t.storage[3]=t.storage[3]+e.storage[3]},n.simd.mul=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.mul(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.div=function(t){return o.USE_SIMD()?n.simd.div(this,t):n.scalar.div(this,t),this},n.scalar.div=function(t,e){t.storage[0]=t.storage[0]/e.storage[0],t.storage[1]=t.storage[1]/e.storage[1],t.storage[2]=t.storage[2]/e.storage[2],t.storage[3]=t.storage[3]/e.storage[3]},n.simd.div=function(t,e){n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.div(t.simd_storage,e.simd_storage),n.simd.store(t)},n.prototype.scale=function(t){return o.USE_SIMD()?n.simd.scale(this,t):n.scalar.scale(this,t),this},n.scalar.scale=function(t,e){t.storage[0]=t.storage[0]*e,t.storage[1]=t.storage[1]*e,t.storage[2]=t.storage[2]*e,t.storage[3]=t.storage[3]*e},n.simd.scale=function(t,e){n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,r.Float32x4(e,e,e,e)),n.simd.store(t)},n.prototype.scaled=function(t){return this.clone().scale(t),this},n.prototype.reflect=function(t){var e=t.clone();return e.scale(2*t.dot(this)),this.sub(e),this},n.prototype.dot=function(t){return o.USE_SIMD()?n.simd.dot(this,t):n.scalar.dot(this,t)},n.scalar.dot=function(t,e){return t.storage[0]*e.x+t.storage[1]*e.y+t.storage[2]*e.z+t.storage[3]*e.w},n.simd.dot=function(t,e){return n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.mul(t.simd_storage,e.simd_storage),r.Float32x4.extractLane(t.simd_storage,0)+r.Float32x4.extractLane(t.simd_storage,1)+r.Float32x4.extractLane(t.simd_storage,2)+r.Float32x4.extractLane(t.simd_storage,3)},n.prototype.absolute=function(){o.USE_SIMD()?n.simd.absolute(this):n.scalar.absolute(this)},n.scalar.absolute=function(t){t.storage[0]=Math.abs(t.storage[0]),t.storage[1]=Math.abs(t.storage[1]),t.storage[2]=Math.abs(t.storage[2]),t.storage[3]=Math.abs(t.storage[3])},n.simd.absolute=function(t){n.simd.load(t),t.simd_storage=r.Float32x4.abs(t.simd_storage),n.store(t)},n.prototype.clamp=function(t,e){return o.USE_SIMD()?n.simd.clamp(this,t,e):n.scalar.clamp(this,t,e),this},n.scalar.clamp=function(t,e,a){var o=e.storage,r=a.storage;t.storage[0]=Math.min(Math.max(t.storage[0],o[0]),r[0]),t.storage[1]=Math.min(Math.max(t.storage[1],o[1]),r[1]),t.storage[2]=Math.min(Math.max(t.storage[2],o[2]),r[2]),t.storage[3]=Math.min(Math.max(t.storage[3],o[3]),r[3])},n.simd.clamp=function(t,e,a){n.simd.load(t),n.simd.load(e),n.simd.load(a);var o=r.Float32x4.max(t.simd_storage,e.simd_storage);t.simd_storage=r.Float32x4.min(o,a.simd_storage),n.simd.store(t)},n.prototype.clampScalar=function(t,e){return o.USE_SIMD()?n.simd.clampScalar(this,t,e):n.scalar.clampScalar(this,t,e),this},n.scalar.clampScalar=function(t,e,a){t.storage[0]=Math.min(Math.max(t.storage[0],e),a),t.storage[1]=Math.min(Math.max(t.storage[1],e),a),t.storage[2]=Math.min(Math.max(t.storage[2],e),a),t.storage[3]=Math.min(Math.max(t.storage[3],e),a)},n.simd.clampScalar=function(t,e,a){n.simd.load(t);var o=r.Float32x4.max(t.simd_storage,r.Float32x4(e,e,e,e));t.simd_storage=r.Float32x4.min(o,r.Float32x4(a,a,a,a)),n.simd.store(t)},n.prototype.isNaN=function(){var t=!1;return t=(t=(t=(t=t||this.storage[0].isNaN)||this.storage[1].isNaN)||this.storage[2].isNaN)||this.storage[3].isNaN},n.prototype.isInfinite=function(){var t=!1;return t=(t=(t=(t=t||this.storage[0].isInfinite())||this.storage[1].isInfinite())||this.storage[2].isInfinite())||this.storage[3].isInfinite()},n.prototype.toString=function(){return"[x="+this.storage[0]+", y="+this.storage[1]+", z="+this.storage[2]+", w= "+this.storage[3]+"]"},n.prototype.length2=function(){return o.USE_SIMD()?n.simd.length2(this):n.scalar.length2(this)},n.scalar.length2=function(t){return t.storage[0]*t.storage[0]+t.storage[1]*t.storage[1]+t.storage[2]*t.storage[2]+t.storage[3]*t.storage[3]},n.simd.length2=function(t){return n.simd.load(t),t.simd_storage=r.Float32x4.mul(t.simd_storage,t.simd_storage),r.Float32x4.extractLane(t.simd_storage,0)+r.Float32x4.extractLane(t.simd_storage,1)+r.Float32x4.extractLane(t.simd_storage,2)+r.Float32x4.extractLane(t.simd_storage,3)},n.prototype.normalize=function(){return o.USE_SIMD()?n.simd.normalize(this):n.scalar.normalize(this),this},n.scalar.normalize=function(t){var e=t.length;0!=e&&(e=1/e,t.storage[0]*=e,t.storage[1]*=e,t.storage[2]*=e,t.storage[3]*=e)},n.simd.normalize=function(t){var e=t.length;0!=e&&(n.simd.load(t),t.simd_storage=r.Float32x4.div(t.simd_storage,r.Float32x4(e,e,e,e)),n.simd.store(t))},n.prototype.normalized=function(){return this.clone().normalize()},n.prototype.distanceToSquared=function(t){return o.USE_SIMD()?n.simd.distanceToSquared(this,t):n.scalar.distanceToSquared(this,t)},n.scalar.distanceToSquared=function(t,e){var a=t.x-e.x,o=t.y-e.y,r=t.z-e.z,n=t.w-e.w;return a*a+o*o+r*r+n*n},n.simd.distanceToSquared=function(t,e){return n.simd.load(t),n.simd.load(e),t.simd_storage=r.Float32x4.sub(t.simd_storage,e.simd_storage),t.simd_storage=r.Float32x4.mul(t.simd_storage,t.simd_storage),r.Float32x4.extractLane(t.simd_storage,0)+r.Float32x4.extractLane(t.simd_storage,1)+r.Float32x4.extractLane(t.simd_storage,2)+r.Float32x4.extractLane(t.simd_storage,3)},n.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},n.prototype.angleTo=function(t){var e=t.storage;if(this.storage[0]==e[0]&&this.storage[1]==e[1]&&this.storage[2]==e[2]&&this.storage[3]==e[3])return 0;var a=this.dot(t);return Math.acos(Math.min(Math.max(a,-1),1))},n.prototype.floor=function(){return this.storage[0]=Math.floor(this.x),this.storage[1]=Math.floor(this.y),this.storage[2]=Math.floor(this.z),this.storage[3]=Math.floor(this.w),this},n.prototype.ceil=function(){return this.storage[0]=Math.ceil(this.x),this.storage[1]=Math.ceil(this.y),this.storage[2]=Math.ceil(this.z),this.storage[3]=Math.ceil(this.w),this},n.prototype.round=function(){return this.storage[0]=Math.round(this.x),this.storage[1]=Math.round(this.y),this.storage[2]=Math.round(this.z),this.storage[3]=Math.round(this.w),this},n.prototype.roundToZero=function(){return this.storage[0]=this.storage[0]<0?Math.ceil(this.storage[0]):Math.floor(this.storage[0]),this.storage[1]=this.storage[1]<0?Math.ceil(this.storage[1]):Math.floor(this.storage[1]),this.storage[2]=this.storage[2]<0?Math.ceil(this.storage[2]):Math.floor(this.storage[2]),this.storage[3]=this.storage[3]<0?Math.ceil(this.storage[3]):Math.floor(this.storage[3]),this}},{"./common.js":10,simd:6}],23:[function(t,e,a){e.exports={version:t("../package.json").version,common:t("./common.js"),Vector2:t("./vector2.js"),Vector3:t("./vector3.js"),Vector4:t("./vector4.js"),Matrix2:t("./matrix2.js"),Matrix3:t("./matrix3.js"),Matrix4:t("./matrix4.js"),Quaternion:t("./quaternion.js"),Plane:t("./plane.js"),Sphere:t("./sphere.js"),Ray:t("./ray.js"),Triangle:t("./triangle.js")}},{"../package.json":8,"./common.js":10,"./matrix2.js":11,"./matrix3.js":12,"./matrix4.js":13,"./plane.js":14,"./quaternion.js":16,"./ray.js":17,"./sphere.js":18,"./triangle.js":19,"./vector2.js":20,"./vector3.js":21,"./vector4.js":22}]},{},[23]);